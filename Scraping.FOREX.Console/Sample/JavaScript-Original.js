function cookies() {
    return {
        set: function (n, t, i, r, u) {
            var f = new Date, e;
            f.setTime(f.getTime() + i * 864e5); e = n + "=" + t + (i != !1 ? ";expires=" + f.toUTCString() : "") + (r ? ";path=" + r : "") + (u ? ";domain=" + u : ""); document.cookie = e
        }, sessionCookie: function (n, t) { document.cookie = n + "=" + t + "; " }, get: function (n) { for (var t, r = n + "=", u = document.cookie.split(";"), i = 0; i < u.length; i++) { for (t = u[i]; t.charAt(0) == " ";)t = t.substring(1); if (t.indexOf(r) == 0) return t.substring(r.length, t.length) } return "" }, remove: function (n) { this.set(n, "", -1) }
    }
} function misc() { function s(n) { var t = n.nextAll("[data-sectionbg='alternate']"); t.filter(":even").removeClass("section-default").addClass("section-light"); t.filter(":odd").removeClass("section-light").addClass("section-default") } var n = $(window), t, o = $("body"), i = $.viewport.getSize().width, r = $.viewport.getSize().height, u = $.viewport.currentDevice(), f, e; n.on("resize", function () { var e = $.viewport.getSize().width, t, f; if (i != e) { if (window.isIE8) return; i = e; n.trigger("resize:width", i); t = $.viewport.currentDevice(); t != u && (u = t, n.trigger("resize:device", u)) } f = $.viewport.getSize().height; r != f && (r = f, n.trigger("resize:height", r)) }); o.on("click", "[data-toggle-class]", function (n) { n.preventDefault(); var t = $(this), i = t.data("toggleClass"); t.toggleClass(i) }).on("click", "[data-toggle-parent-class]", function (n) { n.preventDefault(); var t = $(this), i = t.data("toggleParentClass"); t.parent().toggleClass(i) }).on("click", "[data-modal-href]", function () { var n = $(this).data("modalHref"); return n.indexOf("http") == 0 ? window.location.href = n : openModalPopup($(n)), !1 }).on("click tap", "[data-scroll-to-element]", function () { var n = $(this); return $(n.data("scrollToElement")).scrollToElement(), !1 }).on("focusin", "input,textarea,select", function (n) { t = $(n.target) }).on("focusout", "input,textarea,select", function () { t = null }).on("click", "[data-google-tracking-event]", function () { var n = $(this).data("googleTrackingEvent"); typeof googleTagManagerDataLayer != "undefined" && googleTagManagerDataLayer.push({ event: n }) }); (window.navigator.userAgent.indexOf("MSIE ") > -1 || window.navigator.userAgent.indexOf("Trident/") > -1) && $(".hero__headline span, .master-markets__title span, .listing-item__title span, .page__title span, .hover-state__content-hover p, .block__group-item-headline span").each(function () { for (var n, t = [], i = 0; i < this.childNodes.length; i++)n = this.childNodes[i], n.nodeType === 3 && n.data ? n.data.trim().split(" ").forEach(function (n, i, r) { var u = $("<span/>").text(n + (i < r.length - 1 ? " " : "")); t.push(u) }) : t.push($(n)); $(this).html(t).addClass("IE") }); n.on("orientationchange", function () { t && setTimeout(function () { n.scrollTop(t.offset().top) }, 500) }); $.viewport.isMobile() || $("a[href^='tel:']").each(function () { $(this).removeAttr("href").addClass("disable-href") }); f = $("[data-img-align='center']"); e = $("[data-img-align='center'] > img"); e.each(function () { var n = $(this).height(), t = f.height(); this.style.top = Math.round((t - n) / 2) + "px" }); n.on("load resize", function () { if ($.viewport.isMobile()) { var n = $(".member__image"); n.each(function () { var n = $(this).width(); this.style.maxHeight = Math.round(n / 1.5) + "px" }) } }); $("[data-function='matchHeights']").each(function () { $(this).children().matchHeight() }); $("[data-pagination-options]").each(function () { var n = $(this); n.pagination(n.data("paginationOptions")) }); $("[data-add-pagination]").each(function () { var n = $(this); n.addPagination(n.data("addPagination")) }); $.executeAfterCssIsLoaded("cssIsLoaded", function () { $(".section-wrapper").filter("[data-carousel='true']").each(function () { var n = $(this), i = n.data("sliderAuto"), u = n.data("sliderSpeed") || 4e3, f = n.data("sliderAdaptiveHeight"), e = { auto: typeof i == "undefined" ? !0 : i, controls: !1, autoHover: !0, pause: u, adaptiveHeight: f }, t = n.find(".carousel"), r; if ($.each(t.children(), function (n, t) { t.removeAttribute("hidden") }), t.children().length > 1) { r = t.bxSlider(e); n.on("dform.initialized", "form", function () { r.reloadSlider() }) } }) }); $(".generic-hero-section[data-has-inner-hero-options='false']").each(function () { var n = $(this); n.next().hasClass("generic-content-section") && n.attr("data-has-generic-content-after", "true") }), function () { var n = $("[data-sectionbg='alternate']"); n.filter(":odd").removeClass("section-light").addClass("section-default"); n.filter(":even").removeClass("section-default").addClass("section-light") }(); $(".secondary-hero,[data-sectionbg-invert='alternate'],.description + .description").each(function () { s($(this)) }); $("[data-pointer=true]").each(function () { var i = $(this), r = i.next(), u = i.css("background-image"), f = r.css("background-image"), n, t; u && u !== "none" && (!f || f === "none") && (n = r.css("background-color"), (typeof n == "undefined" || n === "transparent" || n.replace(/ /g, "") === "rgba(0,0,0,0)") && (n = "#fff"), t = $("<div>").addClass("pointer"), t.append($("<div>").addClass("pointer-left").css("border-bottom-color", n)), t.append($("<div>").addClass("pointer-right").css("border-bottom-color", n)), i.addClass("data-pointer").removeAttr("data-pointer").append(t), r.addClass("data-pointer-next")) }); $(".text-to-link-section").each(function () { var n = $(this), t = prepareSearchText(n.data("searchText")), i = n.data("ignoreSelector"), r = n.data("urlFormat"), u = !!n.data("addTrailingSlash"); textToLinks(t.searchText, function (n, i) { var f = r + t.replacementObj[i]; return u && (f += "/"), "<a href='" + f + "'>" + i + "<\/a>" }, n.prev(), i) }); $("footer .section-wrapper").each(function () { var n = $(this), t = n.find(".wrapper"); t.text().trim() === "" && n.css("display", "none") }); $("[data-chosen-select]").chosenSelect(); $("[data-share-this]").shareThis(); $(".tooltip").each(function () { $(this).applyTooltip() }); $("[data-tooltip]").each(function () { var n = $(this), t = $("<p>").html(n.data("tooltip")).wrap("<div>").parent().addClass("tooltip__content"); n.applyTooltip({ content: t[0].outerHTML, theme: "tooltipster-data-tooltip" }) }); $("[data-article-icon]").each(function () { var n = $(this), i = $("<span>"), r = n.data("articleIcon"), t = { "background-image": "url('" + r + "')" }; n.css(t).append(i.css(t)) }); $("[data-modal-display-on-load='true']").each(function () { openModalPopup($(this)) }); $("form[data-dform-variable]").each(function () { function o(n) { for (var i = n.split("-"), r = "(^", t = 0; t < i.length; t++)r += "\\d{" + i[t].length + "}" + (i.length == t + 1 ? "" : "-"); return r + ")$" } var f = function (n, t, i, r) { var u; if (!t || $.isEmptyObject(t)) return n; var s = t.reduce(function (n, t) { return n[t[i]] = t, n }, {}), f = [], o = function (n, t, i) { var r, u; if (n[i] && t[n[i]]) return $.extend(n, t[n[i]]), n; for (r in n) if (n.hasOwnProperty(r) && typeof n[r] == "object" && (u = o(n[r], t, i), u)) return u }, e = function (n, t, i, r) { var u, f; if (n[t] && n[t] == i) return r ? n : !0; for (u in n) if (n.hasOwnProperty(u) && typeof n[u] == "object" && (f = e(n[u], t, i, r), f)) return r ? f : !0 }, h = function (n, t) { var i, r; if (n[t]) return n; for (i in n) if (n.hasOwnProperty(i) && typeof n[i] == "object" && (r = h(n[i], t), r)) return r }, c = function (n) { for (var i, r = {}, t = n.length - 1; t >= 0; t--)i = JSON.stringify(n[t]), r[i] ? n.splice(t, 1) : r[i] = !0; return n }; return $.each(n, function (n, t) { var u = $.extend({}, t); t[r.name] && t[r.name] == r.value ? (o(t, s, i), f.push(u)) : o(t, s, i) && f.push(u) }), u = [], $.each(t, function (n, t) { if (t[i]) { var r = t[i]; $.each(f, function (n, t) { var f = e(t, i, r); f && u.push(t) }) } }), $.each(f, function (n, r) { var s = $.inArray(r, u), f = h(r, "optionsSource"), o, c; f && (f.options = f.data, f.conditions && (f.conditions["default"] = f.conditions["default"] || { mapname: "xdxdxd" }, o = e(t, i, f.conditions["default"].mapname.replace("_map", ""), !0), o ? f.conditions["default"] && $.extend(!0, f.conditions["default"].html, o) : delete f.conditions["default"], o = e(t, i, f.conditions.SubOptions.mapname.replace("_map", ""), !0), o && ($.extend(!0, f.conditions.SubOptions.dropdown, o), c = $.extend({}, f.conditions.SubOptions), $.each(f.options, function (n, t) { f.conditions.hasOwnProperty(t.Value) || t.Children && t.Children.length > 0 && (f.conditions[t.Value] = $.extend(!0, {}, c), f.conditions[t.Value].dropdown.options = t.Children) }))), r && r.dropdown && (r.dropdown = f), s >= 0 && (u[s] = r)); s < 0 && u.push(r) }), u = c(u) }, n = $(this), t = window[n.data("dformVariable")], r, u, i; if (t.html.cols ? (r = [], $.each(t.html.cols, function (t, i) { var u = f(i, window[n.data("dformVariable") + "_picked"], "name", { name: "join", value: "false" }); r.push(u) }), t.html.cols = r, window[n.data("dformVariable")] = t) : (t = f(t.html, window[n.data("dformVariable") + "_picked"], "name", { name: "join", value: "false" }), window[n.data("dformVariable")].html = t), t = window[n.data("dformVariable")], n.dform(t).addClass("form dform"), form(n, { mustHideLabelsForMobile: typeof t.mustHideLabelsForMobile == "undefined" ? !0 : t.mustHideLabelsForMobile }), $.isFunction(t.postRender) && t.postRender(n), $(".form-multiCol").each(function () { $(this).children().matchHeight() }), n.bind("invalid-form.validate", function () { var t = n.find(".form-div-hidden input.error"); t.length && !t.valid() && $("[data-required-relation='name=" + t.attr("name") + "']").show() }), $.viewport.isMobile() && n.find("input:text, textarea").attr({ autocorrect: "off", autocomplete: "off" }), u = n.find("select").filter(function () { return this.name.toLowerCase() == "country" }), i = n.find("input").filter(function () { return this.name.toLowerCase() == "phone" }), u.length && i.length && !i.data("noMaskedInput")) { u.on("change", e); e(); function e() { var r = i.data("validation"), u = r && r.messages ? r.messages : {}, f = $(this).find(":selected"), n = { messages: {} }, t; i.rules().pattern && i.rules("remove", "pattern"); t = f.data("PhoneFormat"); typeof t != "undefined" && t.length ? (i.mask(t.replace(/[^-)(]/g, "9"), { autoclear: !1 }), n.pattern = new RegExp(o(t)), n.messages.pattern = u.pattern ? u.pattern.replace("{PhoneFormat}", t) : "") : (n.pattern = new RegExp("^[\\d-]+$"), n.messages.pattern = u.numbersOnly || "", i.unmask().val(i.val().replace(/[-_]/g, ""))); n.messages.pattern.length !== 0 && i.rules("add", n); i.hasClass("error") && i.valid() } } n.trigger("dform.initialized"); n.find("select").each(function () { var n = $(this); n.val() != null && n.val().length && n.trigger("change") }) }) } function productTabs() { $(".product__details-cta-link").each(function () { var n = $(this); n.toggleClass("collapsed").find(".collapse").hide(); n.on("click", function (n) { var t = $(this), i = $("." + t.attr("href").replace("__cta-link", "__wrapper")); t.find("span").toggle(); i.slideToggleSpeed(); n.preventDefault() }) }); var n = window.location.hash.replace("#", ""); $(".tabs__list:not([data-tabs-handler='false'])").attr("role", "tablist").children(".tabs__item").attr("role", "presentation").find(".tabs__link").attr("role", "tab").each(function () { var t = $(this), n = t.attr("href"), i = t.parents(".tabs__list").attr("data-hx"), r = t.parents(".tabs__list").attr("data-existing-hx"), u = t.html(); typeof i != "undefined" && i !== "undefined" && i !== "" && $(n).prepend("<" + i + ' class="invisible" tabindex="0">' + u + "<\/" + i + ">"); typeof r != "undefined" && r !== "undefined" && r !== "" && $(n).find(r + ":first-child").attr("tabindex", 0); typeof n != "undefined" && n !== "" && n !== "#" ? (n = n.replace("#", ""), t.attr({ "aria-controls": n, tabindex: -1, "aria-selected": "false" })) : t.remove(); t.removeAttr("href") }); $(".tabs__tabcontent").attr({ role: "tabpanel", "aria-hidden": "true" }).each(function () { var n = $(this); n.attr("aria-labelledby", "label_" + n.attr("id")) }); n !== "" && ($("#" + n + ".tabs__tabcontent").removeAttr("aria-hidden"), $("#label_" + n + ".tabs__link").attr({ "aria-selected": "true", tabindex: 0 })); n !== "" && $("#" + n + ".tabs__tabcontent").length === 0 && $(".tabs__tabcontent").each(function () { var t = $(this), i = t.attr("id"); t.find("#" + n).length && (t.removeAttr("aria-hidden"), $("#label_" + i + ".tabs__link").attr({ "aria-selected": "true", tabindex: 0 })) }); $(".tabs").each(function () { var n = $(this); n.find('.tabs__link[aria-selected="true"]').length === 0 && (n.find(".tabs__link:first").attr({ "aria-selected": "true", tabindex: 0 }), n.find(".tabs__tabcontent:first").removeAttr("aria-hidden")) }); $("body").on("click", ".tabs__list:not([data-tabs-handler='false']) .tabs__link", function (n) { var i = $(this), t = i.parents(".tabs"), r = t.attr("data-hx"); t.find(".tabs__link").attr({ tabindex: -1, "aria-selected": "false" }); i.attr({ "aria-selected": "true", tabindex: 0 }); t.find(".tabs__tabcontent").attr("aria-hidden", "true"); $("#" + i.attr("aria-controls")).removeAttr("aria-hidden"); t.trigger("tabChanged", n); n.preventDefault() }).on("keydown", ".tabs", function (n) { var t = $(this), i, r = !1; $(document.activeElement).is(t.find(".tabs__link")) && (r = !0); r && !n.ctrlKey && (n.keyCode == 37 || n.keyCode == 38 ? (i = t.find('.tabs__link[aria-selected="true"]').parent(), i.is(".tabs__item:first-child") ? t.find(".tabs__item:last-child a").click().focus() : i.prev().children(".tabs__link").click().focus(), n.preventDefault()) : n.keyCode == 40 || n.keyCode == 39 ? (i = t.find('.tabs__link[aria-selected="true"]').parent(), i.is(".tabs__item:last-child") ? t.find(".tabs__item:first-child a").click().focus() : i.next().children(".tabs__link").click().focus(), n.preventDefault()) : n.keyCode == 36 ? (t.find(".tabs__item:first-child a").click().focus(), n.preventDefault()) : n.keyCode == 35 && (t.find(".tabs__item:last-child a").click().focus(), n.preventDefault())) }).on("keydown", ".tabs__tabcontent", function (n) { var i = $(this), r, t; (n.keyCode == 37 || n.keyCode == 38) && n.ctrlKey && (r = i.attr("aria-labelledby"), $("#" + r).focus(), n.preventDefault()); n.keyCode == 33 && n.ctrlKey && ($tab_focused = i.attr("aria-labelledby"), $("#" + $tab_focused).focus(), t = $("#" + $tab_focused).parent(), t.is(".tabs__item:first-child") ? t.parent().find(".tabs__item:last-child a").click().focus() : t.prev().children(".tabs__link").click().focus(), n.preventDefault()); n.keyCode == 34 && n.ctrlKey && ($tab_focused = i.attr("aria-labelledby"), $("#" + $tab_focused).focus(), t = $("#" + $tab_focused).parent(), t.is(".tabs__item:last-child") ? t.parent().find(".tabs__item:first-child a").click().focus() : t.next().children(".tabs__link").click().focus(), n.preventDefault()) }) } function keyBenefits(n) { function w(n) { i = n; a(n) } function a(n) { var t = p * (1 - n.width() / n.parent().outerWidth()) || 4; n.animate({ width: "100%" }, t, "linear", function () { h.goToNextSlide() }) } var c = 1023, v = $(window), f = $(n), r = f.find(".key-benefits__slider"), t = f.find(".key-benefits__slider-nav"), y = r.data("sliderAdaptiveHeight") || !1, p = r.data("sliderSpeed") || 4e3, u = 6, s = r.data("auto") || !1, i, e = { minSlides: 4, maxSlides: u, slideWidth: t.parent().width() / u, slideMargin: .5, moveSlides: 4, auto: !1, infiniteLoop: !1, pager: !1, speed: 500, controls: f.parent().width() >= c, oneToOneTouch: !1 }, l = { infiniteLoop: !0, controls: !1, adaptiveHeight: y, pager: !1, onSlideBefore: function (n, i, r) { var f = t.find("a[data-slide-index='" + r + "']"), h = f.siblings(".active").removeClass("active"), e; h.find(".key-benefits__slider-nav-item-progress").stop().css("width", ""); f.addClass("active"); s ? ($.viewport.isDesktop() && (e = Math.floor((r + 1) / u), o && o.goToSlide(e)), w(f.find(".key-benefits__slider-nav-item-progress"))) : t.attr("data-hide-progress", "true") }, onSliderLoad: function (n) { l.onSlideBefore("", "", n) } }, o, h; t.children().length < u && t.addClass("key-benefits__slider-nav--centered"); o = t.bxSlider(e); h = r.bxSlider(l); v.on("resize:width", function () { e.controls = f.parent().width() >= c; e.slideWidth = t.closest(".wrapper").width() / u; o.reloadSlider(e) }); t.on("click", "a", function (n) { n.preventDefault(); s = !1; i && i.stop(); h.goToSlide($(this).data("slideIndex")) }); r.parent().hover(function () { i && i.stop() }, function () { s && a(i) }) } function platformComparison() { function h() { var s = $(".comparison__table .wrapper").width(), t = 3, o; $.viewport.isMobile() ? (r.hide(), i.css("width", "").find("table td").css({ width: "", height: "" })) : ($.viewport.isTablet() && (t = 2), u = s / (t + 1), i.find("table td").css("width", u), v(i), o = f.height() / 2 - 40, a(o), n = 0, i.scrollLeft(n * u), r.toggle(e > t)) } function l() { function f(n, t, i) { n.find("td").each(function (n) { var u = $("<li>").addClass(n == 0 ? " active" : ""), r = $(this).find("h2:eq(0)"); r.length && r.find("img").length && r.text(r.find("img").attr("alt")); u.append(r.addClass("comparison__table-mobile-menu-headline")); r.append($("<span>").addClass("comparison__table-mobile-menu-action").addClass(n == 0 ? "" : "open")); t.append(u); i[n] = $("<table>").css("display", n == 0 ? "" : "none") }) } function e(n, t, i) { var r; i != 0 && (r = n.find("td:eq(0)>h2:eq(0)").clone()); n.find("td").each(function (n, u) { var f = $("<tr>").addClass(i % 2 == 0 ? "even" : "odd"); n != 0 && r && r.length && $(u).prepend(r.clone()); f.append(u); t[n].append(f) }) } var u = $("<div>").addClass("comparison__table comparison__table-mobile"), n = $("<ul>").addClass("comparison__table-mobile-menu"), r = []; i.children("table").each(function (t) { var i = $(this).clone(); t == 0 && f(i, n, r); e(i, r, t) }); n.children("li").each(function (n) { $(this).append(r[n]) }); u.append(n); t.append(u) } function a(n) { r.find(".comparison__action").each(function () { $(this).css("top", n) }) } function c() { var t = n * Math.floor(u) - 2; i.animate({ scrollLeft: t }, "slow") } function v(n) { n.each(function () { var n = $(this); n.find("td").css("height", n.find("td").first().css("height", "").height() + 40) }) } var u, n = 0, o = $(window), t = $(".platform-comparison-section"), f; t.closest(".wrapper").css({ "max-width": "none", "padding-left": 0, "padding-right": 0 }); f = t.children(".comparison__table:eq(1)"); t.children(".comparison__table:nth-child(odd)").addClass("odd"); t.children(".comparison__table:last-child").addClass("last-child"); f.addClass("comparison__table-header"); var e = f.find("td").length - 1, r = t.find(".comparison__actions"), i = t.find(".comparison__table-row"), s = 2500; o.on("load", function () { l(); h() }); o.on("resize:width", function () { h() }); r.find(".comparison__left").click(function (t) { t.preventDefault(); n != 0 && (n-- , c()) }); r.find(".comparison__right").click(function (t) { t.preventDefault(); var i = $.viewport.isTablet() ? 2 : 3; n !== e - i && n != e && (n++ , c()) }); t.on("click", ".comparison__table-mobile-menu-headline", function () { var n = $(this).closest("li"), t = n.find(".comparison__table-mobile-menu-action"); n.hasClass("active") ? (t.addClass("open"), n.removeClass("active").children("table").slideUpSpeed(s)) : (t.removeClass("open"), n.scrollToElement(), n.addClass("active").children("table").slideDownSpeed(s)) }) } function multiColModule() { $(".multi-col__content").each(function () { var n = $(this), t, i, r, u; n.data("matchHeight") != !1 && (t = n.children(".col"), t.matchHeight(), i = t.find(".multi-col__description"), typeof n.data("custom") == "undefined" || n.data("custom") || i.length && $.trim(i.html()).length != 0 || n.attr("data-no-description", "true"), r = n.closest(".multi-col-section").data("displayAs"), $.viewport.isDesktop() && (n.data("divider") == !0 || r === "block") && (u = t.map(function () { return $(this).height() }).get(), maxHeight = Math.max.apply(null, u), t.each(function () { $(this).height(maxHeight) }))) }) } function latestResearch(n) { function e() { i.children("li:nth-child(even)").addClass("nth-child-even"); i.children("li:nth-child(16n+4)").addClass("nth-child-16n-4"); i.children("li:nth-child(16n+11)").addClass("nth-child-16n-11") } function s(n) { function e(n) { i.children().each(function (t, i) { var r = $(i); r[n]("no-transition"); r.is(".top-story") && r.find("a, p, span").each(function (t, i) { $(i)[n]("no-transition") }) }) } function o(n) { e("addClass"); n.hasClass("is-active") || (r.toggleClass("research-grid"), f.toggleClass("is-active")); setTimeout(function () { e("removeClass") }, 0) } var f = n.find(".research__switch-trigger"); n.on("click", ".research__switch-grid", function (n) { n.preventDefault(); var i = $(this), r = $.updateQueryString("view", null, t.option("get", "pageHref")); t.option("set", "pageHref", r); t.update(); o(i); u() }).on("click", ".research__switch-list", function (n) { n.preventDefault(); var i = $(this), r = $.updateQueryString("view", "list", t.option("get", "pageHref")); t.option("set", "pageHref", r); t.update(); o(i); u() }); f.filter(".is-active").click() } function h() { function n() { $.viewport.isMobile() ? i.find(".research-article__teaser").dotdotdot({ watch: "window", wrap: "letter" }) : i.find(".research-article__teaser").trigger("destroy") } u(); $(window).on("resize:device", function () { n() }); n() } function u() { var n = $("ul").hasClass("research__list"); $.each($.fn.matchHeight._groups, function () { this.byRow = n }); r.hasClass("research-grid") ? i.each(function () { $(this).children("li").matchHeight(n) }) : i.each(function () { $(this).children("li").matchHeight("remove") }) } function c(i, r) { function wt(n) { $.each(n.ResearchArticleDetailPage, function (n, t) { yt === 1 && n === 1 && d.length && i.append(d[0].outerHTML); pt === 1 && n === 8 && g.length && i.append(g[0].outerHTML); var r = bt(t, vt); i.append(r); r.find(".research-article__teaser").dotdotdot() }); e(); u() } function bt(n, t) { var i = $(t.html()), r, u; return n.Top_Story ? (i.addClass("top-story"), i.find(".research-article__teaser").remove()) : (i.find(".research-article__headline").remove(), i.find(".research-article__teaser").text(n.Teaser)), i.find(".research-article__title-link").text(n.Headline).attr("href", n.ArticleUrl), r = i.find(".research-article__author"), r.after(ut(n.Authors, r, "Author_Name", "Id")), r.remove(), i.find(".research-article__date").append(n.ArticleDateFormat), u = i.find(".article-tags__link"), u.after(ut(n.RelatedTags, u, "Tag_Name", "Id")), u.remove(), i } function ut(n, t, i, r) { var u = []; return n != null && $.each(n, function (n, f) { var e = t.clone().text(f[i]); e.attr("href", e.attr("href") + f[r]); e.attr("data-value", f[r]); u.push(e[0].outerHTML) }), u.join(", ") } function kt(n) { var t = { authors: [], tags: [] }; return n.each(function () { var n = $(this), i = "tags"; n.is("[data-filter-type='author']") && (i = "authors"); t[i].push({ id: n.data("value"), name: n.data("name") }) }).get(), t } function ft() { return kt(h.find(".research-filter__tagged-close")) } function v() { return ft() } function et(n) { f.reset(n || ft()) } function y(n, t, i) { $.each(n, function (n, r) { var u = $(t.html()); u.find(".research-filter__tagged-text").html("&nbsp; " + r.name); u.find(".research-filter__tagged-close").attr("data-value", r.id).attr("data-name", r.name).attr("data-filter-type", i); h.append(u.html()) }) } function ot(t) { if (h.empty(), t.tags.length || t.authors.length) { var i = n.find("#taggedTemplate"); y(t.tags, i, "tag"); y(t.authors, i, "author"); o.addClass("not-empty") } else o.removeClass("not-empty"); et(t) } function st(n, t) { var i = t.authors.length ? t.authors.map(function (n) { return n.id }).join() : null, r = $.updateQueryString("authors", i, n), u = t.tags.length ? t.tags.map(function (n) { return n.id }).join() : null; return $.updateQueryString("tags", u, r) } function dt(n, t, i) { var r = st(location.href, n), u; r = $.updateQueryString("pagenum", t === 1 ? null : t, r); i || (u = { pageNumber: t, filters: n }, rt ? (history && history.replaceState(u, "", r), rt = !1) : history && history.pushState(u, "", r)) } function gt(n, r, u, f) { p.hide(); dt(r, u, f); t.option("set", "pageHref", st(t.option("get", "pageHref"), r)); ot(r); c && u !== 1 || i.empty(); c || t.update(n.TotalPageCount, u); t.toggle(!c); tt.toggle(c && n.TotalPageCount > u); n.TotalPageCount != null && n.TotalPageCount !== 0 ? wt(n) : (p.show(), t.option("set", "pagesCount", 0), t.update(0, u)) } function s(t, i, r) { w.show(); $.ajax({ url: at.replace("{tags}", encodeURIComponent(t.tags.map(function (n) { return n.id }).join())).replace("{authors}", encodeURIComponent(t.authors.map(function (n) { return n.id }).join())), data: { pageNum: i } }).done(function (u) { a.trigger("header:forceHide", function () { gt(u, t, i, r); n.isVisibleOnScreen() ? a.trigger("header:resetHide") : n.scrollToElement(function () { a.trigger("header:resetHide") }) }) }).always(function () { w.hide() }) } function ni(n, t) { function u(t, u) { t ? (i.stop().slideDownSpeed(), u && u.noScroll || n.scrollToElement()) : i.show(); r.text(r.data("activetext")) } function f(n) { n ? i.stop().slideUpSpeed() : i.hide(); r.text(r.data("statictext")) } var i = n.find(".fixed-menu__hideable-content"), r = t.find("span[data-statictext][data-activetext]"); t.on("click", function (n, i) { t.toggleClass("open"); var r = $.viewport.isDesktop(); t.hasClass("open") ? u(r, i) : f(r, i) }) } function ht() { if ($.viewport.isDesktop()) { var n = v(); s(n, 1, !1); f.set(n) } it = !0 } var p = n.find(".research__nothing-found"), w = n.find(".spinner").hide(), b = r.find(".fixed-menu__toggle > h2.filter"), o = $(".research-filter__tagged"), h = o.find(".research-filter__tagged-tags"), a = $("#header"), k = r.find(":not(.research-filter__save-settings)>:checkbox"), ct = b.find(".research-filter__badge"), lt = r.find(".research-filter__save-settings>:checkbox"), f = new l(k, ct, lt), at = n.data("ajaxUrl"), vt = n.find("#articleTemplate"), d = i.find("#livePromo2Template.research__item").clone(), yt = i.find("#livePromo2Template").length ? 1 : 0, g = i.find("#livePromo10Template.research__item").clone(), pt = i.find("#livePromo10Template").length ? 1 : 0, nt = t.currentPage, c = $.viewport.isMobile(), tt = n.find(".pagination__load-more"), it = !1, rt = !0; o.on("click", ".research-filter__tagged-close", function () { var n = $(this).data("value"), t = f.currentState.tags.filter(function (t) { return t.id !== n }), i = f.currentState.authors.filter(function (t) { return t.id !== n }); return s({ tags: t, authors: i }, 1, !1), !1 }); ni(r, b); k.on("change", function () { var t = $(this), i; t.is(":checked") ? (i = n.find("#taggedTemplate"), y([{ id: t.data("value"), name: t.data("name") }], i, t.data("filterType")), ht()) : o.find("[data-value='" + t.data("value") + "']").trigger("click") }); h.children().length === 0 && (f.currentState.authors.length > 0 || f.currentState.tags.length > 0) ? (ot(f.currentState), ht()) : et(); n.on("click", ".pagination__link", function (n) { if (it) { n.preventDefault(); var t = $(this).data("pageIndex"); t && s(v(), t) } }); n.on("click", ".article-tags__link", function (n) { n.preventDefault(); var i = $(this).data("value"), t = ($.getQueryString("tags", location.href) || "").split(","); t.indexOf(i) === -1 && t.push(i); t = t.filter(function (n) { return n !== "" }); location.href = $.updateQueryString("tags", t.join(","), location.href) }); n.on("click", ".research-article__author", function (n) { n.preventDefault(); var i = $(this).data("value"), t = ($.getQueryString("authors", location.href) || "").split(","); t.indexOf(i) === -1 && t.push(i); t = t.filter(function (n) { return n !== "" }); location.href = $.updateQueryString("authors", t.join(","), location.href) }); tt.on("click", function (n) { n.preventDefault(); nt++; s(v(), nt) }); window.onpopstate = function (n) { n.state && s(n.state.filters, n.state.pageNumber, !0) } } function l(n, t, i) { var r = this; return r.RESEARCH_FILTER_STATE = "researchFilterState", r.currentState = { tags: [], authors: [] }, r.shouldSaveState = i.length && localStorage.getItem(r.RESEARCH_FILTER_STATE), r.set = function (n) { r.currentState = n; r._saveState(); r._updateBadge(r.currentState.length) }, r.reset = function (t) { var i, u, f; t && (r.currentState = t); i = r.currentState.tags.map(function (n) { return n.id }); u = r.currentState.authors.map(function (n) { return n.id }); n.each(function () { var n = $(this); n.prop("checked", i.indexOf(n.data("value")) !== -1 || u.indexOf(n.data("value")) !== -1) }); f = n.filter(":checked").length; r._updateBadge(f); r._saveState() }, r._updateBadge = function (n) { n === 0 ? t.hide() : (t.text(n), t.css("display", "inline-block")) }, r._saveState = function () { r.shouldSaveState ? localStorage.setItem(r.RESEARCH_FILTER_STATE, JSON.stringify(r.currentState)) : localStorage.removeItem(r.RESEARCH_FILTER_STATE) }, i.length && i.prop("checked", r.shouldSaveState).on("change", function () { r.shouldSaveState = $(this).is(":checked"); r._saveState() }), r.shouldSaveState && (r.currentState = JSON.parse(localStorage.getItem(r.RESEARCH_FILTER_STATE))), r.reset(), r } var r = n.find(".research"), f = r.find(".research__switch"), i = r.find(".research__list"), o = r.find(".research-filter-section"), t = n.find(".pagination").data("pagination"); e(); f.length && s(f); i.length && h(); c(i, o) } function form(n, t) { function u(n) { return !r(n, "required") || n.is(":not(:checkbox)") && n.val().length > 0 || n.is(":checked") } function f(n) { return !n.val().length || !r(n, "pattern") || new RegExp(n.attr("pattern")).test(n.val()) } function e(n) { if (r(n, "data-required-relation")) { var t = i.find(n.data("requiredRelation")); return t.is(":not(:checkbox)") && t.val().length > 0 || t.is(":checked") || n.is(":not(:checkbox)") && n.val().length > 0 || n.is(":checked") } return !0 } function r(n, t) { var i = n.attr(t); return typeof i != typeof undefined && i !== !1 } var i = $(n); if (t.mustHideLabelsForMobile && i.find("input:not(:checkbox,:radio,[type=hidden]), textarea, select").each(function () { $(this).hideLabelOnMobile() }), t.mustValidate) { i.find("input, textarea, select").change(function (n) { $(n.currentTarget).closest(".form-div").removeClass("invalid-control") }); i.find("button[type=submit],input[type=submit]").click(function () { var n = !0; return i.find("input:not(:disabled), textarea:not(:disabled), select:not(:disabled)").each(function () { var t = $(this), i; if (t.parent().hasClass("chosen-search")) return !0; i = u(t) && f(t) && e(t); i || (n = !1); t.closest(".form-div").toggleClass("invalid-control", !i) }), n }); i.on("click", ".invalid-control .form-validation-message", function () { $(this).closest(".invalid-control").removeClass("invalid-control") }) } } function myAccount(n) { function t(n, t) { switch (!0) { case /iphone|ipod/i.test(t): return n.iosIphone; case /ipad/i.test(t): return n.iosIpad; case /android/i.test(t): return n.android; case /windows/i.test(t): return n.windows }return n.desktop } n && $(n).each(function () { var n = $(this), i = n.data("appLink") || navigator.userAgent, r = n.data("appLinksJson") || n.data(), u = t(r, i.toLowerCase()); n.click(function () { window.location.href = u }) }) } function selectDates() { $(".live-trading-rail-module, .webinar-registration-section").each(function () { var r = $(this), i = r.find(".webinar-registration__webinar-error"); i.hide(); var u = $("input[name='SelectedLiveTrdSessions']"), t = r.find(".webinar-registration__webinar-date"), n = r.find(".webinar-registration__webinar-date.selected").length; t.applyTooltip({ content: i.data("errorMessage"), theme: "tooltipster-error", autoClose: !1, speed: 0, trigger: "custom", animation: "none", minWidth: 200 }); t.click(function (r) { var f = $(r.currentTarget), o = n, e; f.hasClass("selected") ? (f.removeClass("selected"), n--) : n < 3 && (f.addClass("selected"), n++); selectedDates = []; t.filter(".selected").each(function () { selectedDates.push($(this).data("webinarDate")) }); selectedDates.length > 0 ? (u.val(JSON.stringify(selectedDates)), i.hide()) : (i.show(), u.val("")); t.tooltipster("hide"); o == n && o == 3 && (e = "top", $.viewport.isMobile() && (e = f.offset().left >= $.viewport.getSize().width / 2 ? "top-right" : "top-left"), f.tooltipster("option", "position", e).tooltipster("show")) }); n == 0 && t.first().click() }) } function liveTradingSessionsConfirmation(n) { var t = n.find(".live-trading-sessions__add-to-calendar"); t.each(function () { var n = $(this); n.on("click", "a.atcb-link", function () { t.each(function () { $(this).removeClass("open") }); n.addClass("open") }).on("click", "a.atcb-item-link", function () { n.removeClass("open") }) }); $("body, html").on("click", function (n) { $(n.target).closest(".addtocalendar").length || t.removeClass("open") }) } function openModalPopup(n) { var t = typeof n == "string" ? $(".MODAL_NAME_" + n) : n, u = $(window), i, r; t.dialog("instance") && t.dialog("destroy"); i = t.data("modalOptions") || {}; r = { autoOpen: !0, dialogClass: typeof i.displayCloseButton == "undefined" || i.displayCloseButton ? "" : "ui-dialog-hide-close", width: "auto", maxWidth: 900, minWidth: 300, draggable: !1, closeOnEscape: i.closeOnEscape, resizable: !1, position: { my: "center top", at: "center top+20", of: window }, closeText: "&times;", modal: !0, show: { effect: "fade", duration: 500 }, hide: { effect: "fade", duration: 500 }, create: function () { var n = $(this), i = n.find(".gain-custom-form"), t; i.length && (t = i.css("width"), parseFloat(t) ? n.children(".wrapper").css("max-width", t) : n.children(".wrapper").css("max-width", "")) }, open: function () { if (i.closeOnOutsideClick) $(".ui-widget-overlay").one("click", function () { t.dialog("instance") && t.dialog("close") }); t.one("click", ".close", function () { t.dialog("instance") && t.dialog("close") }) } }; $.viewport.isMobile() && $.extend(r, { maxWidth: 768 }); u.on("resize:width orientationchange", function () { t.dialog("option", "position", t.dialog("option", "position")) }); t.dialog(r) } function conquerTheMarkets() { $(".conquer-markets-section").each(function () { var n = $(this), t = n.find(".conquer-markets__slides-wrapper"), r, u, i; ($.each(t.children(), function (n, t) { t.removeAttribute("hidden") }), t.children().length < 2) || (r = n.data("sliderSpeed") || 4e3, u = n.data("sliderAuto") || !1, n.data("sliderType") === "mobile" ? (i = n.find(".conquer-markets__slides-headers").bxSlider({ infiniteLoop: !0, controls: !1, pager: !1, touchEnabled: !1, auto: u, pause: r }), t.bxSlider({ infiniteLoop: !1, controls: !1, onSlideBefore: function (n) { if (i.length) { var t = n.data("slideHeaderIndex"); t != i.getCurrentSlide() && i.goToSlide(t) } } })) : t.bxSlider({ infiniteLoop: !0, controls: !1, auto: u, pause: r })) }) } function tradingHours() { function t() { var t = $(this), u = t.find("tr:eq(0)").children(), f = t.find("tr:gt(0)"), e = u.length, i = $("<table/>"), n, r; for (i.addClass("mobile-only-table"), n = 0; n < e; n++)r = $("<td>"), r.attr("colspan", 2).text(u[n].innerText), i.append($("<tr>").addClass("heading").append(r)), n > 0 && f.each(function (t) { var u = $(this), r = $("<tr>").addClass(t % 2 == 0 ? "even" : "odd"); r.append($("<td>").html($(u.children()[0]).html())); r.append($("<td>").html($(u.children()[n]).html())); i.append(r) }); t.addClass("mobile-hidden"); t.after(i) } var n = $(".trading-hours__rtf-block table"); n.each(t) } function knowledgeCenter(n) { function o(n) { var t = $("<select>"); return n.each(function () { var n = $(this), i = $("<option>"); i.attr("value", n.data("filterContent")).text(n.text()); n.hasClass("selected") && i.attr("selected", "selected"); t.append(i) }), t } function s(n, t) { for (var r, u, f = $(t), e = f.find("li"), o = 2, s = Math.round(e.length / o), i = 0; i < o; i++)r = $("<div>").addClass("knowledge-center__questions-listing-col"), u = i * s, r.append(e.slice(u, u + s)), f.append(r) } var f = $(window), r = n.find(".knowledge-center__tabs-filters"), t = r.find("ul > li"), e = n.find(".knowledge-center__questions-listing"), i, u; if (n.data("onePage") && (u = n.find(".knowledge-center__item"), n.find(".knowledge-center-filter-module .category-filter__list").hideShowItem(u, window.location.hash)), e.each(s), t.length) { i = o(t); r.append(i); i.on("change", function (n, i) { var r = $(this); t.filter("[data-filter-content='" + r.val() + "']").trigger("click", i) }); f.on("resize:device", function () { i.find(":selected").removeAttr("selected"); var n = t.filter(".selected").data("filterContent"); i.find("[value='" + n + "']").attr("selected", "selected") }); t.on("click", function (n, t) { n.preventDefault(); var i = $(this), r = i.closest(".knowledge-center__item").find("[data-filter]"), f = i.data("filterContent"), e = !f || f == "all", u = e ? "*" : "[data-filter='" + f + "']"; i.siblings().removeClass("selected"); i.hasClass("selected") || (i.addClass("selected"), t ? (r.filter(u).addClass("active").finish().show(), r.filter(":not(" + u + ")").removeClass("active").hide(), t()) : (r.filter(u).addClass("active").finish().slideDown("slow"), r.filter(":not(" + u + ")").removeClass("active").finish().slideUp("slow"))) }) } $(window).on("load", function () { var f = window.location.search.indexOf("faqid"), e, r, o, u; f != -1 && (e = window.location.search.slice(f + 6), r = n.find("#" + e), r.length && (o = r.closest(".knowledge-center__group").data("filter"), u = $("#header"), u.trigger("header:forceHide", function () { var n = function () { r.scrollToElement(function () { u.trigger("header:resetHide") }) }; t.length && t.filter(".selected").data("filterContent") !== "all" ? i.val(o).trigger("change", n) : n() }))) }); n.on("click", ".knowledge-center__read-more", function (n) { n.preventDefault(); $(this).closest(".knowledge-center__question").addClass("show-read-more") }) } function platformHandbooks(n) { function i(n, t) { var o = $(t), s = o.find("li"), r = 3, u, i, f, e; for ($.viewport.isMobile() && (r = 2), u = Math.ceil(s.length / r), i = 0; i < r; i++)f = $("<div>").addClass("platform-handbooks__anchor-list-col"), e = i * u, f.append(s.slice(e, e + u)), o.append(f) } var r = $(window), t; $(".platform-handbooks-filter-module .category-filter__list").hideShowItem(n, window.location.hash); t = n.find(".platform-handbooks__anchor-list"); t.each(i); r.on("resize:device", function () { t.each(i) }) } function articleDetailFilter() { function d(n, t, i) { var r = n.parent(); s.hasClass("fixed-menu-open") ? (a(), r.hasClass(t) ? (s.removeClass("fixed-menu-open").trigger("toggle-fixed-menu"), r.removeClass(t)) : r.removeClass(i).addClass(t)) : (s.addClass("fixed-menu-open").trigger("toggle-fixed-menu"), r.addClass(t)) } function g() { u = n.find("[name='filter[]']:checked").map(function () { return $(this).data("value") }).get(); h = o.text() } function a() { n.find("[name='filter[]']").attr("checked", !1); n.find("[name='filter[]']").each(function () { u.indexOf($(this).data("value")) !== -1 && (this.checked = !0) }); o.html(h); f = !1 } function nt(n, t) { sessionStorage.setItem(c, JSON.stringify({ articles: n, filters: t })) } function rt(n) { t = n.articles; u = n.filters; h = t ? t.length : 0; a(); y(n.articles) } function v() { t = ut(); f = !0; t.done(function (n) { o.html(n.length) }) } function ut() { var t = new $.Deferred, i = n.find("[name='filter[]']:checked").map(function () { return $(this).data("value") }).get().join(); return $.ajax({ url: tt + encodeURIComponent(i) }).done(function (n) { n.EducationTopicDetailPage == null && (n.EducationTopicDetailPage = []); t.resolve(n.EducationTopicDetailPage) }).fail(function () { t.resolve([]) }), t.promise() } function y(n, t, u) { t && k.trigger("click", !0); var e = i.find("#articleTemplate"), o = $(e.html()), s = r.find("ul").empty(), h = location.pathname + (location.pathname[location.pathname.length - 1] === "/" ? "" : "/"), f = !1; $.each(n, function () { var n, i, r, t; u && f && (ft(this.Url, this.Navigation_Title), f = !1); n = $("<li/>"); h.toLowerCase() === this.Url.toLowerCase() && (n.addClass("active"), f = !0); n.append(o.clone()); n.children("a").attr("href", this.Url); i = n.find("#icon-image"); i.attr("data-article-type-default", "white"); this.IconPath && this.IconPath !== "" && (r = "url('" + this.IconPath + "')", i.css("background-image", r).append($("<span>").css("background-image", r))); t = n.find(".topics-list__article-title"); this.Teaser || t.addClass("no-teaser"); t.children().first().before(this.Navigation_Title); t.children(".topics-list__article-teaser").text(this.Teaser); s.append(n) }); p() } function p() { function u() { r.destroyScrollbar && r.destroyScrollbar().css("height", "") } var t, n, i; e ? (t = 0, n = r.find(".fixed-menu__hideable-content-list > *"), n.length > w ? (n.filter(":lt(" + w + ")").each(function () { t += $(this).outerHeight(!0) }), i = {}, n.filter(".active").length > 0 && (i.scrollTo = n.filter(".active")), r.css("height", t + "px").applyScrollbar({ contentElementSelector: ".fixed-menu__hideable-content-list", alwaysVisible: !0, disableResize: !0 }).nanoScroller(i)) : u()) : u() } function ft(n, t) { var i = $(".article__next-topic"); n ? (i.children("a").attr("href", n).text(t), i.show()) : i.hide() } function et() { v(); t.done(function (n) { y(n, !1, !0); g(); sessionStorage.getItem(l) && (sessionStorage.removeItem(l), rt(JSON.parse(sessionStorage.getItem(c)))); nt(n, u); p() }) } var i = $(".education-article-detail-filter"), n = i.find(".filters"), o = i.find(".badge"), tt = n.data("ajaxUrl"), s = $("html"), r = i.find(".fixed-menu__hideable-content.topics"), w = 6, t, u = [], h = 0, f = !1, c = "articleDetailFilter", l = "articleDetailFilter.filtered", b = n.find("#filterResults"), k = i.find(".fixed-menu__toggle .pull-right"), it = i.find(".fixed-menu__toggle .pull-left"), e = $.viewport.isDesktop(); et(); $(window).on("resize:device", function () { e = $.viewport.isDesktop(); p(); n.css("display", "") }); it.on("click", function () { d($(this), "topics-open", "filter-open") }); k.on("click", function (t, i) { if (e) { n.is(":visible") ? (i || a(), n.slideUp("slow")) : n.slideDown("slow"); return } i || d($(this), "filter-open", "topics-open") }); b.on("click", function (n) { n.preventDefault(); f && (t || v(), t.done(function (n) { y(n, !0); f = !1; g(); nt(n, u) })) }); n.find("[name='filter[]']").on("change", function () { v(); e || b.click() }); r.on("click", "a", function (n) { n.preventDefault(); var t = $(this).attr("href"); sessionStorage.getItem(c) && sessionStorage.setItem(l, "true"); location.href = t }) } function crossDomainIframe() { return { message: function (n, t) { var i = window.addEventListener ? "addEventListener" : "attachEvent", r = window[i], u = i == "attachEvent" ? "onmessage" : "message"; r(u, function (i) { if (n && i.origin.replace("https:", "http:") == n) { var r = i.message ? "message" : "data", u = i[r]; t(u) } }, !1) }, postMessage: function (n, t) { parent.postMessage(t, n) } } } function gftWithdrawal() { var n = $(".gft-withdrawal"), t; n.find("#allFunds").change(function () { n.find("#amount").closest(".form-div").toggle() }); t = n.find(".gft-withdrawal__form-hidden"); t.hide().find("input,select,textarea").attr("disabled", "disabled"); n.find("#preferredMethod").siblings(".dropdown").on("changed", function (n, i) { t.hide().find("input,select,textarea").attr("disabled", "disabled"); t.filter($(i).data("show")).show().find("input,select,textarea").removeAttr("disabled") }) } function economicCalendar(n) { var r = $(".economic__change-timezone"), i = r.find("select.economic__change-timezone-dropdown"), t; i.find("[value='" + n.timezone + "']").attr("selected", "selected"); i.chosenSelect({ width: "100%", inherit_select_classes: !0 }); i.on("change", function (t) { var i = $(t.currentTarget).children(":selected").val(); $(n.gridSelector).trigger("timezonechanged", i); r.removeClass("open") }); if (!n.rightRail) { t = $(n.gridSelector); t.scrollToOpenedElement({ relativeElementsSelector: ".fxit-eventrow", onWindowResize: function () { t.one("eventclosed", function () { t.data("scrollToOpenedElement").setOffsetFromElement() }); t.trigger("closeopenevent") } }); t.on("datareceived", function () { t.data("scrollToOpenedElement").setOffsetFromElement() }).on("openingevent", function (n, i) { t.data("scrollToOpenedElement").setOpeningElementPosition($(i)) }) } $.fxStreetEconomicCalendar(n); jQuery.moveColumn = function (n, t, i) { var u = jQuery("tr", n), r; u.each(function () { r = jQuery(this).children("th, td"); r.eq(t).detach().insertBefore(r.eq(i)) }) } } function newsletter(n) { $(document).ready(function () { var t = $(n), r = t.data("ajaxUrl"), i = t.find("form"); i.submit(function (n) { return n.preventDefault(), i.valid() && $.ajax({ url: r, type: "POST", data: i.serialize() }).done(function () { var n = t.find("#newsletterSuccessTemplate").html(); t.html(n) }).fail(function () { var n = t.find("#newsletterFailedTemplate").html(); t.html(n) }), !1 }) }) } function textToLinks(n, t, i, r) { function f(n, i) { if (!i || !i.data || !u.test(i.data)) return i; var r = $("<div/>"); $.isFunction(t) ? r.append(i.data.replace(u, function (i) { return t(n, i) })) : r.append(i.data.replace(u, t)); n.insertBefore(r[0], i); n.removeChild(i) } if (n && typeof t != "undefined") { r = r ? "," + r : ""; i = i || $("body"); var u = typeof n == "string" ? new RegExp(n, "g") : n; i.find(":not(style,link,meta,script,object,iframe,a,a *" + r + ")").each(function (n, t) { for (var r, i = 0; i < t.childNodes.length; i++)r = t.childNodes[i], f(t, r) }) } } function prepareSearchText(n) { n = n || ""; var t = {}, i = []; return $.each(n.split("|"), function () { var n = this.split("~"), r; t[n[0]] = n[1]; i.push(n[0]); n[0].indexOf("/") != -1 && (r = n[0].replace("/", ""), t[r] = n[1], i.push(r)) }), { replacementObj: t, searchText: i.join("|") } } function internationalLandingPage(n) { function i(n, t) { var i = n.find(":selected"), r = i.data("NotAvailable") === "true"; r ? n.closest("form").find(".international__error-message").addClass("active") : (n.closest("form").find(".international__error-message").removeClass("active"), i.data("WsEntity") && cookies().set("wsEntity", i.data("WsEntity"), 360, "/", $("body").data("cookie")), i.data("WsEntityLang") && cookies().set("wsEntityLang", i.data("WsEntityLang"), 360, "/", $("body").data("cookie")), $.isFunction(t) ? t() : location.href = "/?redirect=" + i.data("WsEntity") + "-" + i.data("WsEntityLang")) } var t = n.find(".international__dropdown-module form"); window[t.data("dformVariable")].beforeNavigate = function (n, t) { i(n, t) }; t.on("changed.dform.no-navigate", "select", function (n) { var t = $(n.currentTarget); i(t) }); n.find(".international__map-pin").each(function () { var t = $(this); t.tooltipster({ animation: "fade", content: n.find(".international__map-description[data-country='" + t.data("country") + "']").html(), contentAsHTML: !0, delay: 200, interactive: !0, theme: "tooltipster-default", trigger: "hover", arrow: !1 }) }) } function bannerArea(n) { function t(n) { function r() { if ($.viewport.isMobile()) i(); else { var n = $.viewport.isTablet() ? 3 : 5, r = t.$wrapper.width() / n; if (n >= t.slidesCount) { i(); t.$slides.addClass("no-slider").children().width(r - 10); return } u(n, r) } } function i() { t.interval && clearInterval(t.interval); t.$controls.hide(); t.$slides.removeClass("no-slider").children().attr("width", "").width(""); t.slider && (t.slider.destroySlider(), t.slider = null) } function u(n, i) { var r = e(n, i); t.slider ? t.slider.reloadSlider(r) : t.slider = t.$slides.bxSlider(r); o(); t.$controls.show() } function e(n, t) { return { slideWidth: t, minSlides: 1, maxSlides: n, moveSlides: 1, auto: !1, pager: !1, controls: !1 } } function o() { t.autoSlide && (t.interval && clearInterval(t.interval), t.interval = setInterval(function () { t.slider.goToNextSlide() }, t.sliderSpeed)) } function f() { t.autoSlide && (t.autoSlide = !1, clearInterval(t.interval)) } var t = this; t.$element = n; t.$wrapper = t.$element.find(".banner-area__wrapper"); t.$controls = t.$wrapper.find(".bx-controls-direction"); t.$slides = t.$element.find(".banner-area__items"); t.sliderSpeed = t.$element.data("sliderSpeed") || 4e3; t.autoSlide = t.$element.data("sliderAuto") || !1; t.slidesCount = t.$slides.children().length; t.$controls.on("click", "button.bx-prev", function (n) { n.preventDefault(); f(); t.slider.goToPrevSlide() }); t.$controls.on("click", "button.bx-next", function (n) { n.preventDefault(); f(); t.slider.goToNextSlide() }); r(); $(window).on("resize:width", function () { r() }); return { create: u, destroy: i } } n.each(function () { var n = $(this); n.find(".banner-area__wrapper").removeAttr("hidden"); new t(n); n.addClass("banner-area--loaded") }) } function blocks(n) { n.each(function () { function u() { function o(n, t, i, r) { i ? s(t.children(), r - 10) : n.children().height(r) } function s(n, t) { function e(i, r) { r > t / 2 ? i.height(t - r) : n.height(t / 2) } var i = n.eq(0), r = i.height(), u = n.eq(1), f = u.height(); r > f ? e(u, r) : e(i, f) } if (!$.viewport.isMobile()) { var u = !0, i = r.height(); i < t.height() && (u = !1, i = t.height()); e <= 2 ? n.children().height(i) : f == "left" ? o(r, t, u, i) : o(t, r, !u, i) } } var i = $(this), f = i.data("layout"), e = i.data("items"), n = i.find(".block__group-col"), r = n.eq(0), t = n.eq(1); u(); $(window).on("load resize:width", function () { n.children().css("height", ""); u() }) }) } function productSummaryDetails(n) { var t = $("body"), i = $(".header"); n.each(function () { var r, n = $(this), u = n.find("[data-for-product]"); t.on("product-summary:changeTab", function (t, i) { r = i; var f = u.filter("[data-for-product='" + r + "']"); f.length && (n.is(":visible") ? n.fadeOutIn(function () { u.removeClass("active"); f.addClass("active") }) : (u.removeClass("active"), f.addClass("active"))) }); t.on("product-summary:toggle", function (u, f) { typeof r == "undefined" && t.trigger("product-summary:changeTab", f.tab); n.slideToggleSpeed(); f.state || i.trigger("header:forceHide", function () { n.scrollToElement(function () { i.trigger("header:resetHide") }) }) }) }) } function addAdditionalClasses() { $("body").addClass(additionalClasses); $.viewport.isTablet() || $("body").removeClass("touch").addClass("no-touch") } function getRefQueryParam(n) { return n = n.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]"), n = RegExp("[\\?&]" + n + "=([^&#]*)").exec(document.referrer), n == null ? "" : n[1] } function getReferrer() { return document.referrer != null ? document.referrer : "" } function getSearchTerms() { var n = getRefQueryParam("p").toString(), t = getRefQueryParam("q").toString(), i = getRefQueryParam("query").toString(); return n.length > 0 ? n : t.length > 0 ? t : i.length > 0 ? i : "" } var additionalClasses, ua, isAndroid, requirejs, require, define; (function (n) { "function" == typeof define && define.amd ? define(["jquery"], n) : n(jQuery) })(function (n) { function s(t, i) { var r, u, f, e = t.nodeName.toLowerCase(); return "area" === e ? (r = t.parentNode, u = r.name, t.href && u && "map" === r.nodeName.toLowerCase() ? (f = n("img[usemap='#" + u + "']")[0], !!f && h(f)) : !1) : (/^(input|select|textarea|button|object)$/.test(e) ? !t.disabled : "a" === e ? t.href || i : i) && h(t) } function h(t) { return n.expr.filters.visible(t) && !n(t).parents().addBack().filter(function () { return "hidden" === n.css(this, "visibility") }).length } function b(n) { for (var t, i; n.length && n[0] !== document;) { if (t = n.css("position"), ("absolute" === t || "relative" === t || "fixed" === t) && (i = parseInt(n.css("zIndex"), 10), !isNaN(i) && 0 !== i)) return i; n = n.parent() } return 0 } function c() { this._curInst = null; this._keyEvent = !1; this._disabledInputs = []; this._datepickerShowing = !1; this._inDialog = !1; this._mainDivId = "ui-datepicker-div"; this._inlineClass = "ui-datepicker-inline"; this._appendClass = "ui-datepicker-append"; this._triggerClass = "ui-datepicker-trigger"; this._dialogClass = "ui-datepicker-dialog"; this._disableClass = "ui-datepicker-disabled"; this._unselectableClass = "ui-datepicker-unselectable"; this._currentClass = "ui-datepicker-current-day"; this._dayOverClass = "ui-datepicker-days-cell-over"; this.regional = []; this.regional[""] = { closeText: "Done", prevText: "Prev", nextText: "Next", currentText: "Today", monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], weekHeader: "Wk", dateFormat: "mm/dd/yy", firstDay: 0, isRTL: !1, showMonthAfterYear: !1, yearSuffix: "" }; this._defaults = { showOn: "focus", showAnim: "fadeIn", showOptions: {}, defaultDate: null, appendText: "", buttonText: "...", buttonImage: "", buttonImageOnly: !1, hideIfNoPrevNext: !1, navigationAsDateFormat: !1, gotoCurrent: !1, changeMonth: !1, changeYear: !1, yearRange: "c-10:c+10", showOtherMonths: !1, selectOtherMonths: !1, showWeek: !1, calculateWeek: this.iso8601Week, shortYearCutoff: "+10", minDate: null, maxDate: null, duration: "fast", beforeShowDay: null, beforeShow: null, onSelect: null, onChangeMonthYear: null, onClose: null, numberOfMonths: 1, showCurrentAtPos: 0, stepMonths: 1, stepBigMonths: 12, altField: "", altFormat: "", constrainInput: !0, showButtonPanel: !1, autoSize: !1, disabled: !1 }; n.extend(this._defaults, this.regional[""]); this.regional.en = n.extend(!0, {}, this.regional[""]); this.regional["en-US"] = n.extend(!0, {}, this.regional.en); this.dpDiv = l(n("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>")) } function l(t) { var i = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a"; return t.delegate(i, "mouseout", function () { n(this).removeClass("ui-state-hover"); -1 !== this.className.indexOf("ui-datepicker-prev") && n(this).removeClass("ui-datepicker-prev-hover"); -1 !== this.className.indexOf("ui-datepicker-next") && n(this).removeClass("ui-datepicker-next-hover") }).delegate(i, "mouseover", a) } function a() { n.datepicker._isDisabledDatepicker(t.inline ? t.dpDiv.parent()[0] : t.input[0]) || (n(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"), n(this).addClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && n(this).addClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && n(this).addClass("ui-datepicker-next-hover")) } function r(t, i) { n.extend(t, i); for (var r in i) null == i[r] && (t[r] = i[r]); return t } var v, u, i, t, e, o; n.ui = n.ui || {}; n.extend(n.ui, { version: "1.11.4", keyCode: { BACKSPACE: 8, COMMA: 188, DELETE: 46, DOWN: 40, END: 35, ENTER: 13, ESCAPE: 27, HOME: 36, LEFT: 37, PAGE_DOWN: 34, PAGE_UP: 33, PERIOD: 190, RIGHT: 39, SPACE: 32, TAB: 9, UP: 38 } }); n.fn.extend({ scrollParent: function (t) { var i = this.css("position"), u = "absolute" === i, f = t ? /(auto|scroll|hidden)/ : /(auto|scroll)/, r = this.parents().filter(function () { var t = n(this); return u && "static" === t.css("position") ? !1 : f.test(t.css("overflow") + t.css("overflow-y") + t.css("overflow-x")) }).eq(0); return "fixed" !== i && r.length ? r : n(this[0].ownerDocument || document) }, uniqueId: function () { var n = 0; return function () { return this.each(function () { this.id || (this.id = "ui-id-" + ++n) }) } }(), removeUniqueId: function () { return this.each(function () { /^ui-id-\d+$/.test(this.id) && n(this).removeAttr("id") }) } }); n.extend(n.expr[":"], { data: n.expr.createPseudo ? n.expr.createPseudo(function (t) { return function (i) { return !!n.data(i, t) } }) : function (t, i, r) { return !!n.data(t, r[3]) }, focusable: function (t) { return s(t, !isNaN(n.attr(t, "tabindex"))) }, tabbable: function (t) { var i = n.attr(t, "tabindex"), r = isNaN(i); return (r || i >= 0) && s(t, !r) } }); n("<a>").outerWidth(1).jquery || n.each(["Width", "Height"], function (t, i) { function r(t, i, r, u) { return n.each(e, function () { i -= parseFloat(n.css(t, "padding" + this)) || 0; r && (i -= parseFloat(n.css(t, "border" + this + "Width")) || 0); u && (i -= parseFloat(n.css(t, "margin" + this)) || 0) }), i } var e = "Width" === i ? ["Left", "Right"] : ["Top", "Bottom"], u = i.toLowerCase(), f = { innerWidth: n.fn.innerWidth, innerHeight: n.fn.innerHeight, outerWidth: n.fn.outerWidth, outerHeight: n.fn.outerHeight }; n.fn["inner" + i] = function (t) { return void 0 === t ? f["inner" + i].call(this) : this.each(function () { n(this).css(u, r(this, t) + "px") }) }; n.fn["outer" + i] = function (t, e) { return "number" != typeof t ? f["outer" + i].call(this, t) : this.each(function () { n(this).css(u, r(this, t, !0, e) + "px") }) } }); n.fn.addBack || (n.fn.addBack = function (n) { return this.add(null == n ? this.prevObject : this.prevObject.filter(n)) }); n("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (n.fn.removeData = function (t) { return function (i) { return arguments.length ? t.call(this, n.camelCase(i)) : t.call(this) } }(n.fn.removeData)); n.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()); n.fn.extend({ focus: function (t) { return function (i, r) { return "number" == typeof i ? this.each(function () { var t = this; setTimeout(function () { n(t).focus(); r && r.call(t) }, i) }) : t.apply(this, arguments) } }(n.fn.focus), disableSelection: function () { var n = "onselectstart" in document.createElement("div") ? "selectstart" : "mousedown"; return function () { return this.bind(n + ".ui-disableSelection", function (n) { n.preventDefault() }) } }(), enableSelection: function () { return this.unbind(".ui-disableSelection") }, zIndex: function (t) { if (void 0 !== t) return this.css("zIndex", t); if (this.length) for (var r, u, i = n(this[0]); i.length && i[0] !== document;) { if (r = i.css("position"), ("absolute" === r || "relative" === r || "fixed" === r) && (u = parseInt(i.css("zIndex"), 10), !isNaN(u) && 0 !== u)) return u; i = i.parent() } return 0 } }); n.ui.plugin = { add: function (t, i, r) { var u, f = n.ui[t].prototype; for (u in r) f.plugins[u] = f.plugins[u] || [], f.plugins[u].push([i, r[u]]) }, call: function (n, t, i, r) { var u, f = n.plugins[t]; if (f && (r || n.element[0].parentNode && 11 !== n.element[0].parentNode.nodeType)) for (u = 0; f.length > u; u++)n.options[f[u][0]] && f[u][1].apply(n.element, i) } }; v = 0; u = Array.prototype.slice; n.cleanData = function (t) { return function (i) { for (var r, u, f = 0; null != (u = i[f]); f++)try { r = n._data(u, "events"); r && r.remove && n(u).triggerHandler("remove") } catch (e) { } t(i) } }(n.cleanData); n.widget = function (t, i, r) { var s, f, u, o, h = {}, e = t.split(".")[0]; return t = t.split(".")[1], s = e + "-" + t, r || (r = i, i = n.Widget), n.expr[":"][s.toLowerCase()] = function (t) { return !!n.data(t, s) }, n[e] = n[e] || {}, f = n[e][t], u = n[e][t] = function (n, t) { return this._createWidget ? (arguments.length && this._createWidget(n, t), void 0) : new u(n, t) }, n.extend(u, f, { version: r.version, _proto: n.extend({}, r), _childConstructors: [] }), o = new i, o.options = n.widget.extend({}, o.options), n.each(r, function (t, r) { return n.isFunction(r) ? (h[t] = function () { var n = function () { return i.prototype[t].apply(this, arguments) }, u = function (n) { return i.prototype[t].apply(this, n) }; return function () { var t, i = this._super, f = this._superApply; return this._super = n, this._superApply = u, t = r.apply(this, arguments), this._super = i, this._superApply = f, t } }(), void 0) : (h[t] = r, void 0) }), u.prototype = n.widget.extend(o, { widgetEventPrefix: f ? o.widgetEventPrefix || t : t }, h, { constructor: u, namespace: e, widgetName: t, widgetFullName: s }), f ? (n.each(f._childConstructors, function (t, i) { var r = i.prototype; n.widget(r.namespace + "." + r.widgetName, u, i._proto) }), delete f._childConstructors) : i._childConstructors.push(u), n.widget.bridge(t, u), u }; n.widget.extend = function (t) { for (var i, r, e = u.call(arguments, 1), f = 0, o = e.length; o > f; f++)for (i in e[f]) r = e[f][i], e[f].hasOwnProperty(i) && void 0 !== r && (t[i] = n.isPlainObject(r) ? n.isPlainObject(t[i]) ? n.widget.extend({}, t[i], r) : n.widget.extend({}, r) : r); return t }; n.widget.bridge = function (t, i) { var r = i.prototype.widgetFullName || t; n.fn[t] = function (f) { var s = "string" == typeof f, o = u.call(arguments, 1), e = this; return s ? this.each(function () { var i, u = n.data(this, r); return "instance" === f ? (e = u, !1) : u ? n.isFunction(u[f]) && "_" !== f.charAt(0) ? (i = u[f].apply(u, o), i !== u && void 0 !== i ? (e = i && i.jquery ? e.pushStack(i.get()) : i, !1) : void 0) : n.error("no such method '" + f + "' for " + t + " widget instance") : n.error("cannot call methods on " + t + " prior to initialization; attempted to call method '" + f + "'") }) : (o.length && (f = n.widget.extend.apply(null, [f].concat(o))), this.each(function () { var t = n.data(this, r); t ? (t.option(f || {}), t._init && t._init()) : n.data(this, r, new i(f, this)) })), e } }; n.Widget = function () { }; n.Widget._childConstructors = []; n.Widget.prototype = { widgetName: "widget", widgetEventPrefix: "", defaultElement: "<div>", options: { disabled: !1, create: null }, _createWidget: function (t, i) { i = n(i || this.defaultElement || this)[0]; this.element = n(i); this.uuid = v++; this.eventNamespace = "." + this.widgetName + this.uuid; this.bindings = n(); this.hoverable = n(); this.focusable = n(); i !== this && (n.data(i, this.widgetFullName, this), this._on(!0, this.element, { remove: function (n) { n.target === i && this.destroy() } }), this.document = n(i.style ? i.ownerDocument : i.document || i), this.window = n(this.document[0].defaultView || this.document[0].parentWindow)); this.options = n.widget.extend({}, this.options, this._getCreateOptions(), t); this._create(); this._trigger("create", null, this._getCreateEventData()); this._init() }, _getCreateOptions: n.noop, _getCreateEventData: n.noop, _create: n.noop, _init: n.noop, destroy: function () { this._destroy(); this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName)); this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled ui-state-disabled"); this.bindings.unbind(this.eventNamespace); this.hoverable.removeClass("ui-state-hover"); this.focusable.removeClass("ui-state-focus") }, _destroy: n.noop, widget: function () { return this.element }, option: function (t, i) { var r, u, f, e = t; if (0 === arguments.length) return n.widget.extend({}, this.options); if ("string" == typeof t) if (e = {}, r = t.split("."), t = r.shift(), r.length) { for (u = e[t] = n.widget.extend({}, this.options[t]), f = 0; r.length - 1 > f; f++)u[r[f]] = u[r[f]] || {}, u = u[r[f]]; if (t = r.pop(), 1 === arguments.length) return void 0 === u[t] ? null : u[t]; u[t] = i } else { if (1 === arguments.length) return void 0 === this.options[t] ? null : this.options[t]; e[t] = i } return this._setOptions(e), this }, _setOptions: function (n) { for (var t in n) this._setOption(t, n[t]); return this }, _setOption: function (n, t) { return this.options[n] = t, "disabled" === n && (this.widget().toggleClass(this.widgetFullName + "-disabled", !!t), t && (this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus"))), this }, enable: function () { return this._setOptions({ disabled: !1 }) }, disable: function () { return this._setOptions({ disabled: !0 }) }, _on: function (t, i, r) { var f, u = this; "boolean" != typeof t && (r = i, i = t, t = !1); r ? (i = f = n(i), this.bindings = this.bindings.add(i)) : (r = i, i = this.element, f = this.widget()); n.each(r, function (r, e) { function o() { if (t || u.options.disabled !== !0 && !n(this).hasClass("ui-state-disabled")) return ("string" == typeof e ? u[e] : e).apply(u, arguments) } "string" != typeof e && (o.guid = e.guid = e.guid || o.guid || n.guid++); var s = r.match(/^([\w:-]*)\s*(.*)$/), h = s[1] + u.eventNamespace, c = s[2]; c ? f.delegate(c, h, o) : i.bind(h, o) }) }, _off: function (t, i) { i = (i || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace; t.unbind(i).undelegate(i); this.bindings = n(this.bindings.not(t).get()); this.focusable = n(this.focusable.not(t).get()); this.hoverable = n(this.hoverable.not(t).get()) }, _delay: function (n, t) { function r() { return ("string" == typeof n ? i[n] : n).apply(i, arguments) } var i = this; return setTimeout(r, t || 0) }, _hoverable: function (t) { this.hoverable = this.hoverable.add(t); this._on(t, { mouseenter: function (t) { n(t.currentTarget).addClass("ui-state-hover") }, mouseleave: function (t) { n(t.currentTarget).removeClass("ui-state-hover") } }) }, _focusable: function (t) { this.focusable = this.focusable.add(t); this._on(t, { focusin: function (t) { n(t.currentTarget).addClass("ui-state-focus") }, focusout: function (t) { n(t.currentTarget).removeClass("ui-state-focus") } }) }, _trigger: function (t, i, r) { var u, f, e = this.options[t]; if (r = r || {}, i = n.Event(i), i.type = (t === this.widgetEventPrefix ? t : this.widgetEventPrefix + t).toLowerCase(), i.target = this.element[0], f = i.originalEvent) for (u in f) u in i || (i[u] = f[u]); return this.element.trigger(i, r), !(n.isFunction(e) && e.apply(this.element[0], [i].concat(r)) === !1 || i.isDefaultPrevented()) } }; n.each({ show: "fadeIn", hide: "fadeOut" }, function (t, i) { n.Widget.prototype["_" + t] = function (r, u, f) { "string" == typeof u && (u = { effect: u }); var o, e = u ? u === !0 || "number" == typeof u ? i : u.effect || i : t; u = u || {}; "number" == typeof u && (u = { duration: u }); o = !n.isEmptyObject(u); u.complete = f; u.delay && r.delay(u.delay); o && n.effects && n.effects.effect[e] ? r[t](u) : e !== t && r[e] ? r[e](u.duration, u.easing, f) : r.queue(function (i) { n(this)[t](); f && f.call(r[0]); i() }) } }); n.widget; i = !1; n(document).mouseup(function () { i = !1 }); n.widget("ui.mouse", { version: "1.11.4", options: { cancel: "input,textarea,button,select,option", distance: 1, delay: 0 }, _mouseInit: function () { var t = this; this.element.bind("mousedown." + this.widgetName, function (n) { return t._mouseDown(n) }).bind("click." + this.widgetName, function (i) { if (!0 === n.data(i.target, t.widgetName + ".preventClickEvent")) return (n.removeData(i.target, t.widgetName + ".preventClickEvent"), i.stopImmediatePropagation(), !1) }); this.started = !1 }, _mouseDestroy: function () { this.element.unbind("." + this.widgetName); this._mouseMoveDelegate && this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate) }, _mouseDown: function (t) { if (!i) { this._mouseMoved = !1; this._mouseStarted && this._mouseUp(t); this._mouseDownEvent = t; var r = this, u = 1 === t.which, f = "string" == typeof this.options.cancel && t.target.nodeName ? n(t.target).closest(this.options.cancel).length : !1; return u && !f && this._mouseCapture(t) ? (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function () { r.mouseDelayMet = !0 }, this.options.delay)), this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(t) !== !1, !this._mouseStarted) ? (t.preventDefault(), !0) : (!0 === n.data(t.target, this.widgetName + ".preventClickEvent") && n.removeData(t.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function (n) { return r._mouseMove(n) }, this._mouseUpDelegate = function (n) { return r._mouseUp(n) }, this.document.bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), t.preventDefault(), i = !0, !0)) : !0 } }, _mouseMove: function (t) { return this._mouseMoved && (n.ui.ie && (!document.documentMode || 9 > document.documentMode) && !t.button || !t.which) ? this._mouseUp(t) : ((t.which || t.button) && (this._mouseMoved = !0), this._mouseStarted ? (this._mouseDrag(t), t.preventDefault()) : (this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, t) !== !1, this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)), !this._mouseStarted)) }, _mouseUp: function (t) { return this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, t.target === this._mouseDownEvent.target && n.data(t.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(t)), i = !1, !1 }, _mouseDistanceMet: function (n) { return Math.max(Math.abs(this._mouseDownEvent.pageX - n.pageX), Math.abs(this._mouseDownEvent.pageY - n.pageY)) >= this.options.distance }, _mouseDelayMet: function () { return this.mouseDelayMet }, _mouseStart: function () { }, _mouseDrag: function () { }, _mouseStop: function () { }, _mouseCapture: function () { return !0 } }), function () { function f(n, t, i) { return [parseFloat(n[0]) * (a.test(n[0]) ? t / 100 : 1), parseFloat(n[1]) * (a.test(n[1]) ? i / 100 : 1)] } function i(t, i) { return parseInt(n.css(t, i), 10) || 0 } function v(t) { var i = t[0]; return 9 === i.nodeType ? { width: t.width(), height: t.height(), offset: { top: 0, left: 0 } } : n.isWindow(i) ? { width: t.width(), height: t.height(), offset: { top: t.scrollTop(), left: t.scrollLeft() } } : i.preventDefault ? { width: 0, height: 0, offset: { top: i.pageY, left: i.pageX } } : { width: t.outerWidth(), height: t.outerHeight(), offset: t.offset() } } n.ui = n.ui || {}; var u, e, r = Math.max, t = Math.abs, o = Math.round, s = /left|center|right/, h = /top|center|bottom/, c = /[\+\-]\d+(\.[\d]+)?%?/, l = /^\w+/, a = /%$/, y = n.fn.position; n.position = { scrollbarWidth: function () { if (void 0 !== u) return u; var r, i, t = n("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'><\/div><\/div>"), f = t.children()[0]; return n("body").append(t), r = f.offsetWidth, t.css("overflow", "scroll"), i = f.offsetWidth, r === i && (i = t[0].clientWidth), t.remove(), u = r - i }, getScrollInfo: function (t) { var i = t.isWindow || t.isDocument ? "" : t.element.css("overflow-x"), r = t.isWindow || t.isDocument ? "" : t.element.css("overflow-y"), u = "scroll" === i || "auto" === i && t.width < t.element[0].scrollWidth, f = "scroll" === r || "auto" === r && t.height < t.element[0].scrollHeight; return { width: f ? n.position.scrollbarWidth() : 0, height: u ? n.position.scrollbarWidth() : 0 } }, getWithinInfo: function (t) { var i = n(t || window), r = n.isWindow(i[0]), u = !!i[0] && 9 === i[0].nodeType; return { element: i, isWindow: r, isDocument: u, offset: i.offset() || { left: 0, top: 0 }, scrollLeft: i.scrollLeft(), scrollTop: i.scrollTop(), width: r || u ? i.width() : i.outerWidth(), height: r || u ? i.height() : i.outerHeight() } } }; n.fn.position = function (u) { if (!u || !u.of) return y.apply(this, arguments); u = n.extend({}, u); var k, a, p, b, w, g, nt = n(u.of), it = n.position.getWithinInfo(u.within), rt = n.position.getScrollInfo(it), d = (u.collision || "flip").split(" "), tt = {}; return g = v(nt), nt[0].preventDefault && (u.at = "left top"), a = g.width, p = g.height, b = g.offset, w = n.extend({}, b), n.each(["my", "at"], function () { var t, i, n = (u[this] || "").split(" "); 1 === n.length && (n = s.test(n[0]) ? n.concat(["center"]) : h.test(n[0]) ? ["center"].concat(n) : ["center", "center"]); n[0] = s.test(n[0]) ? n[0] : "center"; n[1] = h.test(n[1]) ? n[1] : "center"; t = c.exec(n[0]); i = c.exec(n[1]); tt[this] = [t ? t[0] : 0, i ? i[0] : 0]; u[this] = [l.exec(n[0])[0], l.exec(n[1])[0]] }), 1 === d.length && (d[1] = d[0]), "right" === u.at[0] ? w.left += a : "center" === u.at[0] && (w.left += a / 2), "bottom" === u.at[1] ? w.top += p : "center" === u.at[1] && (w.top += p / 2), k = f(tt.at, a, p), w.left += k[0], w.top += k[1], this.each(function () { var y, g, h = n(this), c = h.outerWidth(), l = h.outerHeight(), ut = i(this, "marginLeft"), ft = i(this, "marginTop"), et = c + ut + i(this, "marginRight") + rt.width, ot = l + ft + i(this, "marginBottom") + rt.height, s = n.extend({}, w), v = f(tt.my, h.outerWidth(), h.outerHeight()); "right" === u.my[0] ? s.left -= c : "center" === u.my[0] && (s.left -= c / 2); "bottom" === u.my[1] ? s.top -= l : "center" === u.my[1] && (s.top -= l / 2); s.left += v[0]; s.top += v[1]; e || (s.left = o(s.left), s.top = o(s.top)); y = { marginLeft: ut, marginTop: ft }; n.each(["left", "top"], function (t, i) { n.ui.position[d[t]] && n.ui.position[d[t]][i](s, { targetWidth: a, targetHeight: p, elemWidth: c, elemHeight: l, collisionPosition: y, collisionWidth: et, collisionHeight: ot, offset: [k[0] + v[0], k[1] + v[1]], my: u.my, at: u.at, within: it, elem: h }) }); u.using && (g = function (n) { var i = b.left - s.left, o = i + a - c, f = b.top - s.top, v = f + p - l, e = { target: { element: nt, left: b.left, top: b.top, width: a, height: p }, element: { element: h, left: s.left, top: s.top, width: c, height: l }, horizontal: 0 > o ? "left" : i > 0 ? "right" : "center", vertical: 0 > v ? "top" : f > 0 ? "bottom" : "middle" }; c > a && a > t(i + o) && (e.horizontal = "center"); l > p && p > t(f + v) && (e.vertical = "middle"); e.important = r(t(i), t(o)) > r(t(f), t(v)) ? "horizontal" : "vertical"; u.using.call(this, n, e) }); h.offset(n.extend(s, { using: g })) }) }; n.ui.position = { fit: { left: function (n, t) { var h, e = t.within, u = e.isWindow ? e.scrollLeft : e.offset.left, o = e.width, s = n.left - t.collisionPosition.marginLeft, i = u - s, f = s + t.collisionWidth - o - u; t.collisionWidth > o ? i > 0 && 0 >= f ? (h = n.left + i + t.collisionWidth - o - u, n.left += i - h) : n.left = f > 0 && 0 >= i ? u : i > f ? u + o - t.collisionWidth : u : i > 0 ? n.left += i : f > 0 ? n.left -= f : n.left = r(n.left - s, n.left) }, top: function (n, t) { var h, o = t.within, u = o.isWindow ? o.scrollTop : o.offset.top, e = t.within.height, s = n.top - t.collisionPosition.marginTop, i = u - s, f = s + t.collisionHeight - e - u; t.collisionHeight > e ? i > 0 && 0 >= f ? (h = n.top + i + t.collisionHeight - e - u, n.top += i - h) : n.top = f > 0 && 0 >= i ? u : i > f ? u + e - t.collisionHeight : u : i > 0 ? n.top += i : f > 0 ? n.top -= f : n.top = r(n.top - s, n.top) } }, flip: { left: function (n, i) { var o, s, r = i.within, y = r.offset.left + r.scrollLeft, c = r.width, h = r.isWindow ? r.scrollLeft : r.offset.left, l = n.left - i.collisionPosition.marginLeft, a = l - h, v = l + i.collisionWidth - c - h, u = "left" === i.my[0] ? -i.elemWidth : "right" === i.my[0] ? i.elemWidth : 0, f = "left" === i.at[0] ? i.targetWidth : "right" === i.at[0] ? -i.targetWidth : 0, e = -2 * i.offset[0]; 0 > a ? (o = n.left + u + f + e + i.collisionWidth - c - y, (0 > o || t(a) > o) && (n.left += u + f + e)) : v > 0 && (s = n.left - i.collisionPosition.marginLeft + u + f + e - h, (s > 0 || v > t(s)) && (n.left += u + f + e)) }, top: function (n, i) { var o, s, r = i.within, y = r.offset.top + r.scrollTop, c = r.height, h = r.isWindow ? r.scrollTop : r.offset.top, l = n.top - i.collisionPosition.marginTop, a = l - h, v = l + i.collisionHeight - c - h, p = "top" === i.my[1], u = p ? -i.elemHeight : "bottom" === i.my[1] ? i.elemHeight : 0, f = "top" === i.at[1] ? i.targetHeight : "bottom" === i.at[1] ? -i.targetHeight : 0, e = -2 * i.offset[1]; 0 > a ? (s = n.top + u + f + e + i.collisionHeight - c - y, (0 > s || t(a) > s) && (n.top += u + f + e)) : v > 0 && (o = n.top - i.collisionPosition.marginTop + u + f + e - h, (o > 0 || v > t(o)) && (n.top += u + f + e)) } }, flipfit: { left: function () { n.ui.position.flip.left.apply(this, arguments); n.ui.position.fit.left.apply(this, arguments) }, top: function () { n.ui.position.flip.top.apply(this, arguments); n.ui.position.fit.top.apply(this, arguments) } } }, function () { var t, i, r, u, f, o = document.getElementsByTagName("body")[0], s = document.createElement("div"); t = document.createElement(o ? "div" : "body"); r = { visibility: "hidden", width: 0, height: 0, border: 0, margin: 0, background: "none" }; o && n.extend(r, { position: "absolute", left: "-1000px", top: "-1000px" }); for (f in r) t.style[f] = r[f]; t.appendChild(s); i = o || document.documentElement; i.insertBefore(t, i.firstChild); s.style.cssText = "position: absolute; left: 10.7432222px;"; u = n(s).offset().left; e = u > 10 && 11 > u; t.innerHTML = ""; i.removeChild(t) }() }(); n.ui.position; n.widget("ui.draggable", n.ui.mouse, { version: "1.11.4", widgetEventPrefix: "drag", options: { addClasses: !0, appendTo: "parent", axis: !1, connectToSortable: !1, containment: !1, cursor: "auto", cursorAt: !1, grid: !1, handle: !1, helper: "original", iframeFix: !1, opacity: !1, refreshPositions: !1, revert: !1, revertDuration: 500, scope: "default", scroll: !0, scrollSensitivity: 20, scrollSpeed: 20, snap: !1, snapMode: "both", snapTolerance: 20, stack: !1, zIndex: !1, drag: null, start: null, stop: null }, _create: function () { "original" === this.options.helper && this._setPositionRelative(); this.options.addClasses && this.element.addClass("ui-draggable"); this.options.disabled && this.element.addClass("ui-draggable-disabled"); this._setHandleClassName(); this._mouseInit() }, _setOption: function (n, t) { this._super(n, t); "handle" === n && (this._removeHandleClassName(), this._setHandleClassName()) }, _destroy: function () { return (this.helper || this.element).is(".ui-draggable-dragging") ? (this.destroyOnClear = !0, void 0) : (this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"), this._removeHandleClassName(), this._mouseDestroy(), void 0) }, _mouseCapture: function (t) { var i = this.options; return this._blurActiveElement(t), this.helper || i.disabled || n(t.target).closest(".ui-resizable-handle").length > 0 ? !1 : (this.handle = this._getHandle(t), this.handle ? (this._blockFrames(i.iframeFix === !0 ? "iframe" : i.iframeFix), !0) : !1) }, _blockFrames: function (t) { this.iframeBlocks = this.document.find(t).map(function () { var t = n(this); return n("<div>").css("position", "absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0] }) }, _unblockFrames: function () { this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks) }, _blurActiveElement: function (t) { var i = this.document[0]; if (this.handleElement.is(t.target)) try { i.activeElement && "body" !== i.activeElement.nodeName.toLowerCase() && n(i.activeElement).blur() } catch (r) { } }, _mouseStart: function (t) { var i = this.options; return this.helper = this._createHelper(t), this.helper.addClass("ui-draggable-dragging"), this._cacheHelperProportions(), n.ui.ddmanager && (n.ui.ddmanager.current = this), this._cacheMargins(), this.cssPosition = this.helper.css("position"), this.scrollParent = this.helper.scrollParent(!0), this.offsetParent = this.helper.offsetParent(), this.hasFixedAncestor = this.helper.parents().filter(function () { return "fixed" === n(this).css("position") }).length > 0, this.positionAbs = this.element.offset(), this._refreshOffsets(t), this.originalPosition = this.position = this._generatePosition(t, !1), this.originalPageX = t.pageX, this.originalPageY = t.pageY, i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt), this._setContainment(), this._trigger("start", t) === !1 ? (this._clear(), !1) : (this._cacheHelperProportions(), n.ui.ddmanager && !i.dropBehaviour && n.ui.ddmanager.prepareOffsets(this, t), this._normalizeRightBottom(), this._mouseDrag(t, !0), n.ui.ddmanager && n.ui.ddmanager.dragStart(this, t), !0) }, _refreshOffsets: function (n) { this.offset = { top: this.positionAbs.top - this.margins.top, left: this.positionAbs.left - this.margins.left, scroll: !1, parent: this._getParentOffset(), relative: this._getRelativeOffset() }; this.offset.click = { left: n.pageX - this.offset.left, top: n.pageY - this.offset.top } }, _mouseDrag: function (t, i) { if (this.hasFixedAncestor && (this.offset.parent = this._getParentOffset()), this.position = this._generatePosition(t, !0), this.positionAbs = this._convertPositionTo("absolute"), !i) { var r = this._uiHash(); if (this._trigger("drag", t, r) === !1) return this._mouseUp({}), !1; this.position = r.position } return this.helper[0].style.left = this.position.left + "px", this.helper[0].style.top = this.position.top + "px", n.ui.ddmanager && n.ui.ddmanager.drag(this, t), !1 }, _mouseStop: function (t) { var r = this, i = !1; return n.ui.ddmanager && !this.options.dropBehaviour && (i = n.ui.ddmanager.drop(this, t)), this.dropped && (i = this.dropped, this.dropped = !1), "invalid" === this.options.revert && !i || "valid" === this.options.revert && i || this.options.revert === !0 || n.isFunction(this.options.revert) && this.options.revert.call(this.element, i) ? n(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function () { r._trigger("stop", t) !== !1 && r._clear() }) : this._trigger("stop", t) !== !1 && this._clear(), !1 }, _mouseUp: function (t) { return this._unblockFrames(), n.ui.ddmanager && n.ui.ddmanager.dragStop(this, t), this.handleElement.is(t.target) && this.element.focus(), n.ui.mouse.prototype._mouseUp.call(this, t) }, cancel: function () { return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(), this }, _getHandle: function (t) { return this.options.handle ? !!n(t.target).closest(this.element.find(this.options.handle)).length : !0 }, _setHandleClassName: function () { this.handleElement = this.options.handle ? this.element.find(this.options.handle) : this.element; this.handleElement.addClass("ui-draggable-handle") }, _removeHandleClassName: function () { this.handleElement.removeClass("ui-draggable-handle") }, _createHelper: function (t) { var r = this.options, u = n.isFunction(r.helper), i = u ? n(r.helper.apply(this.element[0], [t])) : "clone" === r.helper ? this.element.clone().removeAttr("id") : this.element; return i.parents("body").length || i.appendTo("parent" === r.appendTo ? this.element[0].parentNode : r.appendTo), u && i[0] === this.element[0] && this._setPositionRelative(), i[0] === this.element[0] || /(fixed|absolute)/.test(i.css("position")) || i.css("position", "absolute"), i }, _setPositionRelative: function () { /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative") }, _adjustOffsetFromHelper: function (t) { "string" == typeof t && (t = t.split(" ")); n.isArray(t) && (t = { left: +t[0], top: +t[1] || 0 }); "left" in t && (this.offset.click.left = t.left + this.margins.left); "right" in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left); "top" in t && (this.offset.click.top = t.top + this.margins.top); "bottom" in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top) }, _isRootNode: function (n) { return /(html|body)/i.test(n.tagName) || n === this.document[0] }, _getParentOffset: function () { var t = this.offsetParent.offset(), i = this.document[0]; return "absolute" === this.cssPosition && this.scrollParent[0] !== i && n.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(), t.top += this.scrollParent.scrollTop()), this._isRootNode(this.offsetParent[0]) && (t = { top: 0, left: 0 }), { top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0), left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0) } }, _getRelativeOffset: function () { if ("relative" !== this.cssPosition) return { top: 0, left: 0 }; var n = this.element.position(), t = this._isRootNode(this.scrollParent[0]); return { top: n.top - (parseInt(this.helper.css("top"), 10) || 0) + (t ? 0 : this.scrollParent.scrollTop()), left: n.left - (parseInt(this.helper.css("left"), 10) || 0) + (t ? 0 : this.scrollParent.scrollLeft()) } }, _cacheMargins: function () { this.margins = { left: parseInt(this.element.css("marginLeft"), 10) || 0, top: parseInt(this.element.css("marginTop"), 10) || 0, right: parseInt(this.element.css("marginRight"), 10) || 0, bottom: parseInt(this.element.css("marginBottom"), 10) || 0 } }, _cacheHelperProportions: function () { this.helperProportions = { width: this.helper.outerWidth(), height: this.helper.outerHeight() } }, _setContainment: function () { var f, t, i, r = this.options, u = this.document[0]; return this.relativeContainer = null, r.containment ? "window" === r.containment ? (this.containment = [n(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, n(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, n(window).scrollLeft() + n(window).width() - this.helperProportions.width - this.margins.left, n(window).scrollTop() + (n(window).height() || u.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top], void 0) : "document" === r.containment ? (this.containment = [0, 0, n(u).width() - this.helperProportions.width - this.margins.left, (n(u).height() || u.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top], void 0) : r.containment.constructor === Array ? (this.containment = r.containment, void 0) : ("parent" === r.containment && (r.containment = this.helper[0].parentNode), t = n(r.containment), i = t[0], i && (f = /(scroll|auto)/.test(t.css("overflow")), this.containment = [(parseInt(t.css("borderLeftWidth"), 10) || 0) + (parseInt(t.css("paddingLeft"), 10) || 0), (parseInt(t.css("borderTopWidth"), 10) || 0) + (parseInt(t.css("paddingTop"), 10) || 0), (f ? Math.max(i.scrollWidth, i.offsetWidth) : i.offsetWidth) - (parseInt(t.css("borderRightWidth"), 10) || 0) - (parseInt(t.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (f ? Math.max(i.scrollHeight, i.offsetHeight) : i.offsetHeight) - (parseInt(t.css("borderBottomWidth"), 10) || 0) - (parseInt(t.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom], this.relativeContainer = t), void 0) : (this.containment = null, void 0) }, _convertPositionTo: function (n, t) { t || (t = this.position); var i = "absolute" === n ? 1 : -1, r = this._isRootNode(this.scrollParent[0]); return { top: t.top + this.offset.relative.top * i + this.offset.parent.top * i - ("fixed" === this.cssPosition ? -this.offset.scroll.top : r ? 0 : this.offset.scroll.top) * i, left: t.left + this.offset.relative.left * i + this.offset.parent.left * i - ("fixed" === this.cssPosition ? -this.offset.scroll.left : r ? 0 : this.offset.scroll.left) * i } }, _generatePosition: function (n, t) { var i, s, u, f, r = this.options, h = this._isRootNode(this.scrollParent[0]), e = n.pageX, o = n.pageY; return h && this.offset.scroll || (this.offset.scroll = { top: this.scrollParent.scrollTop(), left: this.scrollParent.scrollLeft() }), t && (this.containment && (this.relativeContainer ? (s = this.relativeContainer.offset(), i = [this.containment[0] + s.left, this.containment[1] + s.top, this.containment[2] + s.left, this.containment[3] + s.top]) : i = this.containment, n.pageX - this.offset.click.left < i[0] && (e = i[0] + this.offset.click.left), n.pageY - this.offset.click.top < i[1] && (o = i[1] + this.offset.click.top), n.pageX - this.offset.click.left > i[2] && (e = i[2] + this.offset.click.left), n.pageY - this.offset.click.top > i[3] && (o = i[3] + this.offset.click.top)), r.grid && (u = r.grid[1] ? this.originalPageY + Math.round((o - this.originalPageY) / r.grid[1]) * r.grid[1] : this.originalPageY, o = i ? u - this.offset.click.top >= i[1] || u - this.offset.click.top > i[3] ? u : u - this.offset.click.top >= i[1] ? u - r.grid[1] : u + r.grid[1] : u, f = r.grid[0] ? this.originalPageX + Math.round((e - this.originalPageX) / r.grid[0]) * r.grid[0] : this.originalPageX, e = i ? f - this.offset.click.left >= i[0] || f - this.offset.click.left > i[2] ? f : f - this.offset.click.left >= i[0] ? f - r.grid[0] : f + r.grid[0] : f), "y" === r.axis && (e = this.originalPageX), "x" === r.axis && (o = this.originalPageY)), { top: o - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.offset.scroll.top : h ? 0 : this.offset.scroll.top), left: e - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.offset.scroll.left : h ? 0 : this.offset.scroll.left) } }, _clear: function () { this.helper.removeClass("ui-draggable-dragging"); this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(); this.helper = null; this.cancelHelperRemoval = !1; this.destroyOnClear && this.destroy() }, _normalizeRightBottom: function () { "y" !== this.options.axis && "auto" !== this.helper.css("right") && (this.helper.width(this.helper.width()), this.helper.css("right", "auto")); "x" !== this.options.axis && "auto" !== this.helper.css("bottom") && (this.helper.height(this.helper.height()), this.helper.css("bottom", "auto")) }, _trigger: function (t, i, r) { return r = r || this._uiHash(), n.ui.plugin.call(this, t, [i, r, this], !0), /^(drag|start|stop)/.test(t) && (this.positionAbs = this._convertPositionTo("absolute"), r.offset = this.positionAbs), n.Widget.prototype._trigger.call(this, t, i, r) }, plugins: {}, _uiHash: function () { return { helper: this.helper, position: this.position, originalPosition: this.originalPosition, offset: this.positionAbs } } }); n.ui.plugin.add("draggable", "connectToSortable", { start: function (t, i, r) { var u = n.extend({}, i, { item: r.element }); r.sortables = []; n(r.options.connectToSortable).each(function () { var i = n(this).sortable("instance"); i && !i.options.disabled && (r.sortables.push(i), i.refreshPositions(), i._trigger("activate", t, u)) }) }, stop: function (t, i, r) { var u = n.extend({}, i, { item: r.element }); r.cancelHelperRemoval = !1; n.each(r.sortables, function () { var n = this; n.isOver ? (n.isOver = 0, r.cancelHelperRemoval = !0, n.cancelHelperRemoval = !1, n._storedCSS = { position: n.placeholder.css("position"), top: n.placeholder.css("top"), left: n.placeholder.css("left") }, n._mouseStop(t), n.options.helper = n.options._helper) : (n.cancelHelperRemoval = !0, n._trigger("deactivate", t, u)) }) }, drag: function (t, i, r) { n.each(r.sortables, function () { var f = !1, u = this; u.positionAbs = r.positionAbs; u.helperProportions = r.helperProportions; u.offset.click = r.offset.click; u._intersectsWith(u.containerCache) && (f = !0, n.each(r.sortables, function () { return this.positionAbs = r.positionAbs, this.helperProportions = r.helperProportions, this.offset.click = r.offset.click, this !== u && this._intersectsWith(this.containerCache) && n.contains(u.element[0], this.element[0]) && (f = !1), f })); f ? (u.isOver || (u.isOver = 1, r._parent = i.helper.parent(), u.currentItem = i.helper.appendTo(u.element).data("ui-sortable-item", !0), u.options._helper = u.options.helper, u.options.helper = function () { return i.helper[0] }, t.target = u.currentItem[0], u._mouseCapture(t, !0), u._mouseStart(t, !0, !0), u.offset.click.top = r.offset.click.top, u.offset.click.left = r.offset.click.left, u.offset.parent.left -= r.offset.parent.left - u.offset.parent.left, u.offset.parent.top -= r.offset.parent.top - u.offset.parent.top, r._trigger("toSortable", t), r.dropped = u.element, n.each(r.sortables, function () { this.refreshPositions() }), r.currentItem = r.element, u.fromOutside = r), u.currentItem && (u._mouseDrag(t), i.position = u.position)) : u.isOver && (u.isOver = 0, u.cancelHelperRemoval = !0, u.options._revert = u.options.revert, u.options.revert = !1, u._trigger("out", t, u._uiHash(u)), u._mouseStop(t, !0), u.options.revert = u.options._revert, u.options.helper = u.options._helper, u.placeholder && u.placeholder.remove(), i.helper.appendTo(r._parent), r._refreshOffsets(t), i.position = r._generatePosition(t, !0), r._trigger("fromSortable", t), r.dropped = !1, n.each(r.sortables, function () { this.refreshPositions() })) }) } }); n.ui.plugin.add("draggable", "cursor", { start: function (t, i, r) { var u = n("body"), f = r.options; u.css("cursor") && (f._cursor = u.css("cursor")); u.css("cursor", f.cursor) }, stop: function (t, i, r) { var u = r.options; u._cursor && n("body").css("cursor", u._cursor) } }); n.ui.plugin.add("draggable", "opacity", { start: function (t, i, r) { var u = n(i.helper), f = r.options; u.css("opacity") && (f._opacity = u.css("opacity")); u.css("opacity", f.opacity) }, stop: function (t, i, r) { var u = r.options; u._opacity && n(i.helper).css("opacity", u._opacity) } }); n.ui.plugin.add("draggable", "scroll", { start: function (n, t, i) { i.scrollParentNotHidden || (i.scrollParentNotHidden = i.helper.scrollParent(!1)); i.scrollParentNotHidden[0] !== i.document[0] && "HTML" !== i.scrollParentNotHidden[0].tagName && (i.overflowOffset = i.scrollParentNotHidden.offset()) }, drag: function (t, i, r) { var u = r.options, o = !1, e = r.scrollParentNotHidden[0], f = r.document[0]; e !== f && "HTML" !== e.tagName ? (u.axis && "x" === u.axis || (r.overflowOffset.top + e.offsetHeight - t.pageY < u.scrollSensitivity ? e.scrollTop = o = e.scrollTop + u.scrollSpeed : t.pageY - r.overflowOffset.top < u.scrollSensitivity && (e.scrollTop = o = e.scrollTop - u.scrollSpeed)), u.axis && "y" === u.axis || (r.overflowOffset.left + e.offsetWidth - t.pageX < u.scrollSensitivity ? e.scrollLeft = o = e.scrollLeft + u.scrollSpeed : t.pageX - r.overflowOffset.left < u.scrollSensitivity && (e.scrollLeft = o = e.scrollLeft - u.scrollSpeed))) : (u.axis && "x" === u.axis || (t.pageY - n(f).scrollTop() < u.scrollSensitivity ? o = n(f).scrollTop(n(f).scrollTop() - u.scrollSpeed) : n(window).height() - (t.pageY - n(f).scrollTop()) < u.scrollSensitivity && (o = n(f).scrollTop(n(f).scrollTop() + u.scrollSpeed))), u.axis && "y" === u.axis || (t.pageX - n(f).scrollLeft() < u.scrollSensitivity ? o = n(f).scrollLeft(n(f).scrollLeft() - u.scrollSpeed) : n(window).width() - (t.pageX - n(f).scrollLeft()) < u.scrollSensitivity && (o = n(f).scrollLeft(n(f).scrollLeft() + u.scrollSpeed)))); o !== !1 && n.ui.ddmanager && !u.dropBehaviour && n.ui.ddmanager.prepareOffsets(r, t) } }); n.ui.plugin.add("draggable", "snap", { start: function (t, i, r) { var u = r.options; r.snapElements = []; n(u.snap.constructor !== String ? u.snap.items || ":data(ui-draggable)" : u.snap).each(function () { var t = n(this), i = t.offset(); this !== r.element[0] && r.snapElements.push({ item: this, width: t.outerWidth(), height: t.outerHeight(), top: i.top, left: i.left }) }) }, drag: function (t, i, r) { for (var e, o, s, h, c, a, l, v, w, b = r.options, f = b.snapTolerance, y = i.offset.left, k = y + r.helperProportions.width, p = i.offset.top, d = p + r.helperProportions.height, u = r.snapElements.length - 1; u >= 0; u--)c = r.snapElements[u].left - r.margins.left, a = c + r.snapElements[u].width, l = r.snapElements[u].top - r.margins.top, v = l + r.snapElements[u].height, c - f > k || y > a + f || l - f > d || p > v + f || !n.contains(r.snapElements[u].item.ownerDocument, r.snapElements[u].item) ? (r.snapElements[u].snapping && r.options.snap.release && r.options.snap.release.call(r.element, t, n.extend(r._uiHash(), { snapItem: r.snapElements[u].item })), r.snapElements[u].snapping = !1) : ("inner" !== b.snapMode && (e = f >= Math.abs(l - d), o = f >= Math.abs(v - p), s = f >= Math.abs(c - k), h = f >= Math.abs(a - y), e && (i.position.top = r._convertPositionTo("relative", { top: l - r.helperProportions.height, left: 0 }).top), o && (i.position.top = r._convertPositionTo("relative", { top: v, left: 0 }).top), s && (i.position.left = r._convertPositionTo("relative", { top: 0, left: c - r.helperProportions.width }).left), h && (i.position.left = r._convertPositionTo("relative", { top: 0, left: a }).left)), w = e || o || s || h, "outer" !== b.snapMode && (e = f >= Math.abs(l - p), o = f >= Math.abs(v - d), s = f >= Math.abs(c - y), h = f >= Math.abs(a - k), e && (i.position.top = r._convertPositionTo("relative", { top: l, left: 0 }).top), o && (i.position.top = r._convertPositionTo("relative", { top: v - r.helperProportions.height, left: 0 }).top), s && (i.position.left = r._convertPositionTo("relative", { top: 0, left: c }).left), h && (i.position.left = r._convertPositionTo("relative", { top: 0, left: a - r.helperProportions.width }).left)), !r.snapElements[u].snapping && (e || o || s || h || w) && r.options.snap.snap && r.options.snap.snap.call(r.element, t, n.extend(r._uiHash(), { snapItem: r.snapElements[u].item })), r.snapElements[u].snapping = e || o || s || h || w) } }); n.ui.plugin.add("draggable", "stack", { start: function (t, i, r) { var f, e = r.options, u = n.makeArray(n(e.stack)).sort(function (t, i) { return (parseInt(n(t).css("zIndex"), 10) || 0) - (parseInt(n(i).css("zIndex"), 10) || 0) }); u.length && (f = parseInt(n(u[0]).css("zIndex"), 10) || 0, n(u).each(function (t) { n(this).css("zIndex", f + t) }), this.css("zIndex", f + u.length)) } }); n.ui.plugin.add("draggable", "zIndex", { start: function (t, i, r) { var u = n(i.helper), f = r.options; u.css("zIndex") && (f._zIndex = u.css("zIndex")); u.css("zIndex", f.zIndex) }, stop: function (t, i, r) { var u = r.options; u._zIndex && n(i.helper).css("zIndex", u._zIndex) } }); n.ui.draggable; n.widget("ui.resizable", n.ui.mouse, { version: "1.11.4", widgetEventPrefix: "resize", options: { alsoResize: !1, animate: !1, animateDuration: "slow", animateEasing: "swing", aspectRatio: !1, autoHide: !1, containment: !1, ghost: !1, grid: !1, handles: "e,s,se", helper: !1, maxHeight: null, maxWidth: null, minHeight: 10, minWidth: 10, zIndex: 90, resize: null, start: null, stop: null }, _num: function (n) { return parseInt(n, 10) || 0 }, _isNumber: function (n) { return !isNaN(parseInt(n, 10)) }, _hasScroll: function (t, i) { if ("hidden" === n(t).css("overflow")) return !1; var r = i && "left" === i ? "scrollLeft" : "scrollTop", u = !1; return t[r] > 0 ? !0 : (t[r] = 1, u = t[r] > 0, t[r] = 0, u) }, _create: function () { var e, f, u, i, o, r = this, t = this.options; if (this.element.addClass("ui-resizable"), n.extend(this, { _aspectRatio: !!t.aspectRatio, aspectRatio: t.aspectRatio, originalElement: this.element, _proportionallyResizeElements: [], _helper: t.helper || t.ghost || t.animate ? t.helper || "ui-resizable-helper" : null }), this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i) && (this.element.wrap(n("<div class='ui-wrapper' style='overflow: hidden;'><\/div>").css({ position: this.element.css("position"), width: this.element.outerWidth(), height: this.element.outerHeight(), top: this.element.css("top"), left: this.element.css("left") })), this.element = this.element.parent().data("ui-resizable", this.element.resizable("instance")), this.elementIsWrapper = !0, this.element.css({ marginLeft: this.originalElement.css("marginLeft"), marginTop: this.originalElement.css("marginTop"), marginRight: this.originalElement.css("marginRight"), marginBottom: this.originalElement.css("marginBottom") }), this.originalElement.css({ marginLeft: 0, marginTop: 0, marginRight: 0, marginBottom: 0 }), this.originalResizeStyle = this.originalElement.css("resize"), this.originalElement.css("resize", "none"), this._proportionallyResizeElements.push(this.originalElement.css({ position: "static", zoom: 1, display: "block" })), this.originalElement.css({ margin: this.originalElement.css("margin") }), this._proportionallyResize()), this.handles = t.handles || (n(".ui-resizable-handle", this.element).length ? { n: ".ui-resizable-n", e: ".ui-resizable-e", s: ".ui-resizable-s", w: ".ui-resizable-w", se: ".ui-resizable-se", sw: ".ui-resizable-sw", ne: ".ui-resizable-ne", nw: ".ui-resizable-nw" } : "e,s,se"), this._handles = n(), this.handles.constructor === String) for ("all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw"), e = this.handles.split(","), this.handles = {}, f = 0; e.length > f; f++)u = n.trim(e[f]), o = "ui-resizable-" + u, i = n("<div class='ui-resizable-handle " + o + "'><\/div>"), i.css({ zIndex: t.zIndex }), "se" === u && i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"), this.handles[u] = ".ui-resizable-" + u, this.element.append(i); this._renderAxis = function (t) { var i, u, f, e; t = t || this.element; for (i in this.handles) this.handles[i].constructor === String ? this.handles[i] = this.element.children(this.handles[i]).first().show() : (this.handles[i].jquery || this.handles[i].nodeType) && (this.handles[i] = n(this.handles[i]), this._on(this.handles[i], { mousedown: r._mouseDown })), this.elementIsWrapper && this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i) && (u = n(this.handles[i], this.element), e = /sw|ne|nw|se|n|s/.test(i) ? u.outerHeight() : u.outerWidth(), f = ["padding", /ne|nw|n/.test(i) ? "Top" : /se|sw|s/.test(i) ? "Bottom" : /^e$/.test(i) ? "Right" : "Left"].join(""), t.css(f, e), this._proportionallyResize()), this._handles = this._handles.add(this.handles[i]) }; this._renderAxis(this.element); this._handles = this._handles.add(this.element.find(".ui-resizable-handle")); this._handles.disableSelection(); this._handles.mouseover(function () { r.resizing || (this.className && (i = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)), r.axis = i && i[1] ? i[1] : "se") }); t.autoHide && (this._handles.hide(), n(this.element).addClass("ui-resizable-autohide").mouseenter(function () { t.disabled || (n(this).removeClass("ui-resizable-autohide"), r._handles.show()) }).mouseleave(function () { t.disabled || r.resizing || (n(this).addClass("ui-resizable-autohide"), r._handles.hide()) })); this._mouseInit() }, _destroy: function () { this._mouseDestroy(); var t, i = function (t) { n(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove() }; return this.elementIsWrapper && (i(this.element), t = this.element, this.originalElement.css({ position: t.css("position"), width: t.outerWidth(), height: t.outerHeight(), top: t.css("top"), left: t.css("left") }).insertAfter(t), t.remove()), this.originalElement.css("resize", this.originalResizeStyle), i(this.originalElement), this }, _mouseCapture: function (t) { var r, i, u = !1; for (r in this.handles) i = n(this.handles[r])[0], (i === t.target || n.contains(i, t.target)) && (u = !0); return !this.options.disabled && u }, _mouseStart: function (t) { var u, f, e, r = this.options, i = this.element; return this.resizing = !0, this._renderProxy(), u = this._num(this.helper.css("left")), f = this._num(this.helper.css("top")), r.containment && (u += n(r.containment).scrollLeft() || 0, f += n(r.containment).scrollTop() || 0), this.offset = this.helper.offset(), this.position = { left: u, top: f }, this.size = this._helper ? { width: this.helper.width(), height: this.helper.height() } : { width: i.width(), height: i.height() }, this.originalSize = this._helper ? { width: i.outerWidth(), height: i.outerHeight() } : { width: i.width(), height: i.height() }, this.sizeDiff = { width: i.outerWidth() - i.width(), height: i.outerHeight() - i.height() }, this.originalPosition = { left: u, top: f }, this.originalMousePosition = { left: t.pageX, top: t.pageY }, this.aspectRatio = "number" == typeof r.aspectRatio ? r.aspectRatio : this.originalSize.width / this.originalSize.height || 1, e = n(".ui-resizable-" + this.axis).css("cursor"), n("body").css("cursor", "auto" === e ? this.axis + "-resize" : e), i.addClass("ui-resizable-resizing"), this._propagate("start", t), !0 }, _mouseDrag: function (t) { var i, r, u = this.originalMousePosition, e = this.axis, o = t.pageX - u.left || 0, s = t.pageY - u.top || 0, f = this._change[e]; return this._updatePrevProperties(), f ? (i = f.apply(this, [t, o, s]), this._updateVirtualBoundaries(t.shiftKey), (this._aspectRatio || t.shiftKey) && (i = this._updateRatio(i, t)), i = this._respectSize(i, t), this._updateCache(i), this._propagate("resize", t), r = this._applyChanges(), !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(), n.isEmptyObject(r) || (this._updatePrevProperties(), this._trigger("resize", t, this.ui()), this._applyChanges()), !1) : !1 }, _mouseStop: function (t) { this.resizing = !1; var r, u, f, e, o, s, h, c = this.options, i = this; return this._helper && (r = this._proportionallyResizeElements, u = r.length && /textarea/i.test(r[0].nodeName), f = u && this._hasScroll(r[0], "left") ? 0 : i.sizeDiff.height, e = u ? 0 : i.sizeDiff.width, o = { width: i.helper.width() - e, height: i.helper.height() - f }, s = parseInt(i.element.css("left"), 10) + (i.position.left - i.originalPosition.left) || null, h = parseInt(i.element.css("top"), 10) + (i.position.top - i.originalPosition.top) || null, c.animate || this.element.css(n.extend(o, { top: h, left: s })), i.helper.height(i.size.height), i.helper.width(i.size.width), this._helper && !c.animate && this._proportionallyResize()), n("body").css("cursor", "auto"), this.element.removeClass("ui-resizable-resizing"), this._propagate("stop", t), this._helper && this.helper.remove(), !1 }, _updatePrevProperties: function () { this.prevPosition = { top: this.position.top, left: this.position.left }; this.prevSize = { width: this.size.width, height: this.size.height } }, _applyChanges: function () { var n = {}; return this.position.top !== this.prevPosition.top && (n.top = this.position.top + "px"), this.position.left !== this.prevPosition.left && (n.left = this.position.left + "px"), this.size.width !== this.prevSize.width && (n.width = this.size.width + "px"), this.size.height !== this.prevSize.height && (n.height = this.size.height + "px"), this.helper.css(n), n }, _updateVirtualBoundaries: function (n) { var r, u, f, e, t, i = this.options; t = { minWidth: this._isNumber(i.minWidth) ? i.minWidth : 0, maxWidth: this._isNumber(i.maxWidth) ? i.maxWidth : 1 / 0, minHeight: this._isNumber(i.minHeight) ? i.minHeight : 0, maxHeight: this._isNumber(i.maxHeight) ? i.maxHeight : 1 / 0 }; (this._aspectRatio || n) && (r = t.minHeight * this.aspectRatio, f = t.minWidth / this.aspectRatio, u = t.maxHeight * this.aspectRatio, e = t.maxWidth / this.aspectRatio, r > t.minWidth && (t.minWidth = r), f > t.minHeight && (t.minHeight = f), t.maxWidth > u && (t.maxWidth = u), t.maxHeight > e && (t.maxHeight = e)); this._vBoundaries = t }, _updateCache: function (n) { this.offset = this.helper.offset(); this._isNumber(n.left) && (this.position.left = n.left); this._isNumber(n.top) && (this.position.top = n.top); this._isNumber(n.height) && (this.size.height = n.height); this._isNumber(n.width) && (this.size.width = n.width) }, _updateRatio: function (n) { var t = this.position, i = this.size, r = this.axis; return this._isNumber(n.height) ? n.width = n.height * this.aspectRatio : this._isNumber(n.width) && (n.height = n.width / this.aspectRatio), "sw" === r && (n.left = t.left + (i.width - n.width), n.top = null), "nw" === r && (n.top = t.top + (i.height - n.height), n.left = t.left + (i.width - n.width)), n }, _respectSize: function (n) { var t = this._vBoundaries, i = this.axis, r = this._isNumber(n.width) && t.maxWidth && t.maxWidth < n.width, u = this._isNumber(n.height) && t.maxHeight && t.maxHeight < n.height, f = this._isNumber(n.width) && t.minWidth && t.minWidth > n.width, e = this._isNumber(n.height) && t.minHeight && t.minHeight > n.height, o = this.originalPosition.left + this.originalSize.width, s = this.position.top + this.size.height, h = /sw|nw|w/.test(i), c = /nw|ne|n/.test(i); return f && (n.width = t.minWidth), e && (n.height = t.minHeight), r && (n.width = t.maxWidth), u && (n.height = t.maxHeight), f && h && (n.left = o - t.minWidth), r && h && (n.left = o - t.maxWidth), e && c && (n.top = s - t.minHeight), u && c && (n.top = s - t.maxHeight), n.width || n.height || n.left || !n.top ? n.width || n.height || n.top || !n.left || (n.left = null) : n.top = null, n }, _getPaddingPlusBorderDimensions: function (n) { for (var t = 0, i = [], r = [n.css("borderTopWidth"), n.css("borderRightWidth"), n.css("borderBottomWidth"), n.css("borderLeftWidth")], u = [n.css("paddingTop"), n.css("paddingRight"), n.css("paddingBottom"), n.css("paddingLeft")]; 4 > t; t++)i[t] = parseInt(r[t], 10) || 0, i[t] += parseInt(u[t], 10) || 0; return { height: i[0] + i[2], width: i[1] + i[3] } }, _proportionallyResize: function () { if (this._proportionallyResizeElements.length) for (var n, t = 0, i = this.helper || this.element; this._proportionallyResizeElements.length > t; t++)n = this._proportionallyResizeElements[t], this.outerDimensions || (this.outerDimensions = this._getPaddingPlusBorderDimensions(n)), n.css({ height: i.height() - this.outerDimensions.height || 0, width: i.width() - this.outerDimensions.width || 0 }) }, _renderProxy: function () { var t = this.element, i = this.options; this.elementOffset = t.offset(); this._helper ? (this.helper = this.helper || n("<div style='overflow:hidden;'><\/div>"), this.helper.addClass(this._helper).css({ width: this.element.outerWidth() - 1, height: this.element.outerHeight() - 1, position: "absolute", left: this.elementOffset.left + "px", top: this.elementOffset.top + "px", zIndex: ++i.zIndex }), this.helper.appendTo("body").disableSelection()) : this.helper = this.element }, _change: { e: function (n, t) { return { width: this.originalSize.width + t } }, w: function (n, t) { var i = this.originalSize, r = this.originalPosition; return { left: r.left + t, width: i.width - t } }, n: function (n, t, i) { var r = this.originalSize, u = this.originalPosition; return { top: u.top + i, height: r.height - i } }, s: function (n, t, i) { return { height: this.originalSize.height + i } }, se: function (t, i, r) { return n.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [t, i, r])) }, sw: function (t, i, r) { return n.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [t, i, r])) }, ne: function (t, i, r) { return n.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [t, i, r])) }, nw: function (t, i, r) { return n.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [t, i, r])) } }, _propagate: function (t, i) { n.ui.plugin.call(this, t, [i, this.ui()]); "resize" !== t && this._trigger(t, i, this.ui()) }, plugins: {}, ui: function () { return { originalElement: this.originalElement, element: this.element, helper: this.helper, position: this.position, size: this.size, originalSize: this.originalSize, originalPosition: this.originalPosition } } }); n.ui.plugin.add("resizable", "animate", { stop: function (t) { var i = n(this).resizable("instance"), u = i.options, r = i._proportionallyResizeElements, f = r.length && /textarea/i.test(r[0].nodeName), s = f && i._hasScroll(r[0], "left") ? 0 : i.sizeDiff.height, h = f ? 0 : i.sizeDiff.width, c = { width: i.size.width - h, height: i.size.height - s }, e = parseInt(i.element.css("left"), 10) + (i.position.left - i.originalPosition.left) || null, o = parseInt(i.element.css("top"), 10) + (i.position.top - i.originalPosition.top) || null; i.element.animate(n.extend(c, o && e ? { top: o, left: e } : {}), { duration: u.animateDuration, easing: u.animateEasing, step: function () { var u = { width: parseInt(i.element.css("width"), 10), height: parseInt(i.element.css("height"), 10), top: parseInt(i.element.css("top"), 10), left: parseInt(i.element.css("left"), 10) }; r && r.length && n(r[0]).css({ width: u.width, height: u.height }); i._updateCache(u); i._propagate("resize", t) } }) } }); n.ui.plugin.add("resizable", "containment", { start: function () { var r, f, e, o, s, h, c, t = n(this).resizable("instance"), l = t.options, a = t.element, u = l.containment, i = u instanceof n ? u.get(0) : /parent/.test(u) ? a.parent().get(0) : u; i && (t.containerElement = n(i), /document/.test(u) || u === document ? (t.containerOffset = { left: 0, top: 0 }, t.containerPosition = { left: 0, top: 0 }, t.parentData = { element: n(document), left: 0, top: 0, width: n(document).width(), height: n(document).height() || document.body.parentNode.scrollHeight }) : (r = n(i), f = [], n(["Top", "Right", "Left", "Bottom"]).each(function (n, i) { f[n] = t._num(r.css("padding" + i)) }), t.containerOffset = r.offset(), t.containerPosition = r.position(), t.containerSize = { height: r.innerHeight() - f[3], width: r.innerWidth() - f[1] }, e = t.containerOffset, o = t.containerSize.height, s = t.containerSize.width, h = t._hasScroll(i, "left") ? i.scrollWidth : s, c = t._hasScroll(i) ? i.scrollHeight : o, t.parentData = { element: i, left: e.left, top: e.top, width: h, height: c })) }, resize: function (t) { var o, s, h, c, i = n(this).resizable("instance"), v = i.options, r = i.containerOffset, l = i.position, f = i._aspectRatio || t.shiftKey, e = { top: 0, left: 0 }, a = i.containerElement, u = !0; a[0] !== document && /static/.test(a.css("position")) && (e = r); l.left < (i._helper ? r.left : 0) && (i.size.width = i.size.width + (i._helper ? i.position.left - r.left : i.position.left - e.left), f && (i.size.height = i.size.width / i.aspectRatio, u = !1), i.position.left = v.helper ? r.left : 0); l.top < (i._helper ? r.top : 0) && (i.size.height = i.size.height + (i._helper ? i.position.top - r.top : i.position.top), f && (i.size.width = i.size.height * i.aspectRatio, u = !1), i.position.top = i._helper ? r.top : 0); h = i.containerElement.get(0) === i.element.parent().get(0); c = /relative|absolute/.test(i.containerElement.css("position")); h && c ? (i.offset.left = i.parentData.left + i.position.left, i.offset.top = i.parentData.top + i.position.top) : (i.offset.left = i.element.offset().left, i.offset.top = i.element.offset().top); o = Math.abs(i.sizeDiff.width + (i._helper ? i.offset.left - e.left : i.offset.left - r.left)); s = Math.abs(i.sizeDiff.height + (i._helper ? i.offset.top - e.top : i.offset.top - r.top)); o + i.size.width >= i.parentData.width && (i.size.width = i.parentData.width - o, f && (i.size.height = i.size.width / i.aspectRatio, u = !1)); s + i.size.height >= i.parentData.height && (i.size.height = i.parentData.height - s, f && (i.size.width = i.size.height * i.aspectRatio, u = !1)); u || (i.position.left = i.prevPosition.left, i.position.top = i.prevPosition.top, i.size.width = i.prevSize.width, i.size.height = i.prevSize.height) }, stop: function () { var t = n(this).resizable("instance"), r = t.options, u = t.containerOffset, f = t.containerPosition, e = t.containerElement, i = n(t.helper), o = i.offset(), s = i.outerWidth() - t.sizeDiff.width, h = i.outerHeight() - t.sizeDiff.height; t._helper && !r.animate && /relative/.test(e.css("position")) && n(this).css({ left: o.left - f.left - u.left, width: s, height: h }); t._helper && !r.animate && /static/.test(e.css("position")) && n(this).css({ left: o.left - f.left - u.left, width: s, height: h }) } }); n.ui.plugin.add("resizable", "alsoResize", { start: function () { var t = n(this).resizable("instance"), i = t.options; n(i.alsoResize).each(function () { var t = n(this); t.data("ui-resizable-alsoresize", { width: parseInt(t.width(), 10), height: parseInt(t.height(), 10), left: parseInt(t.css("left"), 10), top: parseInt(t.css("top"), 10) }) }) }, resize: function (t, i) { var r = n(this).resizable("instance"), e = r.options, u = r.originalSize, f = r.originalPosition, o = { height: r.size.height - u.height || 0, width: r.size.width - u.width || 0, top: r.position.top - f.top || 0, left: r.position.left - f.left || 0 }; n(e.alsoResize).each(function () { var t = n(this), u = n(this).data("ui-resizable-alsoresize"), r = {}, f = t.parents(i.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"]; n.each(f, function (n, t) { var i = (u[t] || 0) + (o[t] || 0); i && i >= 0 && (r[t] = i || null) }); t.css(r) }) }, stop: function () { n(this).removeData("resizable-alsoresize") } }); n.ui.plugin.add("resizable", "ghost", { start: function () { var t = n(this).resizable("instance"), i = t.options, r = t.size; t.ghost = t.originalElement.clone(); t.ghost.css({ opacity: .25, display: "block", position: "relative", height: r.height, width: r.width, margin: 0, left: 0, top: 0 }).addClass("ui-resizable-ghost").addClass("string" == typeof i.ghost ? i.ghost : ""); t.ghost.appendTo(t.helper) }, resize: function () { var t = n(this).resizable("instance"); t.ghost && t.ghost.css({ position: "relative", height: t.size.height, width: t.size.width }) }, stop: function () { var t = n(this).resizable("instance"); t.ghost && t.helper && t.helper.get(0).removeChild(t.ghost.get(0)) } }); n.ui.plugin.add("resizable", "grid", { resize: function () { var h, t = n(this).resizable("instance"), i = t.options, y = t.size, o = t.originalSize, s = t.originalPosition, c = t.axis, l = "number" == typeof i.grid ? [i.grid, i.grid] : i.grid, f = l[0] || 1, e = l[1] || 1, a = Math.round((y.width - o.width) / f) * f, v = Math.round((y.height - o.height) / e) * e, r = o.width + a, u = o.height + v, p = i.maxWidth && r > i.maxWidth, w = i.maxHeight && u > i.maxHeight, b = i.minWidth && i.minWidth > r, k = i.minHeight && i.minHeight > u; i.grid = l; b && (r += f); k && (u += e); p && (r -= f); w && (u -= e); /^(se|s|e)$/.test(c) ? (t.size.width = r, t.size.height = u) : /^(ne)$/.test(c) ? (t.size.width = r, t.size.height = u, t.position.top = s.top - v) : /^(sw)$/.test(c) ? (t.size.width = r, t.size.height = u, t.position.left = s.left - a) : ((0 >= u - e || 0 >= r - f) && (h = t._getPaddingPlusBorderDimensions(this)), u - e > 0 ? (t.size.height = u, t.position.top = s.top - v) : (u = e - h.height, t.size.height = u, t.position.top = s.top + o.height - u), r - f > 0 ? (t.size.width = r, t.position.left = s.left - a) : (r = f - h.width, t.size.width = r, t.position.left = s.left + o.width - r)) } }); n.ui.resizable; n.widget("ui.accordion", { version: "1.11.4", options: { active: 0, animate: {}, collapsible: !1, event: "click", header: "> li > :first-child,> :not(li):even", heightStyle: "auto", icons: { activeHeader: "ui-icon-triangle-1-s", header: "ui-icon-triangle-1-e" }, activate: null, beforeActivate: null }, hideProps: { borderTopWidth: "hide", borderBottomWidth: "hide", paddingTop: "hide", paddingBottom: "hide", height: "hide" }, showProps: { borderTopWidth: "show", borderBottomWidth: "show", paddingTop: "show", paddingBottom: "show", height: "show" }, _create: function () { var t = this.options; this.prevShow = this.prevHide = n(); this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role", "tablist"); t.collapsible || t.active !== !1 && null != t.active || (t.active = 0); this._processPanels(); 0 > t.active && (t.active += this.headers.length); this._refresh() }, _getCreateEventData: function () { return { header: this.active, panel: this.active.length ? this.active.next() : n() } }, _createIcons: function () { var t = this.options.icons; t && (n("<span>").addClass("ui-accordion-header-icon ui-icon " + t.header).prependTo(this.headers), this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader), this.headers.addClass("ui-accordion-icons")) }, _destroyIcons: function () { this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove() }, _destroy: function () { var n; this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"); this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(); this._destroyIcons(); n = this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display", "").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(); "content" !== this.options.heightStyle && n.css("height", "") }, _setOption: function (n, t) { return "active" === n ? (this._activate(t), void 0) : ("event" === n && (this.options.event && this._off(this.headers, this.options.event), this._setupEvents(t)), this._super(n, t), "collapsible" !== n || t || this.options.active !== !1 || this._activate(0), "icons" === n && (this._destroyIcons(), t && this._createIcons()), "disabled" === n && (this.element.toggleClass("ui-state-disabled", !!t).attr("aria-disabled", t), this.headers.add(this.headers.next()).toggleClass("ui-state-disabled", !!t)), void 0) }, _keydown: function (t) { if (!t.altKey && !t.ctrlKey) { var i = n.ui.keyCode, u = this.headers.length, f = this.headers.index(t.target), r = !1; switch (t.keyCode) { case i.RIGHT: case i.DOWN: r = this.headers[(f + 1) % u]; break; case i.LEFT: case i.UP: r = this.headers[(f - 1 + u) % u]; break; case i.SPACE: case i.ENTER: this._eventHandler(t); break; case i.HOME: r = this.headers[0]; break; case i.END: r = this.headers[u - 1] }r && (n(t.target).attr("tabIndex", -1), n(r).attr("tabIndex", 0), r.focus(), t.preventDefault()) } }, _panelKeyDown: function (t) { t.keyCode === n.ui.keyCode.UP && t.ctrlKey && n(t.currentTarget).prev().focus() }, refresh: function () { var t = this.options; this._processPanels(); t.active === !1 && t.collapsible === !0 || !this.headers.length ? (t.active = !1, this.active = n()) : t.active === !1 ? this._activate(0) : this.active.length && !n.contains(this.element[0], this.active[0]) ? this.headers.length === this.headers.find(".ui-state-disabled").length ? (t.active = !1, this.active = n()) : this._activate(Math.max(0, t.active - 1)) : t.active = this.headers.index(this.active); this._destroyIcons(); this._refresh() }, _processPanels: function () { var t = this.headers, n = this.panels; this.headers = this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"); this.panels = this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(); n && (this._off(t.not(this.headers)), this._off(n.not(this.panels))) }, _refresh: function () { var t, i = this.options, r = i.heightStyle, u = this.element.parent(); this.active = this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"); this.active.next().addClass("ui-accordion-content-active").show(); this.headers.attr("role", "tab").each(function () { var t = n(this), r = t.uniqueId().attr("id"), i = t.next(), u = i.uniqueId().attr("id"); t.attr("aria-controls", u); i.attr("aria-labelledby", r) }).next().attr("role", "tabpanel"); this.headers.not(this.active).attr({ "aria-selected": "false", "aria-expanded": "false", tabIndex: -1 }).next().attr({ "aria-hidden": "true" }).hide(); this.active.length ? this.active.attr({ "aria-selected": "true", "aria-expanded": "true", tabIndex: 0 }).next().attr({ "aria-hidden": "false" }) : this.headers.eq(0).attr("tabIndex", 0); this._createIcons(); this._setupEvents(i.event); "fill" === r ? (t = u.height(), this.element.siblings(":visible").each(function () { var i = n(this), r = i.css("position"); "absolute" !== r && "fixed" !== r && (t -= i.outerHeight(!0)) }), this.headers.each(function () { t -= n(this).outerHeight(!0) }), this.headers.next().each(function () { n(this).height(Math.max(0, t - n(this).innerHeight() + n(this).height())) }).css("overflow", "auto")) : "auto" === r && (t = 0, this.headers.next().each(function () { t = Math.max(t, n(this).css("height", "").height()) }).height(t)) }, _activate: function (t) { var i = this._findActive(t)[0]; i !== this.active[0] && (i = i || this.active[0], this._eventHandler({ target: i, currentTarget: i, preventDefault: n.noop })) }, _findActive: function (t) { return "number" == typeof t ? this.headers.eq(t) : n() }, _setupEvents: function (t) { var i = { keydown: "_keydown" }; t && n.each(t.split(" "), function (n, t) { i[t] = "_eventHandler" }); this._off(this.headers.add(this.headers.next())); this._on(this.headers, i); this._on(this.headers.next(), { keydown: "_panelKeyDown" }); this._hoverable(this.headers); this._focusable(this.headers) }, _eventHandler: function (t) { var i = this.options, u = this.active, r = n(t.currentTarget), f = r[0] === u[0], e = f && i.collapsible, s = e ? n() : r.next(), h = u.next(), o = { oldHeader: u, oldPanel: h, newHeader: e ? n() : r, newPanel: s }; t.preventDefault(); f && !i.collapsible || this._trigger("beforeActivate", t, o) === !1 || (i.active = e ? !1 : this.headers.index(r), this.active = f ? n() : r, this._toggle(o), u.removeClass("ui-accordion-header-active ui-state-active"), i.icons && u.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header), f || (r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"), i.icons && r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader), r.next().addClass("ui-accordion-content-active"))) }, _toggle: function (t) { var r = t.newPanel, i = this.prevShow.length ? this.prevShow : t.oldPanel; this.prevShow.add(this.prevHide).stop(!0, !0); this.prevShow = r; this.prevHide = i; this.options.animate ? this._animate(r, i, t) : (i.hide(), r.show(), this._toggleComplete(t)); i.attr({ "aria-hidden": "true" }); i.prev().attr({ "aria-selected": "false", "aria-expanded": "false" }); r.length && i.length ? i.prev().attr({ tabIndex: -1, "aria-expanded": "false" }) : r.length && this.headers.filter(function () { return 0 === parseInt(n(this).attr("tabIndex"), 10) }).attr("tabIndex", -1); r.attr("aria-hidden", "false").prev().attr({ "aria-selected": "true", "aria-expanded": "true", tabIndex: 0 }) }, _animate: function (n, t, i) { var h, r, u, c = this, o = 0, l = n.css("box-sizing"), a = n.length && (!t.length || n.index() < t.index()), e = this.options.animate || {}, f = a && e.down || e, s = function () { c._toggleComplete(i) }; return "number" == typeof f && (u = f), "string" == typeof f && (r = f), r = r || f.easing || e.easing, u = u || f.duration || e.duration, t.length ? n.length ? (h = n.show().outerHeight(), t.animate(this.hideProps, { duration: u, easing: r, step: function (n, t) { t.now = Math.round(n) } }), n.hide().animate(this.showProps, { duration: u, easing: r, complete: s, step: function (n, i) { i.now = Math.round(n); "height" !== i.prop ? "content-box" === l && (o += i.now) : "content" !== c.options.heightStyle && (i.now = Math.round(h - t.outerHeight() - o), o = 0) } }), void 0) : t.animate(this.hideProps, u, r, s) : n.animate(this.showProps, u, r, s) }, _toggleComplete: function (n) { var t = n.oldPanel; t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"); t.length && (t.parent()[0].className = t.parent()[0].className); this._trigger("activate", null, n) } }); var f, y = "ui-button ui-widget ui-state-default ui-corner-all", p = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only", k = function () { var t = n(this); setTimeout(function () { t.find(":ui-button").button("refresh") }, 1) }, w = function (t) { var i = t.name, r = t.form, u = n([]); return i && (i = i.replace(/'/g, "\\'"), u = r ? n(r).find("[name='" + i + "'][type=radio]") : n("[name='" + i + "'][type=radio]", t.ownerDocument).filter(function () { return !this.form })), u }; n.widget("ui.button", { version: "1.11.4", defaultElement: "<button>", options: { disabled: null, text: !0, label: null, icons: { primary: null, secondary: null } }, _create: function () { this.element.closest("form").unbind("reset" + this.eventNamespace).bind("reset" + this.eventNamespace, k); "boolean" != typeof this.options.disabled ? this.options.disabled = !!this.element.prop("disabled") : this.element.prop("disabled", this.options.disabled); this._determineButtonType(); this.hasTitle = !!this.buttonElement.attr("title"); var i = this, t = this.options, r = "checkbox" === this.type || "radio" === this.type, u = r ? "" : "ui-state-active"; null === t.label && (t.label = "input" === this.type ? this.buttonElement.val() : this.buttonElement.html()); this._hoverable(this.buttonElement); this.buttonElement.addClass(y).attr("role", "button").bind("mouseenter" + this.eventNamespace, function () { t.disabled || this === f && n(this).addClass("ui-state-active") }).bind("mouseleave" + this.eventNamespace, function () { t.disabled || n(this).removeClass(u) }).bind("click" + this.eventNamespace, function (n) { t.disabled && (n.preventDefault(), n.stopImmediatePropagation()) }); this._on({ focus: function () { this.buttonElement.addClass("ui-state-focus") }, blur: function () { this.buttonElement.removeClass("ui-state-focus") } }); r && this.element.bind("change" + this.eventNamespace, function () { i.refresh() }); "checkbox" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function () { if (t.disabled) return !1 }) : "radio" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function () { if (t.disabled) return !1; n(this).addClass("ui-state-active"); i.buttonElement.attr("aria-pressed", "true"); var r = i.element[0]; w(r).not(r).map(function () { return n(this).button("widget")[0] }).removeClass("ui-state-active").attr("aria-pressed", "false") }) : (this.buttonElement.bind("mousedown" + this.eventNamespace, function () { return t.disabled ? !1 : (n(this).addClass("ui-state-active"), f = this, i.document.one("mouseup", function () { f = null }), void 0) }).bind("mouseup" + this.eventNamespace, function () { return t.disabled ? !1 : (n(this).removeClass("ui-state-active"), void 0) }).bind("keydown" + this.eventNamespace, function (i) { return t.disabled ? !1 : ((i.keyCode === n.ui.keyCode.SPACE || i.keyCode === n.ui.keyCode.ENTER) && n(this).addClass("ui-state-active"), void 0) }).bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace, function () { n(this).removeClass("ui-state-active") }), this.buttonElement.is("a") && this.buttonElement.keyup(function (t) { t.keyCode === n.ui.keyCode.SPACE && n(this).click() })); this._setOption("disabled", t.disabled); this._resetButton() }, _determineButtonType: function () { var n, t, i; this.type = this.element.is("[type=checkbox]") ? "checkbox" : this.element.is("[type=radio]") ? "radio" : this.element.is("input") ? "input" : "button"; "checkbox" === this.type || "radio" === this.type ? (n = this.element.parents().last(), t = "label[for='" + this.element.attr("id") + "']", this.buttonElement = n.find(t), this.buttonElement.length || (n = n.length ? n.siblings() : this.element.siblings(), this.buttonElement = n.filter(t), this.buttonElement.length || (this.buttonElement = n.find(t))), this.element.addClass("ui-helper-hidden-accessible"), i = this.element.is(":checked"), i && this.buttonElement.addClass("ui-state-active"), this.buttonElement.prop("aria-pressed", i)) : this.buttonElement = this.element }, widget: function () { return this.buttonElement }, _destroy: function () { this.element.removeClass("ui-helper-hidden-accessible"); this.buttonElement.removeClass(y + " ui-state-active " + p).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()); this.hasTitle || this.buttonElement.removeAttr("title") }, _setOption: function (n, t) { return this._super(n, t), "disabled" === n ? (this.widget().toggleClass("ui-state-disabled", !!t), this.element.prop("disabled", !!t), t && ("checkbox" === this.type || "radio" === this.type ? this.buttonElement.removeClass("ui-state-focus") : this.buttonElement.removeClass("ui-state-focus ui-state-active")), void 0) : (this._resetButton(), void 0) }, refresh: function () { var t = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled"); t !== this.options.disabled && this._setOption("disabled", t); "radio" === this.type ? w(this.element[0]).each(function () { n(this).is(":checked") ? n(this).button("widget").addClass("ui-state-active").attr("aria-pressed", "true") : n(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", "false") }) : "checkbox" === this.type && (this.element.is(":checked") ? this.buttonElement.addClass("ui-state-active").attr("aria-pressed", "true") : this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", "false")) }, _resetButton: function () { if ("input" === this.type) return this.options.label && this.element.val(this.options.label), void 0; var i = this.buttonElement.removeClass(p), f = n("<span><\/span>", this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(i.empty()).text(), t = this.options.icons, u = t.primary && t.secondary, r = []; t.primary || t.secondary ? (this.options.text && r.push("ui-button-text-icon" + (u ? "s" : t.primary ? "-primary" : "-secondary")), t.primary && i.prepend("<span class='ui-button-icon-primary ui-icon " + t.primary + "'><\/span>"), t.secondary && i.append("<span class='ui-button-icon-secondary ui-icon " + t.secondary + "'><\/span>"), this.options.text || (r.push(u ? "ui-button-icons-only" : "ui-button-icon-only"), this.hasTitle || i.attr("title", n.trim(f)))) : r.push("ui-button-text-only"); i.addClass(r.join(" ")) } }); n.widget("ui.buttonset", { version: "1.11.4", options: { items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)" }, _create: function () { this.element.addClass("ui-buttonset") }, _init: function () { this.refresh() }, _setOption: function (n, t) { "disabled" === n && this.buttons.button("option", n, t); this._super(n, t) }, refresh: function () { var i = "rtl" === this.element.css("direction"), t = this.element.find(this.options.items), r = t.filter(":ui-button"); t.not(":ui-button").button(); r.button("refresh"); this.buttons = t.map(function () { return n(this).button("widget")[0] }).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(i ? "ui-corner-right" : "ui-corner-left").end().filter(":last").addClass(i ? "ui-corner-left" : "ui-corner-right").end().end() }, _destroy: function () { this.element.removeClass("ui-buttonset"); this.buttons.map(function () { return n(this).button("widget")[0] }).removeClass("ui-corner-left ui-corner-right").end().button("destroy") } }); n.ui.button; n.extend(n.ui, { datepicker: { version: "1.11.4" } }); n.extend(c.prototype, { markerClassName: "hasDatepicker", maxRows: 4, _widgetDatepicker: function () { return this.dpDiv }, setDefaults: function (n) { return r(this._defaults, n || {}), this }, _attachDatepicker: function (t, i) { var r, f, u; r = t.nodeName.toLowerCase(); f = "div" === r || "span" === r; t.id || (this.uuid += 1, t.id = "dp" + this.uuid); u = this._newInst(n(t), f); u.settings = n.extend({}, i || {}); "input" === r ? this._connectDatepicker(t, u) : f && this._inlineDatepicker(t, u) }, _newInst: function (t, i) { var r = t[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1"); return { id: r, input: t, selectedDay: 0, selectedMonth: 0, selectedYear: 0, drawMonth: 0, drawYear: 0, inline: i, dpDiv: i ? l(n("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>")) : this.dpDiv } }, _connectDatepicker: function (t, i) { var r = n(t); i.append = n([]); i.trigger = n([]); r.hasClass(this.markerClassName) || (this._attachments(r, i), r.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp), this._autoSize(i), n.data(t, "datepicker", i), i.settings.disabled && this._disableDatepicker(t)) }, _attachments: function (t, i) { var u, r, f, e = this._get(i, "appendText"), o = this._get(i, "isRTL"); i.append && i.append.remove(); e && (i.append = n("<span class='" + this._appendClass + "'>" + e + "<\/span>"), t[o ? "before" : "after"](i.append)); t.unbind("focus", this._showDatepicker); i.trigger && i.trigger.remove(); u = this._get(i, "showOn"); ("focus" === u || "both" === u) && t.focus(this._showDatepicker); ("button" === u || "both" === u) && (r = this._get(i, "buttonText"), f = this._get(i, "buttonImage"), i.trigger = n(this._get(i, "buttonImageOnly") ? n("<img/>").addClass(this._triggerClass).attr({ src: f, alt: r, title: r }) : n("<button type='button'><\/button>").addClass(this._triggerClass).html(f ? n("<img/>").attr({ src: f, alt: r, title: r }) : r)), t[o ? "before" : "after"](i.trigger), i.trigger.click(function () { return n.datepicker._datepickerShowing && n.datepicker._lastInput === t[0] ? n.datepicker._hideDatepicker() : n.datepicker._datepickerShowing && n.datepicker._lastInput !== t[0] ? (n.datepicker._hideDatepicker(), n.datepicker._showDatepicker(t[0])) : n.datepicker._showDatepicker(t[0]), !1 })) }, _autoSize: function (n) { if (this._get(n, "autoSize") && !n.inline) { var r, u, f, t, i = new Date(2009, 11, 20), e = this._get(n, "dateFormat"); e.match(/[DM]/) && (r = function (n) { for (u = 0, f = 0, t = 0; n.length > t; t++)n[t].length > u && (u = n[t].length, f = t); return f }, i.setMonth(r(this._get(n, e.match(/MM/) ? "monthNames" : "monthNamesShort"))), i.setDate(r(this._get(n, e.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - i.getDay())); n.input.attr("size", this._formatDate(n, i).length) } }, _inlineDatepicker: function (t, i) { var r = n(t); r.hasClass(this.markerClassName) || (r.addClass(this.markerClassName).append(i.dpDiv), n.data(t, "datepicker", i), this._setDate(i, this._getDefaultDate(i), !0), this._updateDatepicker(i), this._updateAlternate(i), i.settings.disabled && this._disableDatepicker(t), i.dpDiv.css("display", "block")) }, _dialogDatepicker: function (t, i, u, f, e) { var s, h, c, l, a, o = this._dialogInst; return o || (this.uuid += 1, s = "dp" + this.uuid, this._dialogInput = n("<input type='text' id='" + s + "' style='position: absolute; top: -100px; width: 0px;'/>"), this._dialogInput.keydown(this._doKeyDown), n("body").append(this._dialogInput), o = this._dialogInst = this._newInst(this._dialogInput, !1), o.settings = {}, n.data(this._dialogInput[0], "datepicker", o)), r(o.settings, f || {}), i = i && i.constructor === Date ? this._formatDate(o, i) : i, this._dialogInput.val(i), this._pos = e ? e.length ? e : [e.pageX, e.pageY] : null, this._pos || (h = document.documentElement.clientWidth, c = document.documentElement.clientHeight, l = document.documentElement.scrollLeft || document.body.scrollLeft, a = document.documentElement.scrollTop || document.body.scrollTop, this._pos = [h / 2 - 100 + l, c / 2 - 150 + a]), this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"), o.settings.onSelect = u, this._inDialog = !0, this.dpDiv.addClass(this._dialogClass), this._showDatepicker(this._dialogInput[0]), n.blockUI && n.blockUI(this.dpDiv), n.data(this._dialogInput[0], "datepicker", o), this }, _destroyDatepicker: function (i) { var r, u = n(i), f = n.data(i, "datepicker"); u.hasClass(this.markerClassName) && (r = i.nodeName.toLowerCase(), n.removeData(i, "datepicker"), "input" === r ? (f.append.remove(), f.trigger.remove(), u.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup", this._doKeyUp)) : ("div" === r || "span" === r) && u.removeClass(this.markerClassName).empty(), t === f && (t = null)) }, _enableDatepicker: function (t) { var i, r, u = n(t), f = n.data(t, "datepicker"); u.hasClass(this.markerClassName) && (i = t.nodeName.toLowerCase(), "input" === i ? (t.disabled = !1, f.trigger.filter("button").each(function () { this.disabled = !1 }).end().filter("img").css({ opacity: "1.0", cursor: "" })) : ("div" === i || "span" === i) && (r = u.children("." + this._inlineClass), r.children().removeClass("ui-state-disabled"), r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1)), this._disabledInputs = n.map(this._disabledInputs, function (n) { return n === t ? null : n })) }, _disableDatepicker: function (t) { var i, r, u = n(t), f = n.data(t, "datepicker"); u.hasClass(this.markerClassName) && (i = t.nodeName.toLowerCase(), "input" === i ? (t.disabled = !0, f.trigger.filter("button").each(function () { this.disabled = !0 }).end().filter("img").css({ opacity: "0.5", cursor: "default" })) : ("div" === i || "span" === i) && (r = u.children("." + this._inlineClass), r.children().addClass("ui-state-disabled"), r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0)), this._disabledInputs = n.map(this._disabledInputs, function (n) { return n === t ? null : n }), this._disabledInputs[this._disabledInputs.length] = t) }, _isDisabledDatepicker: function (n) { if (!n) return !1; for (var t = 0; this._disabledInputs.length > t; t++)if (this._disabledInputs[t] === n) return !0; return !1 }, _getInst: function (t) { try { return n.data(t, "datepicker") } catch (i) { throw "Missing instance data for this datepicker"; } }, _optionDatepicker: function (t, i, u) { var e, h, o, s, f = this._getInst(t); return 2 === arguments.length && "string" == typeof i ? "defaults" === i ? n.extend({}, n.datepicker._defaults) : f ? "all" === i ? n.extend({}, f.settings) : this._get(f, i) : null : (e = i || {}, "string" == typeof i && (e = {}, e[i] = u), f && (this._curInst === f && this._hideDatepicker(), h = this._getDateDatepicker(t, !0), o = this._getMinMaxDate(f, "min"), s = this._getMinMaxDate(f, "max"), r(f.settings, e), null !== o && void 0 !== e.dateFormat && void 0 === e.minDate && (f.settings.minDate = this._formatDate(f, o)), null !== s && void 0 !== e.dateFormat && void 0 === e.maxDate && (f.settings.maxDate = this._formatDate(f, s)), "disabled" in e && (e.disabled ? this._disableDatepicker(t) : this._enableDatepicker(t)), this._attachments(n(t), f), this._autoSize(f), this._setDate(f, h), this._updateAlternate(f), this._updateDatepicker(f)), void 0) }, _changeDatepicker: function (n, t, i) { this._optionDatepicker(n, t, i) }, _refreshDatepicker: function (n) { var t = this._getInst(n); t && this._updateDatepicker(t) }, _setDateDatepicker: function (n, t) { var i = this._getInst(n); i && (this._setDate(i, t), this._updateDatepicker(i), this._updateAlternate(i)) }, _getDateDatepicker: function (n, t) { var i = this._getInst(n); return i && !i.inline && this._setDateFromField(i, t), i ? this._getDate(i) : null }, _doKeyDown: function (t) { var u, e, f, i = n.datepicker._getInst(t.target), r = !0, o = i.dpDiv.is(".ui-datepicker-rtl"); if (i._keyEvent = !0, n.datepicker._datepickerShowing) switch (t.keyCode) { case 9: n.datepicker._hideDatepicker(); r = !1; break; case 13: return f = n("td." + n.datepicker._dayOverClass + ":not(." + n.datepicker._currentClass + ")", i.dpDiv), f[0] && n.datepicker._selectDay(t.target, i.selectedMonth, i.selectedYear, f[0]), u = n.datepicker._get(i, "onSelect"), u ? (e = n.datepicker._formatDate(i), u.apply(i.input ? i.input[0] : null, [e, i])) : n.datepicker._hideDatepicker(), !1; case 27: n.datepicker._hideDatepicker(); break; case 33: n.datepicker._adjustDate(t.target, t.ctrlKey ? -n.datepicker._get(i, "stepBigMonths") : -n.datepicker._get(i, "stepMonths"), "M"); break; case 34: n.datepicker._adjustDate(t.target, t.ctrlKey ? +n.datepicker._get(i, "stepBigMonths") : +n.datepicker._get(i, "stepMonths"), "M"); break; case 35: (t.ctrlKey || t.metaKey) && n.datepicker._clearDate(t.target); r = t.ctrlKey || t.metaKey; break; case 36: (t.ctrlKey || t.metaKey) && n.datepicker._gotoToday(t.target); r = t.ctrlKey || t.metaKey; break; case 37: (t.ctrlKey || t.metaKey) && n.datepicker._adjustDate(t.target, o ? 1 : -1, "D"); r = t.ctrlKey || t.metaKey; t.originalEvent.altKey && n.datepicker._adjustDate(t.target, t.ctrlKey ? -n.datepicker._get(i, "stepBigMonths") : -n.datepicker._get(i, "stepMonths"), "M"); break; case 38: (t.ctrlKey || t.metaKey) && n.datepicker._adjustDate(t.target, -7, "D"); r = t.ctrlKey || t.metaKey; break; case 39: (t.ctrlKey || t.metaKey) && n.datepicker._adjustDate(t.target, o ? -1 : 1, "D"); r = t.ctrlKey || t.metaKey; t.originalEvent.altKey && n.datepicker._adjustDate(t.target, t.ctrlKey ? +n.datepicker._get(i, "stepBigMonths") : +n.datepicker._get(i, "stepMonths"), "M"); break; case 40: (t.ctrlKey || t.metaKey) && n.datepicker._adjustDate(t.target, 7, "D"); r = t.ctrlKey || t.metaKey; break; default: r = !1 } else 36 === t.keyCode && t.ctrlKey ? n.datepicker._showDatepicker(this) : r = !1; r && (t.preventDefault(), t.stopPropagation()) }, _doKeyPress: function (t) { var i, r, u = n.datepicker._getInst(t.target); if (n.datepicker._get(u, "constrainInput")) return (i = n.datepicker._possibleChars(n.datepicker._get(u, "dateFormat")), r = String.fromCharCode(null == t.charCode ? t.keyCode : t.charCode), t.ctrlKey || t.metaKey || " " > r || !i || i.indexOf(r) > -1) }, _doKeyUp: function (t) { var r, i = n.datepicker._getInst(t.target); if (i.input.val() !== i.lastVal) try { r = n.datepicker.parseDate(n.datepicker._get(i, "dateFormat"), i.input ? i.input.val() : null, n.datepicker._getFormatConfig(i)); r && (n.datepicker._setDateFromField(i), n.datepicker._updateAlternate(i), n.datepicker._updateDatepicker(i)) } catch (u) { } return !0 }, _showDatepicker: function (t) { if (t = t.target || t, "input" !== t.nodeName.toLowerCase() && (t = n("input", t.parentNode)[0]), !n.datepicker._isDisabledDatepicker(t) && n.datepicker._lastInput !== t) { var i, o, s, u, f, e, h; i = n.datepicker._getInst(t); n.datepicker._curInst && n.datepicker._curInst !== i && (n.datepicker._curInst.dpDiv.stop(!0, !0), i && n.datepicker._datepickerShowing && n.datepicker._hideDatepicker(n.datepicker._curInst.input[0])); o = n.datepicker._get(i, "beforeShow"); s = o ? o.apply(t, [t, i]) : {}; s !== !1 && (r(i.settings, s), i.lastVal = null, n.datepicker._lastInput = t, n.datepicker._setDateFromField(i), n.datepicker._inDialog && (t.value = ""), n.datepicker._pos || (n.datepicker._pos = n.datepicker._findPos(t), n.datepicker._pos[1] += t.offsetHeight), u = !1, n(t).parents().each(function () { return u |= "fixed" === n(this).css("position"), !u }), f = { left: n.datepicker._pos[0], top: n.datepicker._pos[1] }, n.datepicker._pos = null, i.dpDiv.empty(), i.dpDiv.css({ position: "absolute", display: "block", top: "-1000px" }), n.datepicker._updateDatepicker(i), f = n.datepicker._checkOffset(i, f, u), i.dpDiv.css({ position: n.datepicker._inDialog && n.blockUI ? "static" : u ? "fixed" : "absolute", display: "none", left: f.left + "px", top: f.top + "px" }), i.inline || (e = n.datepicker._get(i, "showAnim"), h = n.datepicker._get(i, "duration"), i.dpDiv.css("z-index", b(n(t)) + 1), n.datepicker._datepickerShowing = !0, n.effects && n.effects.effect[e] ? i.dpDiv.show(e, n.datepicker._get(i, "showOptions"), h) : i.dpDiv[e || "show"](e ? h : null), n.datepicker._shouldFocusInput(i) && i.input.focus(), n.datepicker._curInst = i)) } }, _updateDatepicker: function (i) { this.maxRows = 4; t = i; i.dpDiv.empty().append(this._generateHTML(i)); this._attachHandlers(i); var r, u = this._getNumberOfMonths(i), f = u[1], e = i.dpDiv.find("." + this._dayOverClass + " a"); e.length > 0 && a.apply(e.get(0)); i.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""); f > 1 && i.dpDiv.addClass("ui-datepicker-multi-" + f).css("width", 17 * f + "em"); i.dpDiv[(1 !== u[0] || 1 !== u[1] ? "add" : "remove") + "Class"]("ui-datepicker-multi"); i.dpDiv[(this._get(i, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"); i === n.datepicker._curInst && n.datepicker._datepickerShowing && n.datepicker._shouldFocusInput(i) && i.input.focus(); i.yearshtml && (r = i.yearshtml, setTimeout(function () { r === i.yearshtml && i.yearshtml && i.dpDiv.find("select.ui-datepicker-year:first").replaceWith(i.yearshtml); r = i.yearshtml = null }, 0)) }, _shouldFocusInput: function (n) { return n.input && n.input.is(":visible") && !n.input.is(":disabled") && !n.input.is(":focus") }, _checkOffset: function (t, i, r) { var u = t.dpDiv.outerWidth(), f = t.dpDiv.outerHeight(), h = t.input ? t.input.outerWidth() : 0, o = t.input ? t.input.outerHeight() : 0, e = document.documentElement.clientWidth + (r ? 0 : n(document).scrollLeft()), s = document.documentElement.clientHeight + (r ? 0 : n(document).scrollTop()); return i.left -= this._get(t, "isRTL") ? u - h : 0, i.left -= r && i.left === t.input.offset().left ? n(document).scrollLeft() : 0, i.top -= r && i.top === t.input.offset().top + o ? n(document).scrollTop() : 0, i.left -= Math.min(i.left, i.left + u > e && e > u ? Math.abs(i.left + u - e) : 0), i.top -= Math.min(i.top, i.top + f > s && s > f ? Math.abs(f + o) : 0), i }, _findPos: function (t) { for (var i, r = this._getInst(t), u = this._get(r, "isRTL"); t && ("hidden" === t.type || 1 !== t.nodeType || n.expr.filters.hidden(t));)t = t[u ? "previousSibling" : "nextSibling"]; return i = n(t).offset(), [i.left, i.top] }, _hideDatepicker: function (t) { var r, f, u, e, i = this._curInst; !i || t && i !== n.data(t, "datepicker") || this._datepickerShowing && (r = this._get(i, "showAnim"), f = this._get(i, "duration"), u = function () { n.datepicker._tidyDialog(i) }, n.effects && (n.effects.effect[r] || n.effects[r]) ? i.dpDiv.hide(r, n.datepicker._get(i, "showOptions"), f, u) : i.dpDiv["slideDown" === r ? "slideUp" : "fadeIn" === r ? "fadeOut" : "hide"](r ? f : null, u), r || u(), this._datepickerShowing = !1, e = this._get(i, "onClose"), e && e.apply(i.input ? i.input[0] : null, [i.input ? i.input.val() : "", i]), this._lastInput = null, this._inDialog && (this._dialogInput.css({ position: "absolute", left: "0", top: "-100px" }), n.blockUI && (n.unblockUI(), n("body").append(this.dpDiv))), this._inDialog = !1) }, _tidyDialog: function (n) { n.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar") }, _checkExternalClick: function (t) { if (n.datepicker._curInst) { var i = n(t.target), r = n.datepicker._getInst(i[0]); (i[0].id === n.datepicker._mainDivId || 0 !== i.parents("#" + n.datepicker._mainDivId).length || i.hasClass(n.datepicker.markerClassName) || i.closest("." + n.datepicker._triggerClass).length || !n.datepicker._datepickerShowing || n.datepicker._inDialog && n.blockUI) && (!i.hasClass(n.datepicker.markerClassName) || n.datepicker._curInst === r) || n.datepicker._hideDatepicker() } }, _adjustDate: function (t, i, r) { var f = n(t), u = this._getInst(f[0]); this._isDisabledDatepicker(f[0]) || (this._adjustInstDate(u, i + ("M" === r ? this._get(u, "showCurrentAtPos") : 0), r), this._updateDatepicker(u)) }, _gotoToday: function (t) { var r, u = n(t), i = this._getInst(u[0]); this._get(i, "gotoCurrent") && i.currentDay ? (i.selectedDay = i.currentDay, i.drawMonth = i.selectedMonth = i.currentMonth, i.drawYear = i.selectedYear = i.currentYear) : (r = new Date, i.selectedDay = r.getDate(), i.drawMonth = i.selectedMonth = r.getMonth(), i.drawYear = i.selectedYear = r.getFullYear()); this._notifyChange(i); this._adjustDate(u) }, _selectMonthYear: function (t, i, r) { var f = n(t), u = this._getInst(f[0]); u["selected" + ("M" === r ? "Month" : "Year")] = u["draw" + ("M" === r ? "Month" : "Year")] = parseInt(i.options[i.selectedIndex].value, 10); this._notifyChange(u); this._adjustDate(f) }, _selectDay: function (t, i, r, u) { var f, e = n(t); n(u).hasClass(this._unselectableClass) || this._isDisabledDatepicker(e[0]) || (f = this._getInst(e[0]), f.selectedDay = f.currentDay = n("a", u).html(), f.selectedMonth = f.currentMonth = i, f.selectedYear = f.currentYear = r, this._selectDate(t, this._formatDate(f, f.currentDay, f.currentMonth, f.currentYear))) }, _clearDate: function (t) { var i = n(t); this._selectDate(i, "") }, _selectDate: function (t, i) { var u, f = n(t), r = this._getInst(f[0]); i = null != i ? i : this._formatDate(r); r.input && r.input.val(i); this._updateAlternate(r); u = this._get(r, "onSelect"); u ? u.apply(r.input ? r.input[0] : null, [i, r]) : r.input && r.input.trigger("change"); r.inline ? this._updateDatepicker(r) : (this._hideDatepicker(), this._lastInput = r.input[0], "object" != typeof r.input[0] && r.input.focus(), this._lastInput = null) }, _updateAlternate: function (t) { var i, r, u, f = this._get(t, "altField"); f && (i = this._get(t, "altFormat") || this._get(t, "dateFormat"), r = this._getDate(t), u = this.formatDate(i, r, this._getFormatConfig(t)), n(f).each(function () { n(this).val(u) })) }, noWeekends: function (n) { var t = n.getDay(); return [t > 0 && 6 > t, ""] }, iso8601Week: function (n) { var i, t = new Date(n.getTime()); return t.setDate(t.getDate() + 4 - (t.getDay() || 7)), i = t.getTime(), t.setMonth(0), t.setDate(1), Math.floor(Math.round((i - t) / 864e5) / 7) + 1 }, parseDate: function (t, i, r) { if (null == t || null == i) throw "Invalid arguments"; if (i = "object" == typeof i ? "" + i : i + "", "" === i) return null; for (var a, v, u, f = 0, y = (r ? r.shortYearCutoff : null) || this._defaults.shortYearCutoff, d = "string" != typeof y ? y : (new Date).getFullYear() % 100 + parseInt(y, 10), g = (r ? r.dayNamesShort : null) || this._defaults.dayNamesShort, nt = (r ? r.dayNames : null) || this._defaults.dayNames, tt = (r ? r.monthNamesShort : null) || this._defaults.monthNamesShort, it = (r ? r.monthNames : null) || this._defaults.monthNames, e = -1, s = -1, h = -1, p = -1, w = !1, l = function (n) { var i = t.length > o + 1 && t.charAt(o + 1) === n; return i && o++ , i }, c = function (n) { var u = l(n), r = "@" === n ? 14 : "!" === n ? 20 : "y" === n && u ? 4 : "o" === n ? 3 : 2, e = "y" === n ? r : 1, o = RegExp("^\\d{" + e + "," + r + "}"), t = i.substring(f).match(o); if (!t) throw "Missing number at position " + f; return f += t[0].length, parseInt(t[0], 10) }, k = function (t, r, u) { var e = -1, o = n.map(l(t) ? u : r, function (n, t) { return [[t, n]] }).sort(function (n, t) { return -(n[1].length - t[1].length) }); if (n.each(o, function (n, t) { var r = t[1]; if (i.substr(f, r.length).toLowerCase() === r.toLowerCase()) return (e = t[0], f += r.length, !1) }), -1 !== e) return e + 1; throw "Unknown name at position " + f; }, b = function () { if (i.charAt(f) !== t.charAt(o)) throw "Unexpected literal at position " + f; f++ }, o = 0; t.length > o; o++)if (w) "'" !== t.charAt(o) || l("'") ? b() : w = !1; else switch (t.charAt(o)) { case "d": h = c("d"); break; case "D": k("D", g, nt); break; case "o": p = c("o"); break; case "m": s = c("m"); break; case "M": s = k("M", tt, it); break; case "y": e = c("y"); break; case "@": u = new Date(c("@")); e = u.getFullYear(); s = u.getMonth() + 1; h = u.getDate(); break; case "!": u = new Date((c("!") - this._ticksTo1970) / 1e4); e = u.getFullYear(); s = u.getMonth() + 1; h = u.getDate(); break; case "'": l("'") ? b() : w = !0; break; default: b() }if (i.length > f && (v = i.substr(f), !/^\s+/.test(v))) throw "Extra/unparsed characters found in date: " + v; if (-1 === e ? e = (new Date).getFullYear() : 100 > e && (e += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (d >= e ? 0 : -100)), p > -1) for (s = 1, h = p; ;) { if (a = this._getDaysInMonth(e, s - 1), a >= h) break; s++; h -= a } if (u = this._daylightSavingAdjust(new Date(e, s - 1, h)), u.getFullYear() !== e || u.getMonth() + 1 !== s || u.getDate() !== h) throw "Invalid date"; return u }, ATOM: "yy-mm-dd", COOKIE: "D, dd M yy", ISO_8601: "yy-mm-dd", RFC_822: "D, d M y", RFC_850: "DD, dd-M-y", RFC_1036: "D, d M y", RFC_1123: "D, d M yy", RFC_2822: "D, d M yy", RSS: "D, d M y", TICKS: "!", TIMESTAMP: "@", W3C: "yy-mm-dd", _ticksTo1970: 864e9 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)), formatDate: function (n, t, i) { if (!t) return ""; var u, h = (i ? i.dayNamesShort : null) || this._defaults.dayNamesShort, c = (i ? i.dayNames : null) || this._defaults.dayNames, l = (i ? i.monthNamesShort : null) || this._defaults.monthNamesShort, a = (i ? i.monthNames : null) || this._defaults.monthNames, f = function (t) { var i = n.length > u + 1 && n.charAt(u + 1) === t; return i && u++ , i }, e = function (n, t, i) { var r = "" + t; if (f(n)) for (; i > r.length;)r = "0" + r; return r }, s = function (n, t, i, r) { return f(n) ? r[t] : i[t] }, r = "", o = !1; if (t) for (u = 0; n.length > u; u++)if (o) "'" !== n.charAt(u) || f("'") ? r += n.charAt(u) : o = !1; else switch (n.charAt(u)) { case "d": r += e("d", t.getDate(), 2); break; case "D": r += s("D", t.getDay(), h, c); break; case "o": r += e("o", Math.round((new Date(t.getFullYear(), t.getMonth(), t.getDate()).getTime() - new Date(t.getFullYear(), 0, 0).getTime()) / 864e5), 3); break; case "m": r += e("m", t.getMonth() + 1, 2); break; case "M": r += s("M", t.getMonth(), l, a); break; case "y": r += f("y") ? t.getFullYear() : (10 > t.getYear() % 100 ? "0" : "") + t.getYear() % 100; break; case "@": r += t.getTime(); break; case "!": r += 1e4 * t.getTime() + this._ticksTo1970; break; case "'": f("'") ? r += "'" : o = !0; break; default: r += n.charAt(u) }return r }, _possibleChars: function (n) { for (var i = "", r = !1, u = function (i) { var r = n.length > t + 1 && n.charAt(t + 1) === i; return r && t++ , r }, t = 0; n.length > t; t++)if (r) "'" !== n.charAt(t) || u("'") ? i += n.charAt(t) : r = !1; else switch (n.charAt(t)) { case "d": case "m": case "y": case "@": i += "0123456789"; break; case "D": case "M": return null; case "'": u("'") ? i += "'" : r = !0; break; default: i += n.charAt(t) }return i }, _get: function (n, t) { return void 0 !== n.settings[t] ? n.settings[t] : this._defaults[t] }, _setDateFromField: function (n, t) { if (n.input.val() !== n.lastVal) { var f = this._get(n, "dateFormat"), r = n.lastVal = n.input ? n.input.val() : null, u = this._getDefaultDate(n), i = u, e = this._getFormatConfig(n); try { i = this.parseDate(f, r, e) || u } catch (o) { r = t ? "" : r } n.selectedDay = i.getDate(); n.drawMonth = n.selectedMonth = i.getMonth(); n.drawYear = n.selectedYear = i.getFullYear(); n.currentDay = r ? i.getDate() : 0; n.currentMonth = r ? i.getMonth() : 0; n.currentYear = r ? i.getFullYear() : 0; this._adjustInstDate(n) } }, _getDefaultDate: function (n) { return this._restrictMinMax(n, this._determineDate(n, this._get(n, "defaultDate"), new Date)) }, _determineDate: function (t, i, r) { var f = function (n) { var t = new Date; return t.setDate(t.getDate() + n), t }, e = function (i) { try { return n.datepicker.parseDate(n.datepicker._get(t, "dateFormat"), i, n.datepicker._getFormatConfig(t)) } catch (h) { } for (var o = (i.toLowerCase().match(/^c/) ? n.datepicker._getDate(t) : null) || new Date, f = o.getFullYear(), e = o.getMonth(), r = o.getDate(), s = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, u = s.exec(i); u;) { switch (u[2] || "d") { case "d": case "D": r += parseInt(u[1], 10); break; case "w": case "W": r += 7 * parseInt(u[1], 10); break; case "m": case "M": e += parseInt(u[1], 10); r = Math.min(r, n.datepicker._getDaysInMonth(f, e)); break; case "y": case "Y": f += parseInt(u[1], 10); r = Math.min(r, n.datepicker._getDaysInMonth(f, e)) }u = s.exec(i) } return new Date(f, e, r) }, u = null == i || "" === i ? r : "string" == typeof i ? e(i) : "number" == typeof i ? isNaN(i) ? r : f(i) : new Date(i.getTime()); return u = u && "Invalid Date" == "" + u ? r : u, u && (u.setHours(0), u.setMinutes(0), u.setSeconds(0), u.setMilliseconds(0)), this._daylightSavingAdjust(u) }, _daylightSavingAdjust: function (n) { return n ? (n.setHours(n.getHours() > 12 ? n.getHours() + 2 : 0), n) : null }, _setDate: function (n, t, i) { var u = !t, f = n.selectedMonth, e = n.selectedYear, r = this._restrictMinMax(n, this._determineDate(n, t, new Date)); n.selectedDay = n.currentDay = r.getDate(); n.drawMonth = n.selectedMonth = n.currentMonth = r.getMonth(); n.drawYear = n.selectedYear = n.currentYear = r.getFullYear(); f === n.selectedMonth && e === n.selectedYear || i || this._notifyChange(n); this._adjustInstDate(n); n.input && n.input.val(u ? "" : this._formatDate(n)) }, _getDate: function (n) { return !n.currentYear || n.input && "" === n.input.val() ? null : this._daylightSavingAdjust(new Date(n.currentYear, n.currentMonth, n.currentDay)) }, _attachHandlers: function (t) { var r = this._get(t, "stepMonths"), i = "#" + t.id.replace(/\\\\/g, "\\"); t.dpDiv.find("[data-handler]").map(function () { var t = { prev: function () { n.datepicker._adjustDate(i, -r, "M") }, next: function () { n.datepicker._adjustDate(i, +r, "M") }, hide: function () { n.datepicker._hideDatepicker() }, today: function () { n.datepicker._gotoToday(i) }, selectDay: function () { return n.datepicker._selectDay(i, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this), !1 }, selectMonth: function () { return n.datepicker._selectMonthYear(i, this, "M"), !1 }, selectYear: function () { return n.datepicker._selectMonthYear(i, this, "Y"), !1 } }; n(this).bind(this.getAttribute("data-event"), t[this.getAttribute("data-handler")]) }) }, _generateHTML: function (n) { var b, s, rt, h, ut, k, ft, et, ri, c, ot, ui, fi, ei, oi, st, g, si, ht, nt, o, y, ct, p, lt, l, u, at, vt, yt, pt, tt, wt, i, bt, kt, d, a, it, dt = new Date, gt = this._daylightSavingAdjust(new Date(dt.getFullYear(), dt.getMonth(), dt.getDate())), f = this._get(n, "isRTL"), li = this._get(n, "showButtonPanel"), hi = this._get(n, "hideIfNoPrevNext"), ni = this._get(n, "navigationAsDateFormat"), e = this._getNumberOfMonths(n), ai = this._get(n, "showCurrentAtPos"), ci = this._get(n, "stepMonths"), ti = 1 !== e[0] || 1 !== e[1], ii = this._daylightSavingAdjust(n.currentDay ? new Date(n.currentYear, n.currentMonth, n.currentDay) : new Date(9999, 9, 9)), w = this._getMinMaxDate(n, "min"), v = this._getMinMaxDate(n, "max"), t = n.drawMonth - ai, r = n.drawYear; if (0 > t && (t += 12, r--), v) for (b = this._daylightSavingAdjust(new Date(v.getFullYear(), v.getMonth() - e[0] * e[1] + 1, v.getDate())), b = w && w > b ? w : b; this._daylightSavingAdjust(new Date(r, t, 1)) > b;)t-- , 0 > t && (t = 11, r--); for (n.drawMonth = t, n.drawYear = r, s = this._get(n, "prevText"), s = ni ? this.formatDate(s, this._daylightSavingAdjust(new Date(r, t - ci, 1)), this._getFormatConfig(n)) : s, rt = this._canAdjustMonth(n, -1, r, t) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + s + "'><span class='ui-icon ui-icon-circle-triangle-" + (f ? "e" : "w") + "'>" + s + "<\/span><\/a>" : hi ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + s + "'><span class='ui-icon ui-icon-circle-triangle-" + (f ? "e" : "w") + "'>" + s + "<\/span><\/a>", h = this._get(n, "nextText"), h = ni ? this.formatDate(h, this._daylightSavingAdjust(new Date(r, t + ci, 1)), this._getFormatConfig(n)) : h, ut = this._canAdjustMonth(n, 1, r, t) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + h + "'><span class='ui-icon ui-icon-circle-triangle-" + (f ? "w" : "e") + "'>" + h + "<\/span><\/a>" : hi ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + h + "'><span class='ui-icon ui-icon-circle-triangle-" + (f ? "w" : "e") + "'>" + h + "<\/span><\/a>", k = this._get(n, "currentText"), ft = this._get(n, "gotoCurrent") && n.currentDay ? ii : gt, k = ni ? this.formatDate(k, ft, this._getFormatConfig(n)) : k, et = n.inline ? "" : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(n, "closeText") + "<\/button>", ri = li ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (f ? et : "") + (this._isInRange(n, ft) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" + k + "<\/button>" : "") + (f ? "" : et) + "<\/div>" : "", c = parseInt(this._get(n, "firstDay"), 10), c = isNaN(c) ? 0 : c, ot = this._get(n, "showWeek"), ui = this._get(n, "dayNames"), fi = this._get(n, "dayNamesMin"), ei = this._get(n, "monthNames"), oi = this._get(n, "monthNamesShort"), st = this._get(n, "beforeShowDay"), g = this._get(n, "showOtherMonths"), si = this._get(n, "selectOtherMonths"), ht = this._getDefaultDate(n), nt = "", y = 0; e[0] > y; y++) { for (ct = "", this.maxRows = 4, p = 0; e[1] > p; p++) { if (lt = this._daylightSavingAdjust(new Date(r, t, n.selectedDay)), l = " ui-corner-all", u = "", ti) { if (u += "<div class='ui-datepicker-group", e[1] > 1) switch (p) { case 0: u += " ui-datepicker-group-first"; l = " ui-corner-" + (f ? "right" : "left"); break; case e[1] - 1: u += " ui-datepicker-group-last"; l = " ui-corner-" + (f ? "left" : "right"); break; default: u += " ui-datepicker-group-middle"; l = "" }u += "'>" } for (u += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + l + "'>" + (/all|left/.test(l) && 0 === y ? f ? ut : rt : "") + (/all|right/.test(l) && 0 === y ? f ? rt : ut : "") + this._generateMonthYearHeader(n, t, r, w, v, y > 0 || p > 0, ei, oi) + "<\/div><table class='ui-datepicker-calendar'><thead><tr>", at = ot ? "<th class='ui-datepicker-week-col'>" + this._get(n, "weekHeader") + "<\/th>" : "", o = 0; 7 > o; o++)vt = (o + c) % 7, at += "<th scope='col'" + ((o + c + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + "><span title='" + ui[vt] + "'>" + fi[vt] + "<\/span><\/th>"; for (u += at + "<\/tr><\/thead><tbody>", yt = this._getDaysInMonth(r, t), r === n.selectedYear && t === n.selectedMonth && (n.selectedDay = Math.min(n.selectedDay, yt)), pt = (this._getFirstDayOfMonth(r, t) - c + 7) % 7, tt = Math.ceil((pt + yt) / 7), wt = ti ? this.maxRows > tt ? this.maxRows : tt : tt, this.maxRows = wt, i = this._daylightSavingAdjust(new Date(r, t, 1 - pt)), bt = 0; wt > bt; bt++) { for (u += "<tr>", kt = ot ? "<td class='ui-datepicker-week-col'>" + this._get(n, "calculateWeek")(i) + "<\/td>" : "", o = 0; 7 > o; o++)d = st ? st.apply(n.input ? n.input[0] : null, [i]) : [!0, ""], a = i.getMonth() !== t, it = a && !si || !d[0] || w && w > i || v && i > v, kt += "<td class='" + ((o + c + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (a ? " ui-datepicker-other-month" : "") + (i.getTime() === lt.getTime() && t === n.selectedMonth && n._keyEvent || ht.getTime() === i.getTime() && ht.getTime() === lt.getTime() ? " " + this._dayOverClass : "") + (it ? " " + this._unselectableClass + " ui-state-disabled" : "") + (a && !g ? "" : " " + d[1] + (i.getTime() === ii.getTime() ? " " + this._currentClass : "") + (i.getTime() === gt.getTime() ? " ui-datepicker-today" : "")) + "'" + (a && !g || !d[2] ? "" : " title='" + d[2].replace(/'/g, "&#39;") + "'") + (it ? "" : " data-handler='selectDay' data-event='click' data-month='" + i.getMonth() + "' data-year='" + i.getFullYear() + "'") + ">" + (a && !g ? "&#xa0;" : it ? "<span class='ui-state-default'>" + i.getDate() + "<\/span>" : "<a class='ui-state-default" + (i.getTime() === gt.getTime() ? " ui-state-highlight" : "") + (i.getTime() === ii.getTime() ? " ui-state-active" : "") + (a ? " ui-priority-secondary" : "") + "' href='#'>" + i.getDate() + "<\/a>") + "<\/td>", i.setDate(i.getDate() + 1), i = this._daylightSavingAdjust(i); u += kt + "<\/tr>" } t++; t > 11 && (t = 0, r++); u += "<\/tbody><\/table>" + (ti ? "<\/div>" + (e[0] > 0 && p === e[1] - 1 ? "<div class='ui-datepicker-row-break'><\/div>" : "") : ""); ct += u } nt += ct } return nt += ri, n._keyEvent = !1, nt }, _generateMonthYearHeader: function (n, t, i, r, u, f, e, o) { var k, d, h, v, y, p, s, a, w = this._get(n, "changeMonth"), b = this._get(n, "changeYear"), g = this._get(n, "showMonthAfterYear"), c = "<div class='ui-datepicker-title'>", l = ""; if (f || !w) l += "<span class='ui-datepicker-month'>" + e[t] + "<\/span>"; else { for (k = r && r.getFullYear() === i, d = u && u.getFullYear() === i, l += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>", h = 0; 12 > h; h++)(!k || h >= r.getMonth()) && (!d || u.getMonth() >= h) && (l += "<option value='" + h + "'" + (h === t ? " selected='selected'" : "") + ">" + o[h] + "<\/option>"); l += "<\/select>" } if (g || (c += l + (!f && w && b ? "" : "&#xa0;")), !n.yearshtml) if (n.yearshtml = "", f || !b) c += "<span class='ui-datepicker-year'>" + i + "<\/span>"; else { for (v = this._get(n, "yearRange").split(":"), y = (new Date).getFullYear(), p = function (n) { var t = n.match(/c[+\-].*/) ? i + parseInt(n.substring(1), 10) : n.match(/[+\-].*/) ? y + parseInt(n, 10) : parseInt(n, 10); return isNaN(t) ? y : t }, s = p(v[0]), a = Math.max(s, p(v[1] || "")), s = r ? Math.max(s, r.getFullYear()) : s, a = u ? Math.min(a, u.getFullYear()) : a, n.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>"; a >= s; s++)n.yearshtml += "<option value='" + s + "'" + (s === i ? " selected='selected'" : "") + ">" + s + "<\/option>"; n.yearshtml += "<\/select>"; c += n.yearshtml; n.yearshtml = null } return c += this._get(n, "yearSuffix"), g && (c += (!f && w && b ? "" : "&#xa0;") + l), c + "<\/div>" }, _adjustInstDate: function (n, t, i) { var u = n.drawYear + ("Y" === i ? t : 0), f = n.drawMonth + ("M" === i ? t : 0), e = Math.min(n.selectedDay, this._getDaysInMonth(u, f)) + ("D" === i ? t : 0), r = this._restrictMinMax(n, this._daylightSavingAdjust(new Date(u, f, e))); n.selectedDay = r.getDate(); n.drawMonth = n.selectedMonth = r.getMonth(); n.drawYear = n.selectedYear = r.getFullYear(); ("M" === i || "Y" === i) && this._notifyChange(n) }, _restrictMinMax: function (n, t) { var i = this._getMinMaxDate(n, "min"), r = this._getMinMaxDate(n, "max"), u = i && i > t ? i : t; return r && u > r ? r : u }, _notifyChange: function (n) { var t = this._get(n, "onChangeMonthYear"); t && t.apply(n.input ? n.input[0] : null, [n.selectedYear, n.selectedMonth + 1, n]) }, _getNumberOfMonths: function (n) { var t = this._get(n, "numberOfMonths"); return null == t ? [1, 1] : "number" == typeof t ? [1, t] : t }, _getMinMaxDate: function (n, t) { return this._determineDate(n, this._get(n, t + "Date"), null) }, _getDaysInMonth: function (n, t) { return 32 - this._daylightSavingAdjust(new Date(n, t, 32)).getDate() }, _getFirstDayOfMonth: function (n, t) { return new Date(n, t, 1).getDay() }, _canAdjustMonth: function (n, t, i, r) { var f = this._getNumberOfMonths(n), u = this._daylightSavingAdjust(new Date(i, r + (0 > t ? t : f[0] * f[1]), 1)); return 0 > t && u.setDate(this._getDaysInMonth(u.getFullYear(), u.getMonth())), this._isInRange(n, u) }, _isInRange: function (n, t) { var i, f, e = this._getMinMaxDate(n, "min"), o = this._getMinMaxDate(n, "max"), r = null, u = null, s = this._get(n, "yearRange"); return s && (i = s.split(":"), f = (new Date).getFullYear(), r = parseInt(i[0], 10), u = parseInt(i[1], 10), i[0].match(/[+\-].*/) && (r += f), i[1].match(/[+\-].*/) && (u += f)), (!e || t.getTime() >= e.getTime()) && (!o || t.getTime() <= o.getTime()) && (!r || t.getFullYear() >= r) && (!u || u >= t.getFullYear()) }, _getFormatConfig: function (n) { var t = this._get(n, "shortYearCutoff"); return t = "string" != typeof t ? t : (new Date).getFullYear() % 100 + parseInt(t, 10), { shortYearCutoff: t, dayNamesShort: this._get(n, "dayNamesShort"), dayNames: this._get(n, "dayNames"), monthNamesShort: this._get(n, "monthNamesShort"), monthNames: this._get(n, "monthNames") } }, _formatDate: function (n, t, i, r) { t || (n.currentDay = n.selectedDay, n.currentMonth = n.selectedMonth, n.currentYear = n.selectedYear); var u = t ? "object" == typeof t ? t : this._daylightSavingAdjust(new Date(r, i, t)) : this._daylightSavingAdjust(new Date(n.currentYear, n.currentMonth, n.currentDay)); return this.formatDate(this._get(n, "dateFormat"), u, this._getFormatConfig(n)) } }); n.fn.datepicker = function (t) { if (!this.length) return this; n.datepicker.initialized || (n(document).mousedown(n.datepicker._checkExternalClick), n.datepicker.initialized = !0); 0 === n("#" + n.datepicker._mainDivId).length && n("body").append(n.datepicker.dpDiv); var i = Array.prototype.slice.call(arguments, 1); return "string" != typeof t || "isDisabled" !== t && "getDate" !== t && "widget" !== t ? "option" === t && 2 === arguments.length && "string" == typeof arguments[1] ? n.datepicker["_" + t + "Datepicker"].apply(n.datepicker, [this[0]].concat(i)) : this.each(function () { "string" == typeof t ? n.datepicker["_" + t + "Datepicker"].apply(n.datepicker, [this].concat(i)) : n.datepicker._attachDatepicker(this, t) }) : n.datepicker["_" + t + "Datepicker"].apply(n.datepicker, [this[0]].concat(i)) }; n.datepicker = new c; n.datepicker.initialized = !1; n.datepicker.uuid = (new Date).getTime(); n.datepicker.version = "1.11.4"; n.datepicker; n.widget("ui.dialog", { version: "1.11.4", options: { appendTo: "body", autoOpen: !0, buttons: [], closeOnEscape: !0, closeText: "Close", dialogClass: "", draggable: !0, hide: null, height: "auto", maxHeight: null, maxWidth: null, minHeight: 150, minWidth: 150, modal: !1, position: { my: "center", at: "center", of: window, collision: "fit", using: function (t) { var i = n(this).css(t).offset().top; 0 > i && n(this).css("top", t.top - i) } }, resizable: !0, show: null, title: null, width: 300, beforeClose: null, close: null, drag: null, dragStart: null, dragStop: null, focus: null, open: null, resize: null, resizeStart: null, resizeStop: null }, sizeRelatedOptions: { buttons: !0, height: !0, maxHeight: !0, maxWidth: !0, minHeight: !0, minWidth: !0, width: !0 }, resizableRelatedOptions: { maxHeight: !0, maxWidth: !0, minHeight: !0, minWidth: !0 }, _create: function () { this.originalCss = { display: this.element[0].style.display, width: this.element[0].style.width, minHeight: this.element[0].style.minHeight, maxHeight: this.element[0].style.maxHeight, height: this.element[0].style.height }; this.originalPosition = { parent: this.element.parent(), index: this.element.parent().children().index(this.element) }; this.originalTitle = this.element.attr("title"); this.options.title = this.options.title || this.originalTitle; this._createWrapper(); this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog); this._createTitlebar(); this._createButtonPane(); this.options.draggable && n.fn.draggable && this._makeDraggable(); this.options.resizable && n.fn.resizable && this._makeResizable(); this._isOpen = !1; this._trackFocus() }, _init: function () { this.options.autoOpen && this.open() }, _appendTo: function () { var t = this.options.appendTo; return t && (t.jquery || t.nodeType) ? n(t) : this.document.find(t || "body").eq(0) }, _destroy: function () { var n, t = this.originalPosition; this._untrackInstance(); this._destroyOverlay(); this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(); this.uiDialog.stop(!0, !0).remove(); this.originalTitle && this.element.attr("title", this.originalTitle); n = t.parent.children().eq(t.index); n.length && n[0] !== this.element[0] ? n.before(this.element) : t.parent.append(this.element) }, widget: function () { return this.uiDialog }, disable: n.noop, enable: n.noop, close: function (t) { var i, r = this; if (this._isOpen && this._trigger("beforeClose", t) !== !1) { if (this._isOpen = !1, this._focusedElement = null, this._destroyOverlay(), this._untrackInstance(), !this.opener.filter(":focusable").focus().length) try { i = this.document[0].activeElement; i && "body" !== i.nodeName.toLowerCase() && n(i).blur() } catch (u) { } this._hide(this.uiDialog, this.options.hide, function () { r._trigger("close", t) }) } }, isOpen: function () { return this._isOpen }, moveToTop: function () { this._moveToTop() }, _moveToTop: function (t, i) { var r = !1, f = this.uiDialog.siblings(".ui-front:visible").map(function () { return +n(this).css("z-index") }).get(), u = Math.max.apply(null, f); return u >= +this.uiDialog.css("z-index") && (this.uiDialog.css("z-index", u + 1), r = !0), r && !i && this._trigger("focus", t), r }, open: function () { var t = this; return this._isOpen ? (this._moveToTop() && this._focusTabbable(), void 0) : (this._isOpen = !0, this.opener = n(this.document[0].activeElement), this._size(), this._position(), this._createOverlay(), this._moveToTop(null, !0), this.overlay && this.overlay.css("z-index", this.uiDialog.css("z-index") - 1), this._show(this.uiDialog, this.options.show, function () { t._focusTabbable(); t._trigger("focus") }), this._makeFocusTarget(), this._trigger("open"), void 0) }, _focusTabbable: function () { var n = this._focusedElement; n || (n = this.element.find("[autofocus]")); n.length || (n = this.element.find(":tabbable")); n.length || (n = this.uiDialogButtonPane.find(":tabbable")); n.length || (n = this.uiDialogTitlebarClose.filter(":tabbable")); n.length || (n = this.uiDialog); n.eq(0).focus() }, _keepFocus: function (t) { function i() { var t = this.document[0].activeElement, i = this.uiDialog[0] === t || n.contains(this.uiDialog[0], t); i || this._focusTabbable() } t.preventDefault(); i.call(this); this._delay(i) }, _createWrapper: function () { this.uiDialog = n("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass).hide().attr({ tabIndex: -1, role: "dialog" }).appendTo(this._appendTo()); this._on(this.uiDialog, { keydown: function (t) { if (this.options.closeOnEscape && !t.isDefaultPrevented() && t.keyCode && t.keyCode === n.ui.keyCode.ESCAPE) return t.preventDefault(), this.close(t), void 0; if (t.keyCode === n.ui.keyCode.TAB && !t.isDefaultPrevented()) { var i = this.uiDialog.find(":tabbable"), r = i.filter(":first"), u = i.filter(":last"); t.target !== u[0] && t.target !== this.uiDialog[0] || t.shiftKey ? t.target !== r[0] && t.target !== this.uiDialog[0] || !t.shiftKey || (this._delay(function () { u.focus() }), t.preventDefault()) : (this._delay(function () { r.focus() }), t.preventDefault()) } }, mousedown: function (n) { this._moveToTop(n) && this._focusTabbable() } }); this.element.find("[aria-describedby]").length || this.uiDialog.attr({ "aria-describedby": this.element.uniqueId().attr("id") }) }, _createTitlebar: function () { var t; this.uiDialogTitlebar = n("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog); this._on(this.uiDialogTitlebar, { mousedown: function (t) { n(t.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.focus() } }); this.uiDialogTitlebarClose = n("<button type='button'><\/button>").button({ label: this.options.closeText, icons: { primary: "ui-icon-closethick" }, text: !1 }).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar); this._on(this.uiDialogTitlebarClose, { click: function (n) { n.preventDefault(); this.close(n) } }); t = n("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar); this._title(t); this.uiDialog.attr({ "aria-labelledby": t.attr("id") }) }, _title: function (n) { this.options.title || n.html("&#160;"); n.text(this.options.title) }, _createButtonPane: function () { this.uiDialogButtonPane = n("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"); this.uiButtonSet = n("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane); this._createButtons() }, _createButtons: function () { var i = this, t = this.options.buttons; return this.uiDialogButtonPane.remove(), this.uiButtonSet.empty(), n.isEmptyObject(t) || n.isArray(t) && !t.length ? (this.uiDialog.removeClass("ui-dialog-buttons"), void 0) : (n.each(t, function (t, r) { var u, f; r = n.isFunction(r) ? { click: r, text: t } : r; r = n.extend({ type: "button" }, r); u = r.click; r.click = function () { u.apply(i.element[0], arguments) }; f = { icons: r.icons, text: r.showText }; delete r.icons; delete r.showText; n("<button><\/button>", r).button(f).appendTo(i.uiButtonSet) }), this.uiDialog.addClass("ui-dialog-buttons"), this.uiDialogButtonPane.appendTo(this.uiDialog), void 0) }, _makeDraggable: function () { function i(n) { return { position: n.position, offset: n.offset } } var t = this, r = this.options; this.uiDialog.draggable({ cancel: ".ui-dialog-content, .ui-dialog-titlebar-close", handle: ".ui-dialog-titlebar", containment: "document", start: function (r, u) { n(this).addClass("ui-dialog-dragging"); t._blockFrames(); t._trigger("dragStart", r, i(u)) }, drag: function (n, r) { t._trigger("drag", n, i(r)) }, stop: function (u, f) { var e = f.offset.left - t.document.scrollLeft(), o = f.offset.top - t.document.scrollTop(); r.position = { my: "left top", at: "left" + (e >= 0 ? "+" : "") + e + " top" + (o >= 0 ? "+" : "") + o, of: t.window }; n(this).removeClass("ui-dialog-dragging"); t._unblockFrames(); t._trigger("dragStop", u, i(f)) } }) }, _makeResizable: function () { function r(n) { return { originalPosition: n.originalPosition, originalSize: n.originalSize, position: n.position, size: n.size } } var t = this, i = this.options, u = i.resizable, f = this.uiDialog.css("position"), e = "string" == typeof u ? u : "n,e,s,w,se,sw,ne,nw"; this.uiDialog.resizable({ cancel: ".ui-dialog-content", containment: "document", alsoResize: this.element, maxWidth: i.maxWidth, maxHeight: i.maxHeight, minWidth: i.minWidth, minHeight: this._minHeight(), handles: e, start: function (i, u) { n(this).addClass("ui-dialog-resizing"); t._blockFrames(); t._trigger("resizeStart", i, r(u)) }, resize: function (n, i) { t._trigger("resize", n, r(i)) }, stop: function (u, f) { var e = t.uiDialog.offset(), o = e.left - t.document.scrollLeft(), s = e.top - t.document.scrollTop(); i.height = t.uiDialog.height(); i.width = t.uiDialog.width(); i.position = { my: "left top", at: "left" + (o >= 0 ? "+" : "") + o + " top" + (s >= 0 ? "+" : "") + s, of: t.window }; n(this).removeClass("ui-dialog-resizing"); t._unblockFrames(); t._trigger("resizeStop", u, r(f)) } }).css("position", f) }, _trackFocus: function () { this._on(this.widget(), { focusin: function (t) { this._makeFocusTarget(); this._focusedElement = n(t.target) } }) }, _makeFocusTarget: function () { this._untrackInstance(); this._trackingInstances().unshift(this) }, _untrackInstance: function () { var t = this._trackingInstances(), i = n.inArray(this, t); -1 !== i && t.splice(i, 1) }, _trackingInstances: function () { var n = this.document.data("ui-dialog-instances"); return n || (n = [], this.document.data("ui-dialog-instances", n)), n }, _minHeight: function () { var n = this.options; return "auto" === n.height ? n.minHeight : Math.min(n.minHeight, n.height) }, _position: function () { var n = this.uiDialog.is(":visible"); n || this.uiDialog.show(); this.uiDialog.position(this.options.position); n || this.uiDialog.hide() }, _setOptions: function (t) { var i = this, r = !1, u = {}; n.each(t, function (n, t) { i._setOption(n, t); n in i.sizeRelatedOptions && (r = !0); n in i.resizableRelatedOptions && (u[n] = t) }); r && (this._size(), this._position()); this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", u) }, _setOption: function (n, t) { var u, r, i = this.uiDialog; "dialogClass" === n && i.removeClass(this.options.dialogClass).addClass(t); "disabled" !== n && (this._super(n, t), "appendTo" === n && this.uiDialog.appendTo(this._appendTo()), "buttons" === n && this._createButtons(), "closeText" === n && this.uiDialogTitlebarClose.button({ label: "" + t }), "draggable" === n && (u = i.is(":data(ui-draggable)"), u && !t && i.draggable("destroy"), !u && t && this._makeDraggable()), "position" === n && this._position(), "resizable" === n && (r = i.is(":data(ui-resizable)"), r && !t && i.resizable("destroy"), r && "string" == typeof t && i.resizable("option", "handles", t), r || t === !1 || this._makeResizable()), "title" === n && this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))) }, _size: function () { var t, i, r, n = this.options; this.element.show().css({ width: "auto", minHeight: 0, maxHeight: "none", height: 0 }); n.minWidth > n.width && (n.width = n.minWidth); t = this.uiDialog.css({ height: "auto", width: n.width }).outerHeight(); i = Math.max(0, n.minHeight - t); r = "number" == typeof n.maxHeight ? Math.max(0, n.maxHeight - t) : "none"; "auto" === n.height ? this.element.css({ minHeight: i, maxHeight: r, height: "auto" }) : this.element.height(Math.max(0, n.height - t)); this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight()) }, _blockFrames: function () { this.iframeBlocks = this.document.find("iframe").map(function () { var t = n(this); return n("<div>").css({ position: "absolute", width: t.outerWidth(), height: t.outerHeight() }).appendTo(t.parent()).offset(t.offset())[0] }) }, _unblockFrames: function () { this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks) }, _allowInteraction: function (t) { return n(t.target).closest(".ui-dialog").length ? !0 : !!n(t.target).closest(".ui-datepicker").length }, _createOverlay: function () { if (this.options.modal) { var t = !0; this._delay(function () { t = !1 }); this.document.data("ui-dialog-overlays") || this._on(this.document, { focusin: function (n) { t || this._allowInteraction(n) || (n.preventDefault(), this._trackingInstances()[0]._focusTabbable()) } }); this.overlay = n("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()); this._on(this.overlay, { mousedown: "_keepFocus" }); this.document.data("ui-dialog-overlays", (this.document.data("ui-dialog-overlays") || 0) + 1) } }, _destroyOverlay: function () { if (this.options.modal && this.overlay) { var n = this.document.data("ui-dialog-overlays") - 1; n ? this.document.data("ui-dialog-overlays", n) : this.document.unbind("focusin").removeData("ui-dialog-overlays"); this.overlay.remove(); this.overlay = null } } }); n.widget("ui.tabs", { version: "1.11.4", delay: 300, options: { active: null, collapsible: !1, event: "click", heightStyle: "content", hide: null, show: null, activate: null, beforeActivate: null, beforeLoad: null, load: null }, _isLocal: function () { var n = /#.*$/; return function (t) { var i, r; t = t.cloneNode(!1); i = t.href.replace(n, ""); r = location.href.replace(n, ""); try { i = decodeURIComponent(i) } catch (u) { } try { r = decodeURIComponent(r) } catch (u) { } return t.hash.length > 1 && i === r } }(), _create: function () { var i = this, t = this.options; this.running = !1; this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible", t.collapsible); this._processTabs(); t.active = this._initialActive(); n.isArray(t.disabled) && (t.disabled = n.unique(t.disabled.concat(n.map(this.tabs.filter(".ui-state-disabled"), function (n) { return i.tabs.index(n) }))).sort()); this.active = this.options.active !== !1 && this.anchors.length ? this._findActive(t.active) : n(); this._refresh(); this.active.length && this.load(t.active) }, _initialActive: function () { var t = this.options.active, i = this.options.collapsible, r = location.hash.substring(1); return null === t && (r && this.tabs.each(function (i, u) { if (n(u).attr("aria-controls") === r) return (t = i, !1) }), null === t && (t = this.tabs.index(this.tabs.filter(".ui-tabs-active"))), (null === t || -1 === t) && (t = this.tabs.length ? 0 : !1)), t !== !1 && (t = this.tabs.index(this.tabs.eq(t)), -1 === t && (t = i ? !1 : 0)), !i && t === !1 && this.anchors.length && (t = 0), t }, _getCreateEventData: function () { return { tab: this.active, panel: this.active.length ? this._getPanelForTab(this.active) : n() } }, _tabKeydown: function (t) { var r = n(this.document[0].activeElement).closest("li"), i = this.tabs.index(r), u = !0; if (!this._handlePageNav(t)) { switch (t.keyCode) { case n.ui.keyCode.RIGHT: case n.ui.keyCode.DOWN: i++; break; case n.ui.keyCode.UP: case n.ui.keyCode.LEFT: u = !1; i--; break; case n.ui.keyCode.END: i = this.anchors.length - 1; break; case n.ui.keyCode.HOME: i = 0; break; case n.ui.keyCode.SPACE: return t.preventDefault(), clearTimeout(this.activating), this._activate(i), void 0; case n.ui.keyCode.ENTER: return t.preventDefault(), clearTimeout(this.activating), this._activate(i === this.options.active ? !1 : i), void 0; default: return }t.preventDefault(); clearTimeout(this.activating); i = this._focusNextTab(i, u); t.ctrlKey || t.metaKey || (r.attr("aria-selected", "false"), this.tabs.eq(i).attr("aria-selected", "true"), this.activating = this._delay(function () { this.option("active", i) }, this.delay)) } }, _panelKeydown: function (t) { this._handlePageNav(t) || t.ctrlKey && t.keyCode === n.ui.keyCode.UP && (t.preventDefault(), this.active.focus()) }, _handlePageNav: function (t) { return t.altKey && t.keyCode === n.ui.keyCode.PAGE_UP ? (this._activate(this._focusNextTab(this.options.active - 1, !1)), !0) : t.altKey && t.keyCode === n.ui.keyCode.PAGE_DOWN ? (this._activate(this._focusNextTab(this.options.active + 1, !0)), !0) : void 0 }, _findNextTab: function (t, i) { function u() { return t > r && (t = 0), 0 > t && (t = r), t } for (var r = this.tabs.length - 1; -1 !== n.inArray(u(), this.options.disabled);)t = i ? t + 1 : t - 1; return t }, _focusNextTab: function (n, t) { return n = this._findNextTab(n, t), this.tabs.eq(n).focus(), n }, _setOption: function (n, t) { return "active" === n ? (this._activate(t), void 0) : "disabled" === n ? (this._setupDisabled(t), void 0) : (this._super(n, t), "collapsible" === n && (this.element.toggleClass("ui-tabs-collapsible", t), t || this.options.active !== !1 || this._activate(0)), "event" === n && this._setupEvents(t), "heightStyle" === n && this._setupHeightStyle(t), void 0) }, _sanitizeSelector: function (n) { return n ? n.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : "" }, refresh: function () { var t = this.options, i = this.tablist.children(":has(a[href])"); t.disabled = n.map(i.filter(".ui-state-disabled"), function (n) { return i.index(n) }); this._processTabs(); t.active !== !1 && this.anchors.length ? this.active.length && !n.contains(this.tablist[0], this.active[0]) ? this.tabs.length === t.disabled.length ? (t.active = !1, this.active = n()) : this._activate(this._findNextTab(Math.max(0, t.active - 1), !1)) : t.active = this.tabs.index(this.active) : (t.active = !1, this.active = n()); this._refresh() }, _refresh: function () { this._setupDisabled(this.options.disabled); this._setupEvents(this.options.event); this._setupHeightStyle(this.options.heightStyle); this.tabs.not(this.active).attr({ "aria-selected": "false", "aria-expanded": "false", tabIndex: -1 }); this.panels.not(this._getPanelForTab(this.active)).hide().attr({ "aria-hidden": "true" }); this.active.length ? (this.active.addClass("ui-tabs-active ui-state-active").attr({ "aria-selected": "true", "aria-expanded": "true", tabIndex: 0 }), this._getPanelForTab(this.active).show().attr({ "aria-hidden": "false" })) : this.tabs.eq(0).attr("tabIndex", 0) }, _processTabs: function () { var t = this, i = this.tabs, r = this.anchors, u = this.panels; this.tablist = this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role", "tablist").delegate("> li", "mousedown" + this.eventNamespace, function (t) { n(this).is(".ui-state-disabled") && t.preventDefault() }).delegate(".ui-tabs-anchor", "focus" + this.eventNamespace, function () { n(this).closest("li").is(".ui-state-disabled") && this.blur() }); this.tabs = this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({ role: "tab", tabIndex: -1 }); this.anchors = this.tabs.map(function () { return n("a", this)[0] }).addClass("ui-tabs-anchor").attr({ role: "presentation", tabIndex: -1 }); this.panels = n(); this.anchors.each(function (i, r) { var f, u, e, s = n(r).uniqueId().attr("id"), o = n(r).closest("li"), h = o.attr("aria-controls"); t._isLocal(r) ? (f = r.hash, e = f.substring(1), u = t.element.find(t._sanitizeSelector(f))) : (e = o.attr("aria-controls") || n({}).uniqueId()[0].id, f = "#" + e, u = t.element.find(f), u.length || (u = t._createPanel(e), u.insertAfter(t.panels[i - 1] || t.tablist)), u.attr("aria-live", "polite")); u.length && (t.panels = t.panels.add(u)); h && o.data("ui-tabs-aria-controls", h); o.attr({ "aria-controls": e, "aria-labelledby": s }); u.attr("aria-labelledby", s) }); this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role", "tabpanel"); i && (this._off(i.not(this.tabs)), this._off(r.not(this.anchors)), this._off(u.not(this.panels))) }, _getList: function () { return this.tablist || this.element.find("ol,ul").eq(0) }, _createPanel: function (t) { return n("<div>").attr("id", t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy", !0) }, _setupDisabled: function (t) { n.isArray(t) && (t.length ? t.length === this.anchors.length && (t = !0) : t = !1); for (var i, r = 0; i = this.tabs[r]; r++)t === !0 || -1 !== n.inArray(r, t) ? n(i).addClass("ui-state-disabled").attr("aria-disabled", "true") : n(i).removeClass("ui-state-disabled").removeAttr("aria-disabled"); this.options.disabled = t }, _setupEvents: function (t) { var i = {}; t && n.each(t.split(" "), function (n, t) { i[t] = "_eventHandler" }); this._off(this.anchors.add(this.tabs).add(this.panels)); this._on(!0, this.anchors, { click: function (n) { n.preventDefault() } }); this._on(this.anchors, i); this._on(this.tabs, { keydown: "_tabKeydown" }); this._on(this.panels, { keydown: "_panelKeydown" }); this._focusable(this.tabs); this._hoverable(this.tabs) }, _setupHeightStyle: function (t) { var i, r = this.element.parent(); "fill" === t ? (i = r.height(), i -= this.element.outerHeight() - this.element.height(), this.element.siblings(":visible").each(function () { var t = n(this), r = t.css("position"); "absolute" !== r && "fixed" !== r && (i -= t.outerHeight(!0)) }), this.element.children().not(this.panels).each(function () { i -= n(this).outerHeight(!0) }), this.panels.each(function () { n(this).height(Math.max(0, i - n(this).innerHeight() + n(this).height())) }).css("overflow", "auto")) : "auto" === t && (i = 0, this.panels.each(function () { i = Math.max(i, n(this).height("").height()) }).height(i)) }, _eventHandler: function (t) { var u = this.options, r = this.active, c = n(t.currentTarget), i = c.closest("li"), f = i[0] === r[0], e = f && u.collapsible, o = e ? n() : this._getPanelForTab(i), s = r.length ? this._getPanelForTab(r) : n(), h = { oldTab: r, oldPanel: s, newTab: e ? n() : i, newPanel: o }; t.preventDefault(); i.hasClass("ui-state-disabled") || i.hasClass("ui-tabs-loading") || this.running || f && !u.collapsible || this._trigger("beforeActivate", t, h) === !1 || (u.active = e ? !1 : this.tabs.index(i), this.active = f ? n() : i, this.xhr && this.xhr.abort(), s.length || o.length || n.error("jQuery UI Tabs: Mismatching fragment identifier."), o.length && this.load(this.tabs.index(i), t), this._toggle(t, h)) }, _toggle: function (t, i) { function e() { u.running = !1; u._trigger("activate", t, i) } function o() { i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"); r.length && u.options.show ? u._show(r, u.options.show, e) : (r.show(), e()) } var u = this, r = i.newPanel, f = i.oldPanel; this.running = !0; f.length && this.options.hide ? this._hide(f, this.options.hide, function () { i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"); o() }) : (i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"), f.hide(), o()); f.attr("aria-hidden", "true"); i.oldTab.attr({ "aria-selected": "false", "aria-expanded": "false" }); r.length && f.length ? i.oldTab.attr("tabIndex", -1) : r.length && this.tabs.filter(function () { return 0 === n(this).attr("tabIndex") }).attr("tabIndex", -1); r.attr("aria-hidden", "false"); i.newTab.attr({ "aria-selected": "true", "aria-expanded": "true", tabIndex: 0 }) }, _activate: function (t) { var r, i = this._findActive(t); i[0] !== this.active[0] && (i.length || (i = this.active), r = i.find(".ui-tabs-anchor")[0], this._eventHandler({ target: r, currentTarget: r, preventDefault: n.noop })) }, _findActive: function (t) { return t === !1 ? n() : this.tabs.eq(t) }, _getIndex: function (n) { return "string" == typeof n && (n = this.anchors.index(this.anchors.filter("[href$='" + n + "']"))), n }, _destroy: function () { this.xhr && this.xhr.abort(); this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"); this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"); this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(); this.tablist.unbind(this.eventNamespace); this.tabs.add(this.panels).each(function () { n.data(this, "ui-tabs-destroy") ? n(this).remove() : n(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role") }); this.tabs.each(function () { var t = n(this), i = t.data("ui-tabs-aria-controls"); i ? t.attr("aria-controls", i).removeData("ui-tabs-aria-controls") : t.removeAttr("aria-controls") }); this.panels.show(); "content" !== this.options.heightStyle && this.panels.css("height", "") }, enable: function (t) { var i = this.options.disabled; i !== !1 && (void 0 === t ? i = !1 : (t = this._getIndex(t), i = n.isArray(i) ? n.map(i, function (n) { return n !== t ? n : null }) : n.map(this.tabs, function (n, i) { return i !== t ? i : null })), this._setupDisabled(i)) }, disable: function (t) { var i = this.options.disabled; if (i !== !0) { if (void 0 === t) i = !0; else { if (t = this._getIndex(t), -1 !== n.inArray(t, i)) return; i = n.isArray(i) ? n.merge([t], i).sort() : [t] } this._setupDisabled(i) } }, load: function (t, i) { t = this._getIndex(t); var u = this, r = this.tabs.eq(t), e = r.find(".ui-tabs-anchor"), f = this._getPanelForTab(r), o = { tab: r, panel: f }, s = function (n, t) { "abort" === t && u.panels.stop(!1, !0); r.removeClass("ui-tabs-loading"); f.removeAttr("aria-busy"); n === u.xhr && delete u.xhr }; this._isLocal(e[0]) || (this.xhr = n.ajax(this._ajaxSettings(e, i, o)), this.xhr && "canceled" !== this.xhr.statusText && (r.addClass("ui-tabs-loading"), f.attr("aria-busy", "true"), this.xhr.done(function (n, t, r) { setTimeout(function () { f.html(n); u._trigger("load", i, o); s(r, t) }, 1) }).fail(function (n, t) { setTimeout(function () { s(n, t) }, 1) }))) }, _ajaxSettings: function (t, i, r) { var u = this; return { url: t.attr("href"), beforeSend: function (t, f) { return u._trigger("beforeLoad", i, n.extend({ jqXHR: t, ajaxSettings: f }, r)) } } }, _getPanelForTab: function (t) { var i = n(t).attr("aria-controls"); return this.element.find(this._sanitizeSelector("#" + i)) } }); e = "ui-effects-"; o = n; n.effects = { effect: {} }, function (n, t) { function f(n, t, i) { var r = h[t.type] || {}; return null == n ? i || !t.def ? null : t.def : (n = r.floor ? ~~n : parseFloat(n), isNaN(n) ? t.def : r.mod ? (n + r.mod) % r.mod : 0 > n ? 0 : n > r.max ? r.max : n) } function s(f) { var o = i(), s = o._rgba = []; return f = f.toLowerCase(), r(v, function (n, i) { var r, h = i.re.exec(f), c = h && i.parse(h), e = i.space || "rgba"; return c ? (r = o[e](c), o[u[e].cache] = r[u[e].cache], s = o._rgba = r._rgba, !1) : t }), s.length ? ("0,0,0,0" === s.join() && n.extend(s, e.transparent), o) : e[f] } function o(n, t, i) { return i = (i + 1) % 1, 1 > 6 * i ? n + 6 * (t - n) * i : 1 > 2 * i ? t : 2 > 3 * i ? n + 6 * (t - n) * (2 / 3 - i) : n } var e, a = /^([\-+])=\s*(\d+\.?\d*)/, v = [{ re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/, parse: function (n) { return [n[1], n[2], n[3], n[4]] } }, { re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/, parse: function (n) { return [2.55 * n[1], 2.55 * n[2], 2.55 * n[3], n[4]] } }, { re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/, parse: function (n) { return [parseInt(n[1], 16), parseInt(n[2], 16), parseInt(n[3], 16)] } }, { re: /#([a-f0-9])([a-f0-9])([a-f0-9])/, parse: function (n) { return [parseInt(n[1] + n[1], 16), parseInt(n[2] + n[2], 16), parseInt(n[3] + n[3], 16)] } }, { re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/, space: "hsla", parse: function (n) { return [n[1], n[2] / 100, n[3] / 100, n[4]] } }], i = n.Color = function (t, i, r, u) { return new n.Color.fn.parse(t, i, r, u) }, u = { rgba: { props: { red: { idx: 0, type: "byte" }, green: { idx: 1, type: "byte" }, blue: { idx: 2, type: "byte" } } }, hsla: { props: { hue: { idx: 0, type: "degrees" }, saturation: { idx: 1, type: "percent" }, lightness: { idx: 2, type: "percent" } } } }, h = { byte: { floor: !0, max: 255 }, percent: { max: 1 }, degrees: { mod: 360, floor: !0 } }, c = i.support = {}, l = n("<p>")[0], r = n.each; l.style.cssText = "background-color:rgba(1,1,1,.5)"; c.rgba = l.style.backgroundColor.indexOf("rgba") > -1; r(u, function (n, t) { t.cache = "_" + n; t.props.alpha = { idx: 3, type: "percent", def: 1 } }); i.fn = n.extend(i.prototype, { parse: function (o, h, c, l) { if (o === t) return this._rgba = [null, null, null, null], this; (o.jquery || o.nodeType) && (o = n(o).css(h), h = t); var a = this, v = n.type(o), y = this._rgba = []; return h !== t && (o = [o, h, c, l], v = "array"), "string" === v ? this.parse(s(o) || e._default) : "array" === v ? (r(u.rgba.props, function (n, t) { y[t.idx] = f(o[t.idx], t) }), this) : "object" === v ? (o instanceof i ? r(u, function (n, t) { o[t.cache] && (a[t.cache] = o[t.cache].slice()) }) : r(u, function (t, i) { var u = i.cache; r(i.props, function (n, t) { if (!a[u] && i.to) { if ("alpha" === n || null == o[n]) return; a[u] = i.to(a._rgba) } a[u][t.idx] = f(o[n], t, !0) }); a[u] && 0 > n.inArray(null, a[u].slice(0, 3)) && (a[u][3] = 1, i.from && (a._rgba = i.from(a[u]))) }), this) : t }, is: function (n) { var o = i(n), f = !0, e = this; return r(u, function (n, i) { var s, u = o[i.cache]; return u && (s = e[i.cache] || i.to && i.to(e._rgba) || [], r(i.props, function (n, i) { return null != u[i.idx] ? f = u[i.idx] === s[i.idx] : t })), f }), f }, _space: function () { var n = [], t = this; return r(u, function (i, r) { t[r.cache] && n.push(i) }), n.pop() }, transition: function (n, t) { var e = i(n), c = e._space(), o = u[c], l = 0 === this.alpha() ? i("transparent") : this, a = l[o.cache] || o.to(l._rgba), s = a.slice(); return e = e[o.cache], r(o.props, function (n, i) { var c = i.idx, r = a[c], u = e[c], o = h[i.type] || {}; null !== u && (null === r ? s[c] = u : (o.mod && (u - r > o.mod / 2 ? r += o.mod : r - u > o.mod / 2 && (r -= o.mod)), s[c] = f((u - r) * t + r, i))) }), this[c](s) }, blend: function (t) { if (1 === this._rgba[3]) return this; var r = this._rgba.slice(), u = r.pop(), f = i(t)._rgba; return i(n.map(r, function (n, t) { return (1 - u) * f[t] + u * n })) }, toRgbaString: function () { var i = "rgba(", t = n.map(this._rgba, function (n, t) { return null == n ? t > 2 ? 1 : 0 : n }); return 1 === t[3] && (t.pop(), i = "rgb("), i + t.join() + ")" }, toHslaString: function () { var i = "hsla(", t = n.map(this.hsla(), function (n, t) { return null == n && (n = t > 2 ? 1 : 0), t && 3 > t && (n = Math.round(100 * n) + "%"), n }); return 1 === t[3] && (t.pop(), i = "hsl("), i + t.join() + ")" }, toHexString: function (t) { var i = this._rgba.slice(), r = i.pop(); return t && i.push(~~(255 * r)), "#" + n.map(i, function (n) { return n = (n || 0).toString(16), 1 === n.length ? "0" + n : n }).join("") }, toString: function () { return 0 === this._rgba[3] ? "transparent" : this.toRgbaString() } }); i.fn.parse.prototype = i.fn; u.hsla.to = function (n) { if (null == n[0] || null == n[1] || null == n[2]) return [null, null, null, n[3]]; var s, h, i = n[0] / 255, r = n[1] / 255, f = n[2] / 255, c = n[3], u = Math.max(i, r, f), e = Math.min(i, r, f), t = u - e, o = u + e, l = .5 * o; return s = e === u ? 0 : i === u ? 60 * (r - f) / t + 360 : r === u ? 60 * (f - i) / t + 120 : 60 * (i - r) / t + 240, h = 0 === t ? 0 : .5 >= l ? t / o : t / (2 - o), [Math.round(s) % 360, h, l, null == c ? 1 : c] }; u.hsla.from = function (n) { if (null == n[0] || null == n[1] || null == n[2]) return [null, null, null, n[3]]; var r = n[0] / 360, u = n[1], t = n[2], e = n[3], i = .5 >= t ? t * (1 + u) : t + u - t * u, f = 2 * t - i; return [Math.round(255 * o(f, i, r + 1 / 3)), Math.round(255 * o(f, i, r)), Math.round(255 * o(f, i, r - 1 / 3)), e] }; r(u, function (u, e) { var s = e.props, o = e.cache, h = e.to, c = e.from; i.fn[u] = function (u) { if (h && !this[o] && (this[o] = h(this._rgba)), u === t) return this[o].slice(); var l, a = n.type(u), v = "array" === a || "object" === a ? u : arguments, e = this[o].slice(); return r(s, function (n, t) { var i = v["object" === a ? n : t.idx]; null == i && (i = e[t.idx]); e[t.idx] = f(i, t) }), c ? (l = i(c(e)), l[o] = e, l) : i(e) }; r(s, function (t, r) { i.fn[t] || (i.fn[t] = function (i) { var f, e = n.type(i), h = "alpha" === t ? this._hsla ? "hsla" : "rgba" : u, o = this[h](), s = o[r.idx]; return "undefined" === e ? s : ("function" === e && (i = i.call(this, s), e = n.type(i)), null == i && r.empty ? this : ("string" === e && (f = a.exec(i), f && (i = s + parseFloat(f[2]) * ("+" === f[1] ? 1 : -1))), o[r.idx] = i, this[h](o))) }) }) }); i.hook = function (t) { var u = t.split(" "); r(u, function (t, r) { n.cssHooks[r] = { set: function (t, u) { var o, f, e = ""; if ("transparent" !== u && ("string" !== n.type(u) || (o = s(u)))) { if (u = i(o || u), !c.rgba && 1 !== u._rgba[3]) { for (f = "backgroundColor" === r ? t.parentNode : t; ("" === e || "transparent" === e) && f && f.style;)try { e = n.css(f, "backgroundColor"); f = f.parentNode } catch (h) { } u = u.blend(e && "transparent" !== e ? e : "_default") } u = u.toRgbaString() } try { t.style[r] = u } catch (h) { } } }; n.fx.step[r] = function (t) { t.colorInit || (t.start = i(t.elem, r), t.end = i(t.end), t.colorInit = !0); n.cssHooks[r].set(t.elem, t.start.transition(t.end, t.pos)) } }) }; i.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"); n.cssHooks.borderColor = { expand: function (n) { var t = {}; return r(["Top", "Right", "Bottom", "Left"], function (i, r) { t["border" + r + "Color"] = n }), t } }; e = n.Color.names = { aqua: "#00ffff", black: "#000000", blue: "#0000ff", fuchsia: "#ff00ff", gray: "#808080", green: "#008000", lime: "#00ff00", maroon: "#800000", navy: "#000080", olive: "#808000", purple: "#800080", red: "#ff0000", silver: "#c0c0c0", teal: "#008080", white: "#ffffff", yellow: "#ffff00", transparent: [null, null, null, 0], _default: "#ffffff" } }(o), function () { function t(t) { var r, u, i = t.ownerDocument.defaultView ? t.ownerDocument.defaultView.getComputedStyle(t, null) : t.currentStyle, f = {}; if (i && i.length && i[0] && i[i[0]]) for (u = i.length; u--;)r = i[u], "string" == typeof i[r] && (f[n.camelCase(r)] = i[r]); else for (r in i) "string" == typeof i[r] && (f[r] = i[r]); return f } function i(t, i) { var r, f, e = {}; for (r in i) f = i[r], t[r] !== f && (u[r] || (n.fx.step[r] || !isNaN(parseFloat(f))) && (e[r] = f)); return e } var r = ["add", "remove", "toggle"], u = { border: 1, borderBottom: 1, borderColor: 1, borderLeft: 1, borderRight: 1, borderTop: 1, borderWidth: 1, margin: 1, padding: 1 }; n.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], function (t, i) { n.fx.step[i] = function (n) { ("none" === n.end || n.setAttr) && (1 !== n.pos || n.setAttr) || (o.style(n.elem, i, n.end), n.setAttr = !0) } }); n.fn.addBack || (n.fn.addBack = function (n) { return this.add(null == n ? this.prevObject : this.prevObject.filter(n)) }); n.effects.animateClass = function (u, f, e, o) { var s = n.speed(f, e, o); return this.queue(function () { var o, e = n(this), h = e.attr("class") || "", f = s.children ? e.find("*").addBack() : e; f = f.map(function () { var i = n(this); return { el: i, start: t(this) } }); o = function () { n.each(r, function (n, t) { u[t] && e[t + "Class"](u[t]) }) }; o(); f = f.map(function () { return this.end = t(this.el[0]), this.diff = i(this.start, this.end), this }); e.attr("class", h); f = f.map(function () { var i = this, t = n.Deferred(), r = n.extend({}, s, { queue: !1, complete: function () { t.resolve(i) } }); return this.el.animate(this.diff, r), t.promise() }); n.when.apply(n, f.get()).done(function () { o(); n.each(arguments, function () { var t = this.el; n.each(this.diff, function (n) { t.css(n, "") }) }); s.complete.call(e[0]) }) }) }; n.fn.extend({ addClass: function (t) { return function (i, r, u, f) { return r ? n.effects.animateClass.call(this, { add: i }, r, u, f) : t.apply(this, arguments) } }(n.fn.addClass), removeClass: function (t) { return function (i, r, u, f) { return arguments.length > 1 ? n.effects.animateClass.call(this, { remove: i }, r, u, f) : t.apply(this, arguments) } }(n.fn.removeClass), toggleClass: function (t) { return function (i, r, u, f, e) { return "boolean" == typeof r || void 0 === r ? u ? n.effects.animateClass.call(this, r ? { add: i } : { remove: i }, u, f, e) : t.apply(this, arguments) : n.effects.animateClass.call(this, { toggle: i }, r, u, f) } }(n.fn.toggleClass), switchClass: function (t, i, r, u, f) { return n.effects.animateClass.call(this, { add: i, remove: t }, r, u, f) } }) }(), function () { function t(t, i, r, u) { return n.isPlainObject(t) && (i = t, t = t.effect), t = { effect: t }, null == i && (i = {}), n.isFunction(i) && (u = i, r = null, i = {}), ("number" == typeof i || n.fx.speeds[i]) && (u = r, r = i, i = {}), n.isFunction(r) && (u = r, r = null), i && n.extend(t, i), r = r || i.duration, t.duration = n.fx.off ? 0 : "number" == typeof r ? r : r in n.fx.speeds ? n.fx.speeds[r] : n.fx.speeds._default, t.complete = u || i.complete, t } function i(t) { return !t || "number" == typeof t || n.fx.speeds[t] ? !0 : "string" != typeof t || n.effects.effect[t] ? n.isFunction(t) ? !0 : "object" != typeof t || t.effect ? !1 : !0 : !0 } n.extend(n.effects, { version: "1.11.4", save: function (n, t) { for (var i = 0; t.length > i; i++)null !== t[i] && n.data(e + t[i], n[0].style[t[i]]) }, restore: function (n, t) { for (var r, i = 0; t.length > i; i++)null !== t[i] && (r = n.data(e + t[i]), void 0 === r && (r = ""), n.css(t[i], r)) }, setMode: function (n, t) { return "toggle" === t && (t = n.is(":hidden") ? "show" : "hide"), t }, getBaseline: function (n, t) { var i, r; switch (n[0]) { case "top": i = 0; break; case "middle": i = .5; break; case "bottom": i = 1; break; default: i = n[0] / t.height }switch (n[1]) { case "left": r = 0; break; case "center": r = .5; break; case "right": r = 1; break; default: r = n[1] / t.width }return { x: r, y: i } }, createWrapper: function (t) { if (t.parent().is(".ui-effects-wrapper")) return t.parent(); var i = { width: t.outerWidth(!0), height: t.outerHeight(!0), float: t.css("float") }, u = n("<div><\/div>").addClass("ui-effects-wrapper").css({ fontSize: "100%", background: "transparent", border: "none", margin: 0, padding: 0 }), f = { width: t.width(), height: t.height() }, r = document.activeElement; try { r.id } catch (e) { r = document.body } return t.wrap(u), (t[0] === r || n.contains(t[0], r)) && n(r).focus(), u = t.parent(), "static" === t.css("position") ? (u.css({ position: "relative" }), t.css({ position: "relative" })) : (n.extend(i, { position: t.css("position"), zIndex: t.css("z-index") }), n.each(["top", "left", "bottom", "right"], function (n, r) { i[r] = t.css(r); isNaN(parseInt(i[r], 10)) && (i[r] = "auto") }), t.css({ position: "relative", top: 0, left: 0, right: "auto", bottom: "auto" })), t.css(f), u.css(i).show() }, removeWrapper: function (t) { var i = document.activeElement; return t.parent().is(".ui-effects-wrapper") && (t.parent().replaceWith(t), (t[0] === i || n.contains(t[0], i)) && n(i).focus()), t }, setTransition: function (t, i, r, u) { return u = u || {}, n.each(i, function (n, i) { var f = t.cssUnit(i); f[0] > 0 && (u[i] = f[0] * r + f[1]) }), u } }); n.fn.extend({ effect: function () { function r(t) { function f() { n.isFunction(o) && o.call(r[0]); n.isFunction(t) && t() } var r = n(this), o = i.complete, u = i.mode; (r.is(":hidden") ? "hide" === u : "show" === u) ? (r[u](), f()) : e.call(r[0], i, f) } var i = t.apply(this, arguments), u = i.mode, f = i.queue, e = n.effects.effect[i.effect]; return n.fx.off || !e ? u ? this[u](i.duration, i.complete) : this.each(function () { i.complete && i.complete.call(this) }) : f === !1 ? this.each(r) : this.queue(f || "fx", r) }, show: function (n) { return function (r) { if (i(r)) return n.apply(this, arguments); var u = t.apply(this, arguments); return u.mode = "show", this.effect.call(this, u) } }(n.fn.show), hide: function (n) { return function (r) { if (i(r)) return n.apply(this, arguments); var u = t.apply(this, arguments); return u.mode = "hide", this.effect.call(this, u) } }(n.fn.hide), toggle: function (n) { return function (r) { if (i(r) || "boolean" == typeof r) return n.apply(this, arguments); var u = t.apply(this, arguments); return u.mode = "toggle", this.effect.call(this, u) } }(n.fn.toggle), cssUnit: function (t) { var i = this.css(t), r = []; return n.each(["em", "px", "%", "pt"], function (n, t) { i.indexOf(t) > 0 && (r = [parseFloat(i), t]) }), r } }) }(), function () { var t = {}; n.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function (n, i) { t[i] = function (t) { return Math.pow(t, n + 2) } }); n.extend(t, { Sine: function (n) { return 1 - Math.cos(n * Math.PI / 2) }, Circ: function (n) { return 1 - Math.sqrt(1 - n * n) }, Elastic: function (n) { return 0 === n || 1 === n ? n : -Math.pow(2, 8 * (n - 1)) * Math.sin((80 * (n - 1) - 7.5) * Math.PI / 15) }, Back: function (n) { return n * n * (3 * n - 2) }, Bounce: function (n) { for (var t, i = 4; ((t = Math.pow(2, --i)) - 1) / 11 > n;); return 1 / Math.pow(4, 3 - i) - 7.5625 * Math.pow((3 * t - 2) / 22 - n, 2) } }); n.each(t, function (t, i) { n.easing["easeIn" + t] = i; n.easing["easeOut" + t] = function (n) { return 1 - i(1 - n) }; n.easing["easeInOut" + t] = function (n) { return .5 > n ? i(2 * n) / 2 : 1 - i(-2 * n + 2) / 2 } }) }(); n.effects }), function (n) { var r = 768, u = 1024, e = 700, t = n(window), f, i; n.viewport = { getSize: function () { var n = window, t = "inner"; return "innerWidth" in window || (t = "client", n = document.documentElement || document.body), { width: n[t + "Width"], height: n[t + "Height"] } }, isMobile: function () { return typeof matchMedia == "undefined" ? this.getSize().width < r : matchMedia("(max-width: " + (r - 1) + "px)").matches }, isTablet: function () { return typeof matchMedia == "undefined" ? this.getSize().width < u : matchMedia("(max-width: " + (u - 1) + "px)").matches }, isDesktop: function () { return !this.isTablet() }, currentDevice: function () { switch (!0) { case this.isMobile(): return this.VIEWPORT_DEVICE.MOBILE; case this.isTablet(): return this.VIEWPORT_DEVICE.TABLET; default: return this.VIEWPORT_DEVICE.DESKTOP } }, isMenuStickyByViewportHeight: function () { return this.getSize().height < e }, VIEWPORT_DEVICE: { MOBILE: 0, TABLET: 1, DESKTOP: 2 } }; n.globalParameterConstants = { HEADER_OPEN_ON_HOVER: "header-open-on-hover", HEADER_JUSTIFY_LINKS: "header-justify-links", HEADER_OPEN_ON_BUTTON_CLICK_MOBILE: "header-open-on-button-click-mobile", HEADER_ALWAYS_VISIBLE: "header-always-visible", HEADER_SCROLL_UP_SHOW_DELAY: "header-scroll-up-show-delay" }; n.executeAfterCssIsLoaded = function (i, r) { if (window[i] || n("[data-onload-event-name='" + i + "']").length === 0) r(); else t.one(i, r) }; /iPad/g.test(navigator.userAgent) && (f = n.fn.focus, n.fn.focus = function () { return n(this).parent().hasClass("chosen-search") ? arguments[0] : f.apply(this, arguments) }); n.fn.extend({ chosenSelect: function (t) { var i = this, r = n.extend({ enable_split_word_search: !0, search_contains: !0, allow_single_deselect: !0, no_results_text: "Oops, nothing found!", display_disabled_options: !1, width: "75%", disable_search_threshold: 7 }, this.data("chosenOptions") || {}, t || {}); i.chosen(r); i.on("chosen:showing_dropdown", function (t, i) { var u = n(t.target), r; (u.closest(".hero-two-section").css("z-index", 1), r = i.chosen, r.disable_search || r.disable_search_threshold !== 0 && r.disable_search_threshold >= r.results_data.length) || u.next(".chosen-container").find(".chosen-search > input").prop("readonly", "") }).on("chosen:hiding_dropdown", function (t) { var i = n(t.target); i.closest(".hero-two-section").css("z-index", ""); i.next(".chosen-container").find(".chosen-search > input:not([readonly])").attr("readonly", !0) }).on("change", function (t) { var i = n(t.target); i.trigger("chosen:updated"); i.next(".chosen-container").find(".chosen-search > input:not([readonly])").attr("readonly", !0) }) }, applyTooltip: function (t) { var i = this, r = 220, u, f, e; return n(i).length && (u = n(window).width() - (n(i).offset().left + n(i).outerWidth()), u < r / 2 && (r = parseInt(u * 2 - 1))), f = { animation: "fade", content: i.html(), contentAsHTML: !0, delay: 200, interactive: !0, theme: "tooltipster-default", trigger: "hover", maxWidth: r }, e = n.extend(f, t || {}), i.tooltipster(e), i }, applyScrollbar: function (n) { var t = this; return t.addClass("nano").children(n.contentElementSelector || "*").addClass("nano-content"), t.nanoScroller(n), t.destroyScrollbar = function () { return t.removeClass("nano"), t.nanoScroller({ destroy: !0 }).children(n.contentElementSelector || "*").removeClass("nano-content"), delete t.destroyScrollbar, t }, t }, fadeOutIn: function (t, i) { var u = this, r = {}; t && n.isFunction(t) ? (r.callback = t, r.duration = i) : t && (r = t); window.isIE8 && (r.duration = 0); r.duration !== 0 ? u.animate({ opacity: "hide" }, "fast", function () { r.callback && r.callback(); u.animate({ opacity: "show" }, r.duration || "slow") }) : r.callback && r.callback() }, slideDownSpeed: function (t, i) { var u = this.height() / 1e3, r = i; n.isFunction(t) ? r = t : typeof t != "undefined" && (u = this.height() / t); window.isIE8 ? (this.show(), r && r()) : this.slideDown({ duration: u * 1e3, complete: r, easing: "linear" }) }, slideUpSpeed: function (t, i) { var u = this.height() / 1e3, r = i; n.isFunction(t) ? r = t : typeof t != "undefined" && (u = this.height() / t); window.isIE8 ? (this.hide(), r && r()) : this.slideUp({ duration: u * 1e3, complete: r, easing: "linear" }) }, slideToggleSpeed: function (t, i) { var r = this.height() / 1e3, u = i; n.isFunction(t) ? u = t : typeof t != "undefined" && (r = this.height() / t); this.slideToggle({ duration: r * 1e3, complete: u, easing: "linear" }) }, autofill: function (t) { n.each(this, function () { var i = n(this), r = !0, u = !1, f = !1, e = ""; i.on("click focus", function () { r = !0 }).on("keydown", function (n) { r = !1; f = n.ctrlKey }).on("paste", function () { f = !0 }).on("compositionstart", function () { u = !0 }).on("compositionend", function () { setTimeout(function () { u = !1 }, 100) }); i.on("propertychange input", function (n) { (!f && e.length < i.val().length - 1 && (r = !0), e = i.val(), r && !u) && (n.type !== "propertychange" || n.originalEvent.propertyName === "value") && t.call(i) }) }) }, isVisibleOnScreen: function () { var i = t.scrollTop(), r = i + t.height(), n = this.offset(); return n.top >= i && n.top < r && n.left >= 0 && n.left < t.width() } }); n.rgb2hex = function (n) { function t(n) { return ("0" + parseInt(n).toString(16)).slice(-2) } return /^#[0-9A-F]{6}$/i.test(n) ? n : n.replace(/ /g, "") === "rgba(0,0,0,0)" ? "#fff" : (n = n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(,\s*(\d+))?\)$/), "#" + t(n[1]) + t(n[2]) + t(n[3])) }; n.updateQueryString = function (n, t, i) { var u, r, f; if (i || (i = window.location.href), u = new RegExp("([?&])" + n + "=.*?(&|#|$)(.*)", "gi"), u.test(i)) { if (typeof t != "undefined" && t !== null) return i.replace(u, "$1" + n + "=" + t + "$2$3"); r = i.split("#"); i = r[0].replace(u, "$1$3").replace(/(&|\?)$/, ""); typeof r[1] != "undefined" && r[1] !== null && (i += "#" + r[1]) } else typeof t != "undefined" && t !== null && (f = i.indexOf("?") !== -1 ? "&" : "?", r = i.split("#"), i = r[0] + f + n + "=" + t, typeof r[1] != "undefined" && r[1] !== null && (i += "#" + r[1])); return i }; n.getQueryString = function (n, t) { t || (t = window.location.href); n = n.replace(/[\[\]]/g, "\\$&"); var r = new RegExp("[?&]" + n + "(=([^&#]*)|&|#|$)"), i = r.exec(t); return i ? i[2] ? decodeURIComponent(i[2].replace(/\+/g, " ")) : "" : null }; i = Date.now || function () { return (new Date).getTime() }; n.throttle = function (n, t, r) { var u, f, s, e = null, o = 0, h; return r || (r = {}), h = function () { (o = r.leading === !1 ? 0 : i(), e = null, u || f) && (s = n.apply(u, f), u = f = null) }, function () { var c = i(), l; return o || r.leading !== !1 || (o = c), l = t - (c - o), u = this, f = arguments, l <= 0 ? (clearTimeout(e), e = null, o = c, s = n.apply(u, f), u = f = null) : e || r.trailing === !1 || (e = setTimeout(h, l)), s } } }(jQuery); !function (n) { "function" == typeof define && define.amd ? define(["jquery"], n) : n(jQuery) }(function (n) { n.extend(n.fn, { validate: function (t) { if (!this.length) return void (t && t.debug && window.console && console.warn("Nothing selected, can't validate, returning nothing.")); var i = n.data(this[0], "validator"); return i ? i : (this.attr("novalidate", "novalidate"), i = new n.validator(t, this[0]), n.data(this[0], "validator", i), i.settings.onsubmit && (this.validateDelegate(":submit", "click", function (t) { i.settings.submitHandler && (i.submitButton = t.target); n(t.target).hasClass("cancel") && (i.cancelSubmit = !0); void 0 !== n(t.target).attr("formnovalidate") && (i.cancelSubmit = !0) }), this.submit(function (t) { function r() { var u, r; return i.settings.submitHandler ? (i.submitButton && (u = n("<input type='hidden'/>").attr("name", i.submitButton.name).val(n(i.submitButton).val()).appendTo(i.currentForm)), r = i.settings.submitHandler.call(i, i.currentForm, t), i.submitButton && u.remove(), void 0 !== r ? r : !1) : !0 } return i.settings.debug && t.preventDefault(), i.cancelSubmit ? (i.cancelSubmit = !1, r()) : i.form() ? i.pendingRequest ? (i.formSubmitted = !0, !1) : r() : (i.focusInvalid(), !1) })), i) }, valid: function () { var t, i; return n(this[0]).is("form") ? t = this.validate().form() : (t = !0, i = n(this[0].form).validate(), this.each(function () { t = i.element(this) && t })), t }, removeAttrs: function (t) { var i = {}, r = this; return n.each(t.split(/\s/), function (n, t) { i[t] = r.attr(t); r.removeAttr(t) }), i }, rules: function (t, i) { var e, s, f, u, o, h, r = this[0]; if (t) switch (e = n.data(r.form, "validator").settings, s = e.rules, f = n.validator.staticRules(r), t) { case "add": n.extend(f, n.validator.normalizeRule(i)); delete f.messages; s[r.name] = f; i.messages && (e.messages[r.name] = n.extend(e.messages[r.name], i.messages)); break; case "remove": return i ? (h = {}, n.each(i.split(/\s/), function (t, i) { h[i] = f[i]; delete f[i]; "required" === i && n(r).removeAttr("aria-required") }), h) : (delete s[r.name], f) }return u = n.validator.normalizeRules(n.extend({}, n.validator.classRules(r), n.validator.attributeRules(r), n.validator.dataRules(r), n.validator.staticRules(r)), r), u.required && (o = u.required, delete u.required, u = n.extend({ required: o }, u), n(r).attr("aria-required", "true")), u.remote && (o = u.remote, delete u.remote, u = n.extend(u, { remote: o })), u } }); n.extend(n.expr[":"], { blank: function (t) { return !n.trim("" + n(t).val()) }, filled: function (t) { return !!n.trim("" + n(t).val()) }, unchecked: function (t) { return !n(t).prop("checked") } }); n.validator = function (t, i) { this.settings = n.extend(!0, {}, n.validator.defaults, t); this.currentForm = i; this.init() }; n.validator.format = function (t, i) { return 1 === arguments.length ? function () { var i = n.makeArray(arguments); return i.unshift(t), n.validator.format.apply(this, i) } : (arguments.length > 2 && i.constructor !== Array && (i = n.makeArray(arguments).slice(1)), i.constructor !== Array && (i = [i]), n.each(i, function (n, i) { t = t.replace(new RegExp("\\{" + n + "\\}", "g"), function () { return i }) }), t) }; n.extend(n.validator, { defaults: { messages: {}, groups: {}, rules: {}, errorClass: "error", validClass: "valid", errorElement: "label", focusCleanup: !1, focusInvalid: !0, errorContainer: n([]), errorLabelContainer: n([]), onsubmit: !0, ignore: ":hidden", ignoreTitle: !1, onfocusin: function (n) { this.lastActive = n; this.settings.focusCleanup && (this.settings.unhighlight && this.settings.unhighlight.call(this, n, this.settings.errorClass, this.settings.validClass), this.hideThese(this.errorsFor(n))) }, onfocusout: function (n) { !this.checkable(n) && (n.name in this.submitted || !this.optional(n)) && this.element(n) }, onkeyup: function (n, t) { (9 !== t.which || "" !== this.elementValue(n)) && (n.name in this.submitted || n === this.lastElement) && this.element(n) }, onclick: function (n) { n.name in this.submitted ? this.element(n) : n.parentNode.name in this.submitted && this.element(n.parentNode) }, highlight: function (t, i, r) { "radio" === t.type ? this.findByName(t.name).addClass(i).removeClass(r) : n(t).addClass(i).removeClass(r) }, unhighlight: function (t, i, r) { "radio" === t.type ? this.findByName(t.name).removeClass(i).addClass(r) : n(t).removeClass(i).addClass(r) } }, setDefaults: function (t) { n.extend(n.validator.defaults, t) }, messages: { required: "This field is required.", remote: "Please fix this field.", email: "Please enter a valid email address.", url: "Please enter a valid URL.", date: "Please enter a valid date.", dateISO: "Please enter a valid date ( ISO ).", number: "Please enter a valid number.", digits: "Please enter only digits.", creditcard: "Please enter a valid credit card number.", equalTo: "Please enter the same value again.", maxlength: n.validator.format("Please enter no more than {0} characters."), minlength: n.validator.format("Please enter at least {0} characters."), rangelength: n.validator.format("Please enter a value between {0} and {1} characters long."), range: n.validator.format("Please enter a value between {0} and {1}."), max: n.validator.format("Please enter a value less than or equal to {0}."), min: n.validator.format("Please enter a value greater than or equal to {0}.") }, autoCreateRanges: !1, prototype: { init: function () { function i(t) { var r = n.data(this[0].form, "validator"), u = "on" + t.type.replace(/^validate/, ""), i = r.settings; i[u] && !this.is(i.ignore) && i[u].call(r, this[0], t) } this.labelContainer = n(this.settings.errorLabelContainer); this.errorContext = this.labelContainer.length && this.labelContainer || n(this.currentForm); this.containers = n(this.settings.errorContainer).add(this.settings.errorLabelContainer); this.submitted = {}; this.valueCache = {}; this.pendingRequest = 0; this.pending = {}; this.invalid = {}; this.reset(); var t, r = this.groups = {}; n.each(this.settings.groups, function (t, i) { "string" == typeof i && (i = i.split(/\s/)); n.each(i, function (n, i) { r[i] = t }) }); t = this.settings.rules; n.each(t, function (i, r) { t[i] = n.validator.normalizeRule(r) }); n(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']", "focusin focusout keyup", i).validateDelegate("select, option, [type='radio'], [type='checkbox']", "click", i); this.settings.invalidHandler && n(this.currentForm).bind("invalid-form.validate", this.settings.invalidHandler); n(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required", "true") }, form: function () { return this.checkForm(), n.extend(this.submitted, this.errorMap), this.invalid = n.extend({}, this.errorMap), this.valid() || n(this.currentForm).triggerHandler("invalid-form", [this]), this.showErrors(), this.valid() }, checkForm: function () { this.prepareForm(); for (var n = 0, t = this.currentElements = this.elements(); t[n]; n++)this.check(t[n]); return this.valid() }, element: function (t) { var u = this.clean(t), i = this.validationTargetFor(u), r = !0; return this.lastElement = i, void 0 === i ? delete this.invalid[u.name] : (this.prepareElement(i), this.currentElements = n(i), r = this.check(i) !== !1, r ? delete this.invalid[i.name] : this.invalid[i.name] = !0), n(t).attr("aria-invalid", !r), this.numberOfInvalids() || (this.toHide = this.toHide.add(this.containers)), this.showErrors(), r }, showErrors: function (t) { if (t) { n.extend(this.errorMap, t); this.errorList = []; for (var i in t) this.errorList.push({ message: t[i], element: this.findByName(i)[0] }); this.successList = n.grep(this.successList, function (n) { return !(n.name in t) }) } this.settings.showErrors ? this.settings.showErrors.call(this, this.errorMap, this.errorList) : this.defaultShowErrors() }, resetForm: function () { n.fn.resetForm && n(this.currentForm).resetForm(); this.submitted = {}; this.lastElement = null; this.prepareForm(); this.hideErrors(); this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid") }, numberOfInvalids: function () { return this.objectLength(this.invalid) }, objectLength: function (n) { var i, t = 0; for (i in n) t++; return t }, hideErrors: function () { this.hideThese(this.toHide) }, hideThese: function (n) { n.not(this.containers).text(""); this.addWrapper(n).hide() }, valid: function () { return 0 === this.size() }, size: function () { return this.errorList.length }, focusInvalid: function () { if (this.settings.focusInvalid) try { n(this.findLastActive() || this.errorList.length && this.errorList[0].element || []).filter(":visible").focus().trigger("focusin") } catch (t) { } }, findLastActive: function () { var t = this.lastActive; return t && 1 === n.grep(this.errorList, function (n) { return n.element.name === t.name }).length && t }, elements: function () { var t = this, i = {}; return n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], [readonly]").not(this.settings.ignore).filter(function () { return !this.name && t.settings.debug && window.console && console.error("%o has no name assigned", this), this.name in i || !t.objectLength(n(this).rules()) ? !1 : (i[this.name] = !0, !0) }) }, clean: function (t) { return n(t)[0] }, errors: function () { var t = this.settings.errorClass.split(" ").join("."); return n(this.settings.errorElement + "." + t, this.errorContext) }, reset: function () { this.successList = []; this.errorList = []; this.errorMap = {}; this.toShow = n([]); this.toHide = n([]); this.currentElements = n([]) }, prepareForm: function () { this.reset(); this.toHide = this.errors().add(this.containers) }, prepareElement: function (n) { this.reset(); this.toHide = this.errorsFor(n) }, elementValue: function (t) { var i, u = n(t), r = t.type; return "radio" === r || "checkbox" === r ? n("input[name='" + t.name + "']:checked").val() : "number" === r && "undefined" != typeof t.validity ? t.validity.badInput ? !1 : u.val() : (i = u.val(), "string" == typeof i ? i.replace(/\r/g, "") : i) }, check: function (t) { t = this.validationTargetFor(this.clean(t)); var i, r, u, f = n(t).rules(), s = n.map(f, function (n, t) { return t }).length, e = !1, h = this.elementValue(t); for (r in f) { u = { method: r, parameters: f[r] }; try { if (i = n.validator.methods[r].call(this, h, t, u.parameters), "dependency-mismatch" === i && 1 === s) { e = !0; continue } if (e = !1, "pending" === i) return void (this.toHide = this.toHide.not(this.errorsFor(t))); if (!i) return this.formatAndAdd(t, u), !1 } catch (o) { throw this.settings.debug && window.console && console.log("Exception occurred when checking element " + t.id + ", check the '" + u.method + "' method.", o), o; } } if (!e) return this.objectLength(f) && this.successList.push(t), !0 }, customDataMessage: function (t, i) { return n(t).data("msg" + i.charAt(0).toUpperCase() + i.substring(1).toLowerCase()) || n(t).data("msg") }, customMessage: function (n, t) { var i = this.settings.messages[n]; return i && (i.constructor === String ? i : i[t]) }, findDefined: function () { for (var n = 0; n < arguments.length; n++)if (void 0 !== arguments[n]) return arguments[n]; return void 0 }, defaultMessage: function (t, i) { return this.findDefined(this.customMessage(t.name, i), this.customDataMessage(t, i), !this.settings.ignoreTitle && t.title || void 0, n.validator.messages[i], "<strong>Warning: No message defined for " + t.name + "<\/strong>") }, formatAndAdd: function (t, i) { var r = this.defaultMessage(t, i.method), u = /\$?\{(\d+)\}/g; "function" == typeof r ? r = r.call(this, i.parameters, t) : u.test(r) && (r = n.validator.format(r.replace(u, "{$1}"), i.parameters)); this.errorList.push({ message: r, element: t, method: i.method }); this.errorMap[t.name] = r; this.submitted[t.name] = r }, addWrapper: function (n) { return this.settings.wrapper && (n = n.add(n.parent(this.settings.wrapper))), n }, defaultShowErrors: function () { for (var i, t, n = 0; this.errorList[n]; n++)t = this.errorList[n], this.settings.highlight && this.settings.highlight.call(this, t.element, this.settings.errorClass, this.settings.validClass), this.showLabel(t.element, t.message); if (this.errorList.length && (this.toShow = this.toShow.add(this.containers)), this.settings.success) for (n = 0; this.successList[n]; n++)this.showLabel(this.successList[n]); if (this.settings.unhighlight) for (n = 0, i = this.validElements(); i[n]; n++)this.settings.unhighlight.call(this, i[n], this.settings.errorClass, this.settings.validClass); this.toHide = this.toHide.not(this.toShow); this.hideErrors(); this.addWrapper(this.toShow).show() }, validElements: function () { return this.currentElements.not(this.invalidElements()) }, invalidElements: function () { return n(this.errorList).map(function () { return this.element }) }, showLabel: function (t, i) { var u, o, e, r = this.errorsFor(t), s = this.idOrName(t), f = n(t).attr("aria-describedby"); r.length ? (r.removeClass(this.settings.validClass).addClass(this.settings.errorClass), r.html(i)) : (r = n("<" + this.settings.errorElement + ">").attr("id", s + "-error").addClass(this.settings.errorClass).html(i || ""), u = r, this.settings.wrapper && (u = r.hide().show().wrap("<" + this.settings.wrapper + "/>").parent()), this.labelContainer.length ? this.labelContainer.append(u) : this.settings.errorPlacement ? this.settings.errorPlacement(u, n(t)) : u.insertAfter(t), r.is("label") ? r.attr("for", s) : 0 === r.parents("label[for='" + s + "']").length && (e = r.attr("id").replace(/(:|\.|\[|\])/g, "\\$1"), f ? f.match(new RegExp("\\b" + e + "\\b")) || (f += " " + e) : f = e, n(t).attr("aria-describedby", f), o = this.groups[t.name], o && n.each(this.groups, function (t, i) { i === o && n("[name='" + t + "']", this.currentForm).attr("aria-describedby", r.attr("id")) }))); !i && this.settings.success && (r.text(""), "string" == typeof this.settings.success ? r.addClass(this.settings.success) : this.settings.success(r, t)); this.toShow = this.toShow.add(r) }, errorsFor: function (t) { var r = this.idOrName(t), u = n(t).attr("aria-describedby"), i = "label[for='" + r + "'], label[for='" + r + "'] *"; return u && (i = i + ", #" + u.replace(/\s+/g, ", #")), this.errors().filter(i) }, idOrName: function (n) { return this.groups[n.name] || (this.checkable(n) ? n.name : n.id || n.name) }, validationTargetFor: function (t) { return this.checkable(t) && (t = this.findByName(t.name)), n(t).not(this.settings.ignore)[0] }, checkable: function (n) { return /radio|checkbox/i.test(n.type) }, findByName: function (t) { return n(this.currentForm).find("[name='" + t + "']") }, getLength: function (t, i) { switch (i.nodeName.toLowerCase()) { case "select": return n("option:selected", i).length; case "input": if (this.checkable(i)) return this.findByName(i.name).filter(":checked").length }return t.length }, depend: function (n, t) { return this.dependTypes[typeof n] ? this.dependTypes[typeof n](n, t) : !0 }, dependTypes: { boolean: function (n) { return n }, string: function (t, i) { return !!n(t, i.form).length }, "function": function (n, t) { return n(t) } }, optional: function (t) { var i = this.elementValue(t); return !n.validator.methods.required.call(this, i, t) && "dependency-mismatch" }, startRequest: function (n) { this.pending[n.name] || (this.pendingRequest++ , this.pending[n.name] = !0) }, stopRequest: function (t, i) { this.pendingRequest--; this.pendingRequest < 0 && (this.pendingRequest = 0); delete this.pending[t.name]; i && 0 === this.pendingRequest && this.formSubmitted && this.form() ? (n(this.currentForm).submit(), this.formSubmitted = !1) : !i && 0 === this.pendingRequest && this.formSubmitted && (n(this.currentForm).triggerHandler("invalid-form", [this]), this.formSubmitted = !1) }, previousValue: function (t) { return n.data(t, "previousValue") || n.data(t, "previousValue", { old: null, valid: !0, message: this.defaultMessage(t, "remote") }) } }, classRuleSettings: { required: { required: !0 }, email: { email: !0 }, url: { url: !0 }, date: { date: !0 }, dateISO: { dateISO: !0 }, number: { number: !0 }, digits: { digits: !0 }, creditcard: { creditcard: !0 } }, addClassRules: function (t, i) { t.constructor === String ? this.classRuleSettings[t] = i : n.extend(this.classRuleSettings, t) }, classRules: function (t) { var i = {}, r = n(t).attr("class"); return r && n.each(r.split(" "), function () { this in n.validator.classRuleSettings && n.extend(i, n.validator.classRuleSettings[this]) }), i }, attributeRules: function (t) { var r, i, u = {}, e = n(t), f = t.getAttribute("type"); for (r in n.validator.methods) "required" === r ? (i = t.getAttribute(r), "" === i && (i = !0), i = !!i) : i = e.attr(r), /min|max/.test(r) && (null === f || /number|range|text/.test(f)) && (i = Number(i)), i || 0 === i ? u[r] = i : f === r && "range" !== f && (u[r] = !0); return u.maxlength && /-1|2147483647|524288/.test(u.maxlength) && delete u.maxlength, u }, dataRules: function (t) { var i, r, u = {}, f = n(t); for (i in n.validator.methods) r = f.data("rule" + i.charAt(0).toUpperCase() + i.substring(1).toLowerCase()), void 0 !== r && (u[i] = r); return u }, staticRules: function (t) { var i = {}, r = n.data(t.form, "validator"); return r.settings.rules && (i = n.validator.normalizeRule(r.settings.rules[t.name]) || {}), i }, normalizeRules: function (t, i) { return n.each(t, function (r, u) { if (u === !1) return void delete t[r]; if (u.param || u.depends) { var f = !0; switch (typeof u.depends) { case "string": f = !!n(u.depends, i.form).length; break; case "function": f = u.depends.call(i, i) }f ? t[r] = void 0 !== u.param ? u.param : !0 : delete t[r] } }), n.each(t, function (r, u) { t[r] = n.isFunction(u) ? u(i) : u }), n.each(["minlength", "maxlength"], function () { t[this] && (t[this] = Number(t[this])) }), n.each(["rangelength", "range"], function () { var i; t[this] && (n.isArray(t[this]) ? t[this] = [Number(t[this][0]), Number(t[this][1])] : "string" == typeof t[this] && (i = t[this].replace(/[\[\]]/g, "").split(/[\s,]+/), t[this] = [Number(i[0]), Number(i[1])])) }), n.validator.autoCreateRanges && (null != t.min && null != t.max && (t.range = [t.min, t.max], delete t.min, delete t.max), null != t.minlength && null != t.maxlength && (t.rangelength = [t.minlength, t.maxlength], delete t.minlength, delete t.maxlength)), t }, normalizeRule: function (t) { if ("string" == typeof t) { var i = {}; n.each(t.split(/\s/), function () { i[this] = !0 }); t = i } return t }, addMethod: function (t, i, r) { n.validator.methods[t] = i; n.validator.messages[t] = void 0 !== r ? r : n.validator.messages[t]; i.length < 3 && n.validator.addClassRules(t, n.validator.normalizeRule(t)) }, methods: { required: function (t, i, r) { if (!this.depend(r, i)) return "dependency-mismatch"; if ("select" === i.nodeName.toLowerCase()) { var u = n(i).val(); return u && u.length > 0 } return this.checkable(i) ? this.getLength(t, i) > 0 : n.trim(t).length > 0 }, email: function (n, t) { return this.optional(t) || /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(n) }, url: function (n, t) { return this.optional(t) || /^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n) }, date: function (n, t) { return this.optional(t) || !/Invalid|NaN/.test(new Date(n).toString()) }, dateISO: function (n, t) { return this.optional(t) || /^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(n) }, number: function (n, t) { return this.optional(t) || /^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n) }, digits: function (n, t) { return this.optional(t) || /^\d+$/.test(n) }, creditcard: function (n, t) { if (this.optional(t)) return "dependency-mismatch"; if (/[^0-9 \-]+/.test(n)) return !1; var i, f, e = 0, r = 0, u = !1; if (n = n.replace(/\D/g, ""), n.length < 13 || n.length > 19) return !1; for (i = n.length - 1; i >= 0; i--)f = n.charAt(i), r = parseInt(f, 10), u && (r *= 2) > 9 && (r -= 9), e += r, u = !u; return e % 10 == 0 }, minlength: function (t, i, r) { var u = n.isArray(t) ? t.length : this.getLength(t, i); return this.optional(i) || u >= r }, maxlength: function (t, i, r) { var u = n.isArray(t) ? t.length : this.getLength(t, i); return this.optional(i) || r >= u }, rangelength: function (t, i, r) { var u = n.isArray(t) ? t.length : this.getLength(t, i); return this.optional(i) || u >= r[0] && u <= r[1] }, min: function (n, t, i) { return this.optional(t) || n >= i }, max: function (n, t, i) { return this.optional(t) || i >= n }, range: function (n, t, i) { return this.optional(t) || n >= i[0] && n <= i[1] }, equalTo: function (t, i, r) { var u = n(r); return this.settings.onfocusout && u.unbind(".validate-equalTo").bind("blur.validate-equalTo", function () { n(i).valid() }), t === u.val() }, remote: function (t, i, r) { if (this.optional(i)) return "dependency-mismatch"; var u, e, f = this.previousValue(i); return this.settings.messages[i.name] || (this.settings.messages[i.name] = {}), f.originalMessage = this.settings.messages[i.name].remote, this.settings.messages[i.name].remote = f.message, r = "string" == typeof r && { url: r } || r, f.old === t ? f.valid : (f.old = t, u = this, this.startRequest(i), e = {}, e[i.name] = t, n.ajax(n.extend(!0, { url: r, mode: "abort", port: "validate" + i.name, dataType: "json", data: e, context: u.currentForm, success: function (r) { var o, e, h, s = r === !0 || "true" === r; u.settings.messages[i.name].remote = f.originalMessage; s ? (h = u.formSubmitted, u.prepareElement(i), u.formSubmitted = h, u.successList.push(i), delete u.invalid[i.name], u.showErrors()) : (o = {}, e = r || u.defaultMessage(i, "remote"), o[i.name] = f.message = n.isFunction(e) ? e(t) : e, u.invalid[i.name] = !0, u.showErrors(o)); f.valid = s; u.stopRequest(i, s) } }, r)), "pending") } } }); n.format = function () { throw "$.format has been deprecated. Please use $.validator.format instead."; }; var i, t = {}; n.ajaxPrefilter ? n.ajaxPrefilter(function (n, i, r) { var u = n.port; "abort" === n.mode && (t[u] && t[u].abort(), t[u] = r) }) : (i = n.ajax, n.ajax = function (r) { var f = ("mode" in r ? r : n.ajaxSettings).mode, u = ("port" in r ? r : n.ajaxSettings).port; return "abort" === f ? (t[u] && t[u].abort(), t[u] = i.apply(this, arguments), t[u]) : i.apply(this, arguments) }); n.extend(n.fn, { validateDelegate: function (t, i, r) { return this.bind(i, function (i) { var u = n(i.target); if (u.is(t)) return r.apply(u, arguments) }) } }) }), function (n, t, i) { typeof define == "function" && define.amd ? define(["jquery"], function (r) { return i(r, n, t), r.mobile }) : i(n.jQuery, n, t) }(this, document, function (n, t, i) { (function (n, t, i, r) { function h(n) { while (n && typeof n.originalEvent != "undefined") n = n.originalEvent; return n } function vt(t, i) { var u = t.type, e, o, l, f, s, a, v, c, y; if (t = n.Event(t), t.type = i, e = t.originalEvent, o = n.event.props, u.search(/^(mouse|click)/) > -1 && (o = gt), e) for (v = o.length, f; v;)f = o[--v], t[f] = e[f]; if (u.search(/mouse(down|up)|click/) > -1 && !t.which && (t.which = 1), u.search(/^touch/) !== -1 && (l = h(e), u = l.touches, s = l.changedTouches, a = u && u.length ? u[0] : s && s.length ? s[0] : r, a)) for (c = 0, y = ct.length; c < y; c++)f = ct[c], t[f] = a[f]; return t } function v(t) { for (var i = {}, r, u; t;) { r = n.data(t, o); for (u in r) r[u] && (i[u] = i.hasVirtualBinding = !0); t = t.parentNode } return i } function yt(t, i) { for (var r; t;) { if (r = n.data(t, o), r && (!i || r[i])) return t; t = t.parentNode } return null } function pt() { l = !1 } function tt() { l = !0 } function wt() { s = 0; y.length = 0; d = !1; tt() } function bt() { pt() } function w() { it(); c = setTimeout(function () { c = 0; wt() }, n.vmouse.resetTimerDuration) } function it() { c && (clearTimeout(c), c = 0) } function f(t, i, r) { var u; return (r && r[t] || !r && yt(i.target, t)) && (u = vt(i, t), n(i.target).trigger(u)), u } function rt(t) { var r = n.data(t.target, b), i; d || s && s === r || (i = f("v" + t.type, t), i && (i.isDefaultPrevented() && t.preventDefault(), i.isPropagationStopped() && t.stopPropagation(), i.isImmediatePropagationStopped() && t.stopImmediatePropagation())) } function ut(t) { var o = h(t).touches, r, i, u; o && o.length === 1 && (r = t.target, i = v(r), i.hasVirtualBinding && (s = ni++ , n.data(r, b, s), it(), bt(), e = !1, u = h(t).touches[0], lt = u.pageX, at = u.pageY, f("vmouseover", t, i), f("vmousedown", t, i))) } function ft(n) { l || (e || f("vmousecancel", n, v(n.target)), e = !0, w()) } function et(t) { if (!l) { var i = h(t).touches[0], o = e, r = n.vmouse.moveDistanceThreshold, u = v(t.target); e = e || Math.abs(i.pageX - lt) > r || Math.abs(i.pageY - at) > r; e && !o && f("vmousecancel", t, u); f("vmousemove", t, u); w() } } function ot(n) { if (!l) { tt(); var t = v(n.target), i, r; f("vmouseup", n, t); e || (i = f("vclick", n, t), i && i.isDefaultPrevented() && (r = h(n).changedTouches[0], y.push({ touchID: s, x: r.clientX, y: r.clientY }), d = !0)); f("vmouseout", n, t); e = !1; w() } } function st(t) { var i = n.data(t, o), r; if (i) for (r in i) if (i[r]) return !0; return !1 } function ht() { } function kt(t) { var i = t.substr(1); return { setup: function () { st(this) || n.data(this, o, {}); var r = n.data(this, o); r[t] = !0; u[t] = (u[t] || 0) + 1; u[t] === 1 && p.bind(i, rt); n(this).bind(i, ht); g && (u.touchstart = (u.touchstart || 0) + 1, u.touchstart === 1 && p.bind("touchstart", ut).bind("touchend", ot).bind("touchmove", et).bind("scroll", ft)) }, teardown: function () { --u[t]; u[t] || p.unbind(i, rt); g && (--u.touchstart, u.touchstart || p.unbind("touchstart", ut).unbind("touchmove", et).unbind("touchend", ot).unbind("scroll", ft)); var r = n(this), f = n.data(this, o); f && (f[t] = !1); r.unbind(i, ht); st(this) || r.removeData(o) } } } var o = "virtualMouseBindings", b = "virtualTouchID", k = "vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "), ct = "clientX clientY pageX pageY screenX screenY".split(" "), dt = n.event.mouseHooks ? n.event.mouseHooks.props : [], gt = n.event.props.concat(dt), u = {}, c = 0, lt = 0, at = 0, e = !1, y = [], d = !1, l = !1, g = "addEventListener" in i, p = n(i), ni = 1, s = 0, nt, a; for (n.vmouse = { moveDistanceThreshold: 10, clickDistanceThreshold: 10, resetTimerDuration: 1500 }, a = 0; a < k.length; a++)n.event.special[k[a]] = kt(k[a]); g && i.addEventListener("click", function (t) { var f = y.length, e = t.target, o, s, i, r, u, h; if (f) for (o = t.clientX, s = t.clientY, nt = n.vmouse.clickDistanceThreshold, i = e; i;) { for (r = 0; r < f; r++)if (u = y[r], h = 0, i === e && Math.abs(u.x - o) < nt && Math.abs(u.y - s) < nt || n.data(i, b) === u.touchID) { t.preventDefault(); t.stopPropagation(); return } i = i.parentNode } }, !0) })(n, t, i), function (n) { n.mobile = {} }(n), function (n) { var t = { touch: "ontouchend" in i }; n.mobile.support = n.mobile.support || {}; n.extend(n.support, t); n.extend(n.mobile.support, t) }(n), function (n, t, r) { function f(t, i, u, f) { var e = u.type; u.type = i; f ? n.event.trigger(u, r, t) : n.event.dispatch.call(t, u); u.type = e } var u = n(i), e = n.mobile.support.touch, s = "touchmove scroll", h = e ? "touchstart" : "mousedown", c = e ? "touchend" : "mouseup", o = e ? "touchmove" : "mousemove"; n.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "), function (t, i) { n.fn[i] = function (n) { return n ? this.bind(i, n) : this.trigger(i) }; n.attrFn && (n.attrFn[i] = !0) }); n.event.special.scrollstart = { enabled: !0, setup: function () { function i(n, i) { t = i; f(r, t ? "scrollstart" : "scrollstop", n) } var r = this, e = n(r), t, u; e.bind(s, function (r) { n.event.special.scrollstart.enabled && (t || i(r, !0), clearTimeout(u), u = setTimeout(function () { i(r, !1) }, 50)) }) }, teardown: function () { n(this).unbind(s) } }; n.event.special.tap = { tapholdThreshold: 750, emitTapOnTaphold: !0, setup: function () { var i = this, r = n(i), t = !1; r.bind("vmousedown", function (e) { function o() { clearTimeout(l) } function s() { o(); r.unbind("vclick", h).unbind("vmouseup", o); u.unbind("vmousecancel", s) } function h(n) { s(); !t && c === n.target ? f(i, "tap", n) : t && n.preventDefault() } if (t = !1, e.which && e.which !== 1) return !1; var c = e.target, l; r.bind("vmouseup", o).bind("vclick", h); u.bind("vmousecancel", s); l = setTimeout(function () { n.event.special.tap.emitTapOnTaphold || (t = !0); f(i, "taphold", n.Event("taphold", { target: c })) }, n.event.special.tap.tapholdThreshold) }) }, teardown: function () { n(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"); u.unbind("vmousecancel") } }; n.event.special.swipe = { scrollSupressionThreshold: 30, durationThreshold: 1e3, horizontalDistanceThreshold: 30, verticalDistanceThreshold: 30, getLocation: function (n) { var u = t.pageXOffset, f = t.pageYOffset, i = n.clientX, r = n.clientY; return n.pageY === 0 && Math.floor(r) > Math.floor(n.pageY) || n.pageX === 0 && Math.floor(i) > Math.floor(n.pageX) ? (i -= u, r -= f) : (r < n.pageY - f || i < n.pageX - u) && (i = n.pageX - u, r = n.pageY - f), { x: i, y: r } }, start: function (t) { var r = t.originalEvent.touches ? t.originalEvent.touches[0] : t, i = n.event.special.swipe.getLocation(r); return { time: (new Date).getTime(), coords: [i.x, i.y], origin: n(t.target) } }, stop: function (t) { var r = t.originalEvent.touches ? t.originalEvent.touches[0] : t, i = n.event.special.swipe.getLocation(r); return { time: (new Date).getTime(), coords: [i.x, i.y] } }, handleSwipe: function (t, i, r, u) { if (i.time - t.time < n.event.special.swipe.durationThreshold && Math.abs(t.coords[0] - i.coords[0]) > n.event.special.swipe.horizontalDistanceThreshold && Math.abs(t.coords[1] - i.coords[1]) < n.event.special.swipe.verticalDistanceThreshold) { var e = t.coords[0] > i.coords[0] ? "swipeleft" : "swiperight"; return f(r, "swipe", n.Event("swipe", { target: u, swipestart: t, swipestop: i }), !0), f(r, e, n.Event(e, { target: u, swipestart: t, swipestop: i }), !0), !0 } return !1 }, eventInProgress: !1, setup: function () { var i, r = this, f = n(r), t = {}; i = n.data(this, "mobile-events"); i || (i = { length: 0 }, n.data(this, "mobile-events", i)); i.length++; i.swipe = t; t.start = function (i) { if (!n.event.special.swipe.eventInProgress) { n.event.special.swipe.eventInProgress = !0; var e, s = n.event.special.swipe.start(i), h = i.target, f = !1; t.move = function (t) { s && !t.isDefaultPrevented() && (e = n.event.special.swipe.stop(t), f || (f = n.event.special.swipe.handleSwipe(s, e, r, h), f && (n.event.special.swipe.eventInProgress = !1)), Math.abs(s.coords[0] - e.coords[0]) > n.event.special.swipe.scrollSupressionThreshold && t.preventDefault()) }; t.stop = function () { f = !0; n.event.special.swipe.eventInProgress = !1; u.off(o, t.move); t.move = null }; u.on(o, t.move).one(c, t.stop) } }; f.on(h, t.start) }, teardown: function () { var i, t; i = n.data(this, "mobile-events"); i && (t = i.swipe, delete i.swipe, i.length-- , i.length === 0 && n.removeData(this, "mobile-events")); t && (t.start && n(this).off(h, t.start), t.move && u.off(o, t.move), t.stop && u.off(c, t.stop)) } }; n.each({ scrollstop: "scrollstart", taphold: "tap", swipeleft: "swipe.left", swiperight: "swipe.right" }, function (t, i) { n.event.special[t] = { setup: function () { n(this).bind(i, n.noop) }, teardown: function () { n(this).unbind(i) } } }) }(n, this) }), function () { "use strict"; function n(t, r) { function h(n, t) { return function () { return n.apply(t, arguments) } } var o, f, e, u, s; if (r = r || {}, this.trackingClick = !1, this.trackingClickStart = 0, this.targetElement = null, this.touchStartX = 0, this.touchStartY = 0, this.lastTouchIdentifier = 0, this.touchBoundary = r.touchBoundary || 10, this.layer = t, this.tapDelay = r.tapDelay || 200, this.tapTimeout = r.tapTimeout || 700, !n.notNeeded(t)) { for (f = ["onMouse", "onClick", "onTouchStart", "onTouchMove", "onTouchEnd", "onTouchCancel"], e = this, u = 0, s = f.length; u < s; u++)e[f[u]] = h(e[f[u]], e); i && (t.addEventListener("mouseover", this.onMouse, !0), t.addEventListener("mousedown", this.onMouse, !0), t.addEventListener("mouseup", this.onMouse, !0)); t.addEventListener("click", this.onClick, !0); t.addEventListener("touchstart", this.onTouchStart, !1); t.addEventListener("touchmove", this.onTouchMove, !1); t.addEventListener("touchend", this.onTouchEnd, !1); t.addEventListener("touchcancel", this.onTouchCancel, !1); Event.prototype.stopImmediatePropagation || (t.removeEventListener = function (n, i, r) { var u = Node.prototype.removeEventListener; n === "click" ? u.call(t, n, i.hijacked || i, r) : u.call(t, n, i, r) }, t.addEventListener = function (n, i, r) { var u = Node.prototype.addEventListener; n === "click" ? u.call(t, n, i.hijacked || (i.hijacked = function (n) { n.propagationStopped || i(n) }), r) : u.call(t, n, i, r) }); typeof t.onclick == "function" && (o = t.onclick, t.addEventListener("click", function (n) { o(n) }, !1), t.onclick = null) } } var r = navigator.userAgent.indexOf("Windows Phone") >= 0, i = navigator.userAgent.indexOf("Android") > 0 && !r, t = /iP(ad|hone|od)/.test(navigator.userAgent) && !r, u = t && /OS 4_\d(_\d)?/.test(navigator.userAgent), f = t && /OS [6-7]_\d/.test(navigator.userAgent), e = navigator.userAgent.indexOf("BB10") > 0; n.prototype.needsClick = function (n) { switch (n.nodeName.toLowerCase()) { case "button": case "select": case "textarea": if (n.disabled) return !0; break; case "input": if (t && n.type === "file" || n.disabled) return !0; break; case "label": case "iframe": case "video": return !0 }return /\bneedsclick\b/.test(n.className) }; n.prototype.needsFocus = function (n) { switch (n.nodeName.toLowerCase()) { case "textarea": return !0; case "select": return !i; case "input": switch (n.type) { case "button": case "checkbox": case "file": case "image": case "radio": case "submit": return !1 }return !n.disabled && !n.readOnly; default: return /\bneedsfocus\b/.test(n.className) } }; n.prototype.sendClick = function (n, t) { var r, i; document.activeElement && document.activeElement !== n && document.activeElement.blur(); i = t.changedTouches[0]; r = document.createEvent("MouseEvents"); r.initMouseEvent(this.determineEventType(n), !0, !0, window, 1, i.screenX, i.screenY, i.clientX, i.clientY, !1, !1, !1, !1, 0, null); r.forwardedTouchEvent = !0; n.dispatchEvent(r) }; n.prototype.determineEventType = function (n) { return i && n.tagName.toLowerCase() === "select" ? "mousedown" : "click" }; n.prototype.focus = function (n) { var i; t && n.setSelectionRange && n.type.indexOf("date") !== 0 && n.type !== "time" && n.type !== "month" ? (i = n.value.length, n.setSelectionRange(i, i)) : n.focus() }; n.prototype.updateScrollParent = function (n) { var i, t; if (i = n.fastClickScrollParent, !i || !i.contains(n)) { t = n; do { if (t.scrollHeight > t.offsetHeight) { i = t; n.fastClickScrollParent = t; break } t = t.parentElement } while (t) } i && (i.fastClickLastScrollTop = i.scrollTop) }; n.prototype.getTargetElementFromEventTarget = function (n) { return n.nodeType === Node.TEXT_NODE ? n.parentNode : n }; n.prototype.onTouchStart = function (n) { var r, i, f; if (n.targetTouches.length > 1) return !0; if (r = this.getTargetElementFromEventTarget(n.target), i = n.targetTouches[0], t) { if (f = window.getSelection(), f.rangeCount && !f.isCollapsed) return !0; if (!u) { if (i.identifier && i.identifier === this.lastTouchIdentifier) return n.preventDefault(), !1; this.lastTouchIdentifier = i.identifier; this.updateScrollParent(r) } } return this.trackingClick = !0, this.trackingClickStart = n.timeStamp, this.targetElement = r, this.touchStartX = i.pageX, this.touchStartY = i.pageY, n.timeStamp - this.lastClickTime < this.tapDelay && n.preventDefault(), !0 }; n.prototype.touchHasMoved = function (n) { var t = n.changedTouches[0], i = this.touchBoundary; return Math.abs(t.pageX - this.touchStartX) > i || Math.abs(t.pageY - this.touchStartY) > i ? !0 : !1 }; n.prototype.onTouchMove = function (n) { return this.trackingClick ? ((this.targetElement !== this.getTargetElementFromEventTarget(n.target) || this.touchHasMoved(n)) && (this.trackingClick = !1, this.targetElement = null), !0) : !0 }; n.prototype.findControl = function (n) { return n.control !== undefined ? n.control : n.htmlFor ? document.getElementById(n.htmlFor) : n.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea") }; n.prototype.onTouchEnd = function (n) { var s, c, e, o, h, r = this.targetElement; if (!this.trackingClick) return !0; if (n.timeStamp - this.lastClickTime < this.tapDelay) return this.cancelNextClick = !0, !0; if (n.timeStamp - this.trackingClickStart > this.tapTimeout) return !0; if (this.cancelNextClick = !1, this.lastClickTime = n.timeStamp, c = this.trackingClickStart, this.trackingClick = !1, this.trackingClickStart = 0, f && (h = n.changedTouches[0], r = document.elementFromPoint(h.pageX - window.pageXOffset, h.pageY - window.pageYOffset) || r, r.fastClickScrollParent = this.targetElement.fastClickScrollParent), e = r.tagName.toLowerCase(), e === "label") { if (s = this.findControl(r), s) { if (this.focus(r), i) return !1; r = s } } else if (this.needsFocus(r)) return n.timeStamp - c > 100 || t && window.top !== window && e === "input" ? (this.targetElement = null, !1) : (this.focus(r), this.sendClick(r, n), t && e === "select" || (this.targetElement = null, n.preventDefault()), !1); return t && !u && (o = r.fastClickScrollParent, o && o.fastClickLastScrollTop !== o.scrollTop) ? !0 : (this.needsClick(r) || (n.preventDefault(), this.sendClick(r, n)), !1) }; n.prototype.onTouchCancel = function () { this.trackingClick = !1; this.targetElement = null }; n.prototype.onMouse = function (n) { return this.targetElement ? n.forwardedTouchEvent ? !0 : n.cancelable ? !this.needsClick(this.targetElement) || this.cancelNextClick ? (n.stopImmediatePropagation ? n.stopImmediatePropagation() : n.propagationStopped = !0, n.stopPropagation(), n.preventDefault(), !1) : !0 : !0 : !0 }; n.prototype.onClick = function (n) { var t; return this.trackingClick ? (this.targetElement = null, this.trackingClick = !1, !0) : n.target.type === "submit" && n.detail === 0 ? !0 : (t = this.onMouse(n), t || (this.targetElement = null), t) }; n.prototype.destroy = function () { var n = this.layer; i && (n.removeEventListener("mouseover", this.onMouse, !0), n.removeEventListener("mousedown", this.onMouse, !0), n.removeEventListener("mouseup", this.onMouse, !0)); n.removeEventListener("click", this.onClick, !0); n.removeEventListener("touchstart", this.onTouchStart, !1); n.removeEventListener("touchmove", this.onTouchMove, !1); n.removeEventListener("touchend", this.onTouchEnd, !1); n.removeEventListener("touchcancel", this.onTouchCancel, !1) }; n.notNeeded = function (n) { var t, r, u, f; if (typeof ontouchstart == "undefined") return !0; if (r = +(/Chrome\/([0-9]+)/.exec(navigator.userAgent) || [, 0])[1], r) if (i) { if (t = document.querySelector("meta[name=viewport]"), t && (t.content.indexOf("user-scalable=no") !== -1 || r > 31 && document.documentElement.scrollWidth <= window.outerWidth)) return !0 } else return !0; return e && (u = navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/), u[1] >= 10 && u[2] >= 3 && (t = document.querySelector("meta[name=viewport]"), t && (t.content.indexOf("user-scalable=no") !== -1 || document.documentElement.scrollWidth <= window.outerWidth))) ? !0 : getComputedStyle(n).touchAction === "none" || getComputedStyle(n).touchAction === "manipulation" ? !0 : (f = +(/Firefox\/([0-9]+)/.exec(navigator.userAgent) || [, 0])[1], f >= 27 && (t = document.querySelector("meta[name=viewport]"), t && (t.content.indexOf("user-scalable=no") !== -1 || document.documentElement.scrollWidth <= window.outerWidth))) ? !0 : getComputedStyle(n).touchAction === "none" || getComputedStyle(n).touchAction === "manipulation" ? !0 : !1 }; n.attach = function (t, i) { return new n(t, i) }; typeof define == "function" && typeof define.amd == "object" && define.amd ? define(function () { return n }) : typeof module != "undefined" && module.exports ? (module.exports = n.attach, module.exports.FastClick = n) : window.FastClick = n }(); !function (n, t) { "function" == typeof define && define.amd ? define(["jquery"], function (n) { return t(n) }) : "object" == typeof exports ? module.exports = t(require("jquery")) : t(n.jQuery) }(this, function (n) { var t = function (n, t) { var o, r = document.createElement("canvas"), i, u, f; n.appendChild(r); "object" == typeof G_vmlCanvasManager && G_vmlCanvasManager.initElement(r); i = r.getContext("2d"); r.width = r.height = t.size; u = 1; window.devicePixelRatio > 1 && (u = window.devicePixelRatio, r.style.width = r.style.height = [t.size, "px"].join(""), r.width = r.height = t.size * u, i.scale(u, u)); i.translate(t.size / 2, t.size / 2); i.rotate((-.5 + t.rotate / 180) * Math.PI); f = (t.size - t.lineWidth) / 2; t.scaleColor && t.scaleLength && (f -= t.scaleLength + 2); Date.now = Date.now || function () { return +new Date }; var e = function (n, t, r) { r = Math.min(Math.max(-1, r || 0), 1); var u = r <= 0; i.beginPath(); i.arc(0, 0, f, 0, 2 * Math.PI * r, u); i.strokeStyle = n; i.lineWidth = t; i.stroke() }, c = function () { var u, n, r; for (i.lineWidth = 1, i.fillStyle = t.scaleColor, i.save(), r = 24; r > 0; --r)r % 6 == 0 ? (n = t.scaleLength, u = 0) : (n = .6 * t.scaleLength, u = t.scaleLength - n), i.fillRect(-t.size / 2 + u, 0, n, 1), i.rotate(Math.PI / 12); i.restore() }, s = function () { return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (n) { window.setTimeout(n, 1e3 / 60) } }(), h = function () { t.scaleColor && c(); t.trackColor && e(t.trackColor, t.trackWidth || t.lineWidth, 1) }; this.getCanvas = function () { return r }; this.getCtx = function () { return i }; this.clear = function () { i.clearRect(t.size / -2, t.size / -2, t.size, t.size) }; this.draw = function (n) { var s, r; t.scaleColor || t.trackColor ? i.getImageData && i.putImageData ? o ? i.putImageData(o, 0, 0) : (h(), o = i.getImageData(0, 0, t.size * u, t.size * u)) : (this.clear(), h()) : this.clear(); i.lineCap = t.lineCap; (s = "function" == typeof t.barColor ? t.barColor(n) : t.barColor, t.border.enabled) && (r = t.border.width / (2 * Math.PI * f), e(t.border.color, t.lineWidth, n / 100 - r), e(t.border.color, t.lineWidth, r)); e(s, t.lineWidth, n / 100) }.bind(this); this.animate = function (n, i) { var u = Date.now(), r; t.onStart(n, i); r = function () { var f = Math.min(Date.now() - u, t.animate.duration), e = t.easing(this, f, n, i - n, t.animate.duration); this.draw(e); t.onStep(n, i, e); f >= t.animate.duration ? t.onStop(n, i) : s(r) }.bind(this); s(r) }.bind(this) }, i = function (n, i) { var u = { barColor: "#ef1e25", trackColor: "#f9f9f9", scaleColor: "#dfe0e0", scaleLength: 5, lineCap: "round", lineWidth: 3, trackWidth: void 0, size: 110, rotate: 0, border: { width: 1, color: "#ffffff", enabled: !1 }, animate: { duration: 1e3, enabled: !0 }, easing: function (n, t, i, r, u) { return t /= u / 2, t < 1 ? r / 2 * t * t + i : -r / 2 * (--t * (t - 2) - 1) + i }, onStart: function () { }, onStep: function () { }, onStop: function () { } }; if ("undefined" != typeof t) u.renderer = t; else { if ("undefined" == typeof SVGRenderer) throw new Error("Please load either the SVG- or the CanvasRenderer"); u.renderer = SVGRenderer } var r = {}, f = 0, e = function () { this.el = n; this.options = r; for (var t in u) u.hasOwnProperty(t) && (r[t] = i && "undefined" != typeof i[t] ? i[t] : u[t], "function" == typeof r[t] && (r[t] = r[t].bind(this))); r.easing = "string" == typeof r.easing && "undefined" != typeof jQuery && jQuery.isFunction(jQuery.easing[r.easing]) ? jQuery.easing[r.easing] : u.easing; "number" == typeof r.animate && (r.animate = { duration: r.animate, enabled: !0 }); "boolean" != typeof r.animate || r.animate || (r.animate = { duration: 1e3, enabled: r.animate }); this.renderer = new r.renderer(n, r); this.renderer.draw(f); n.dataset && n.dataset.percent ? this.update(parseFloat(n.dataset.percent)) : n.getAttribute && n.getAttribute("data-percent") && this.update(parseFloat(n.getAttribute("data-percent"))) }.bind(this); this.update = function (n) { return n = parseFloat(n), r.animate.enabled ? this.renderer.animate(f, n) : this.renderer.draw(n), f = n, this }.bind(this); this.disableAnimation = function () { return r.animate.enabled = !1, this }; this.enableAnimation = function () { return r.animate.enabled = !0, this }; e() }; n.fn.easyPieChart = function (t) { return this.each(function () { var r; n.data(this, "easyPieChart") || (r = n.extend({}, t, n(this).data()), n.data(this, "easyPieChart", new i(this, r))) }) } }); !function (n) { var t = { mode: "horizontal", slideSelector: "", infiniteLoop: !0, hideControlOnEnd: !1, speed: 500, easing: null, slideMargin: 0, startSlide: 0, randomStart: !1, captions: !1, ticker: !1, tickerHover: !1, adaptiveHeight: !1, adaptiveHeightSpeed: 500, video: !1, useCSS: !0, preloadImages: "visible", responsive: !0, slideZIndex: 50, wrapperClass: "bx-wrapper", touchEnabled: !0, swipeThreshold: 50, oneToOneTouch: !0, preventDefaultSwipeX: !0, preventDefaultSwipeY: !1, ariaLive: !0, ariaHidden: !0, keyboardEnabled: !1, pager: !0, pagerType: "full", pagerShortSeparator: " / ", pagerSelector: null, buildPager: null, pagerCustom: null, controls: !0, nextText: "Next", prevText: "Prev", nextSelector: null, prevSelector: null, autoControls: !1, startText: "Start", stopText: "Stop", autoControlsCombine: !1, autoControlsSelector: null, auto: !1, pause: 4e3, autoStart: !0, autoDirection: "next", stopAutoOnClick: !1, autoHover: !1, autoDelay: 0, autoSlideForOnePage: !1, minSlides: 1, maxSlides: 1, moveSlides: 0, slideWidth: 0, shrinkItems: !1, onSliderLoad: function () { return !0 }, onSlideBefore: function () { return !0 }, onSlideAfter: function () { return !0 }, onSlideNext: function () { return !0 }, onSlidePrev: function () { return !0 }, onSliderResize: function () { return !0 }, onAutoChange: function () { return !0 } }; n.fn.bxSlider = function (r) { if (0 === this.length) return this; if (this.length > 1) return this.each(function () { n(this).bxSlider(r) }), this; var u = {}, f = this, k = n(window).width(), d = n(window).height(); if (!n(f).data("bxSlider")) { var g = function () { n(f).data("bxSlider") || (u.settings = n.extend({}, t, r), u.settings.slideWidth = parseInt(u.settings.slideWidth), u.children = f.children(u.settings.slideSelector), u.children.length < u.settings.minSlides && (u.settings.minSlides = u.children.length), u.children.length < u.settings.maxSlides && (u.settings.maxSlides = u.children.length), u.settings.randomStart && (u.settings.startSlide = Math.floor(Math.random() * u.children.length)), u.active = { index: u.settings.startSlide }, u.carousel = u.settings.minSlides > 1 || u.settings.maxSlides > 1, u.carousel && (u.settings.preloadImages = "all"), u.minThreshold = u.settings.minSlides * u.settings.slideWidth + (u.settings.minSlides - 1) * u.settings.slideMargin, u.maxThreshold = u.settings.maxSlides * u.settings.slideWidth + (u.settings.maxSlides - 1) * u.settings.slideMargin, u.working = !1, u.controls = {}, u.interval = null, u.animProp = "vertical" === u.settings.mode ? "top" : "left", u.usingCSS = u.settings.useCSS && "fade" !== u.settings.mode && function () { for (var i = document.createElement("div"), t = ["WebkitPerspective", "MozPerspective", "OPerspective", "msPerspective"], n = 0; n < t.length; n++)if (void 0 !== i.style[t[n]]) return u.cssPrefix = t[n].replace("Perspective", "").toLowerCase(), u.animProp = "-" + u.cssPrefix + "-transform", !0; return !1 }(), "vertical" === u.settings.mode && (u.settings.maxSlides = u.settings.minSlides), f.data("origStyle", f.attr("style")), f.children(u.settings.slideSelector).each(function () { n(this).data("origStyle", n(this).attr("style")) }), lt()) }, lt = function () { var t = u.children.eq(u.settings.startSlide); f.wrap('<div class="' + u.settings.wrapperClass + '"><div class="bx-viewport"><\/div><\/div>'); u.viewport = f.parent(); u.settings.ariaLive && !u.settings.ticker && u.viewport.attr("aria-live", "polite"); u.loader = n('<div class="bx-loading" />'); u.viewport.prepend(u.loader); f.css({ width: "horizontal" === u.settings.mode ? 1e3 * u.children.length + 215 + "%" : "auto", position: "relative" }); u.usingCSS && u.settings.easing ? f.css("-" + u.cssPrefix + "-transition-timing-function", u.settings.easing) : u.settings.easing || (u.settings.easing = "swing"); u.viewport.css({ width: "100%", overflow: "hidden", position: "relative" }); u.viewport.parent().css({ maxWidth: yt() }); u.children.css({ float: "horizontal" === u.settings.mode ? "left" : "none", listStyle: "none", position: "relative" }); u.children.css("width", nt()); "horizontal" === u.settings.mode && u.settings.slideMargin > 0 && u.children.css("marginRight", u.settings.slideMargin); "vertical" === u.settings.mode && u.settings.slideMargin > 0 && u.children.css("marginBottom", u.settings.slideMargin); "fade" === u.settings.mode && (u.children.css({ position: "absolute", zIndex: 0, display: "none" }), u.children.eq(u.settings.startSlide).css({ zIndex: u.settings.slideZIndex, display: "block" })); u.controls.el = n('<div class="bx-controls" />'); u.settings.captions && kt(); u.active.last = u.settings.startSlide === o() - 1; u.settings.video && f.fitVids(); ("all" === u.settings.preloadImages || u.settings.ticker) && (t = u.children); u.settings.ticker ? u.settings.pager = !1 : (u.settings.controls && wt(), u.settings.auto && u.settings.autoControls && bt(), u.settings.pager && pt(), (u.settings.controls || u.settings.autoControls || u.settings.pager) && u.viewport.after(u.controls.el)); at(t, vt) }, at = function (t, i) { var r = t.find('img:not([src=""]), iframe').length, u = 0; if (0 === r) return void i(); t.find('img:not([src=""]), iframe').each(function () { n(this).one("load error", function () { ++u === r && i() }).each(function () { (this.complete || "" == this.src) && n(this).trigger("load") }) }) }, vt = function () { if (u.settings.infiniteLoop && "fade" !== u.settings.mode && !u.settings.ticker) { var t = "vertical" === u.settings.mode ? u.settings.minSlides : u.settings.maxSlides, i = u.children.slice(0, t).clone(!0).addClass("bx-clone"), r = u.children.slice(-t).clone(!0).addClass("bx-clone"); u.settings.ariaHidden && (i.attr("aria-hidden", !0), r.attr("aria-hidden", !0)); f.append(i).prepend(r) } u.loader.remove(); tt(); "vertical" === u.settings.mode && (u.settings.adaptiveHeight = !0); u.viewport.height(c()); f.redrawSlider(); u.settings.onSliderLoad.call(f, u.active.index); u.initialized = !0; u.settings.responsive && n(window).bind("resize", b); u.settings.auto && u.settings.autoStart && (o() > 1 || u.settings.autoSlideForOnePage) && ti(); u.settings.ticker && ii(); u.settings.pager && v(u.settings.startSlide); u.settings.controls && ft(); u.settings.touchEnabled && !u.settings.ticker && ui(); u.settings.keyboardEnabled && !u.settings.ticker && n(document).keydown(st) }, c = function () { var r = 0, t = n(), f; if ("vertical" === u.settings.mode || u.settings.adaptiveHeight) if (u.carousel) for (f = 1 === u.settings.moveSlides ? u.active.index : u.active.index * s(), t = u.children.eq(f), i = 1; i <= u.settings.maxSlides - 1; i++)t = f + i >= u.children.length ? t.add(u.children.eq(i - 1)) : t.add(u.children.eq(f + i)); else t = u.children.eq(u.active.index); else t = u.children; return "vertical" === u.settings.mode ? (t.each(function () { r += n(this).outerHeight() }), u.settings.slideMargin > 0 && (r += u.settings.slideMargin * (u.settings.minSlides - 1))) : r = Math.max.apply(Math, t.map(function () { return n(this).outerHeight(!1) }).get()), "border-box" === u.viewport.css("box-sizing") ? r += parseFloat(u.viewport.css("padding-top")) + parseFloat(u.viewport.css("padding-bottom")) + parseFloat(u.viewport.css("border-top-width")) + parseFloat(u.viewport.css("border-bottom-width")) : "padding-box" === u.viewport.css("box-sizing") && (r += parseFloat(u.viewport.css("padding-top")) + parseFloat(u.viewport.css("padding-bottom"))), r }, yt = function () { var n = "100%"; return u.settings.slideWidth > 0 && (n = "horizontal" === u.settings.mode ? u.settings.maxSlides * u.settings.slideWidth + (u.settings.maxSlides - 1) * u.settings.slideMargin : u.settings.slideWidth), n }, nt = function () { var t = u.settings.slideWidth, n = u.viewport.width(); if (0 === u.settings.slideWidth || u.settings.slideWidth > n && !u.carousel || "vertical" === u.settings.mode) t = n; else if (u.settings.maxSlides > 1 && "horizontal" === u.settings.mode) { if (n > u.maxThreshold) return t; n < u.minThreshold ? t = (n - u.settings.slideMargin * (u.settings.minSlides - 1)) / u.settings.minSlides : u.settings.shrinkItems && (t = Math.floor((n + u.settings.slideMargin) / Math.ceil((n + u.settings.slideMargin) / (t + u.settings.slideMargin)) - u.settings.slideMargin)) } return t }, h = function () { var n = 1, t = null; return "horizontal" === u.settings.mode && u.settings.slideWidth > 0 ? u.viewport.width() < u.minThreshold ? n = u.settings.minSlides : u.viewport.width() > u.maxThreshold ? n = u.settings.maxSlides : (t = u.children.first().width() + u.settings.slideMargin, n = Math.floor((u.viewport.width() + u.settings.slideMargin) / t) || 1) : "vertical" === u.settings.mode && (n = u.settings.minSlides), n }, o = function () { var n = 0, i = 0, t = 0; if (u.settings.moveSlides > 0) { if (!u.settings.infiniteLoop) { for (; i < u.children.length;)++n, i = t + h(), t += u.settings.moveSlides <= h() ? u.settings.moveSlides : h(); return t } n = Math.ceil(u.children.length / s()) } else n = Math.ceil(u.children.length / h()); return n }, s = function () { return u.settings.moveSlides > 0 && u.settings.moveSlides <= h() ? u.settings.moveSlides : h() }, tt = function () { var n, t, i; u.children.length > u.settings.maxSlides && u.active.last && !u.settings.infiniteLoop ? "horizontal" === u.settings.mode ? (t = u.children.last(), n = t.position(), e(-(n.left - (u.viewport.width() - t.outerWidth())), "reset", 0)) : "vertical" === u.settings.mode && (i = u.children.length - u.settings.minSlides, n = u.children.eq(i).position(), e(-n.top, "reset", 0)) : (n = u.children.eq(u.active.index * s()).position(), u.active.index === o() - 1 && (u.active.last = !0), void 0 !== n && ("horizontal" === u.settings.mode ? e(-n.left, "reset", 0) : "vertical" === u.settings.mode && e(-n.top, "reset", 0))) }, e = function (t, i, r, o) { var s, h; u.usingCSS ? (h = "vertical" === u.settings.mode ? "translate3d(0, " + t + "px, 0)" : "translate3d(" + t + "px, 0, 0)", f.css("-" + u.cssPrefix + "-transition-duration", r / 1e3 + "s"), "slide" === i ? (f.css(u.animProp, h), 0 !== r ? f.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd", function (t) { n(t.target).is(f) && (f.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"), a()) }) : a()) : "reset" === i ? f.css(u.animProp, h) : "ticker" === i && (f.css("-" + u.cssPrefix + "-transition-timing-function", "linear"), f.css(u.animProp, h), 0 !== r ? f.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd", function (t) { n(t.target).is(f) && (f.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"), e(o.resetValue, "reset", 0), l()) }) : (e(o.resetValue, "reset", 0), l()))) : (s = {}, s[u.animProp] = t, "slide" === i ? f.animate(s, r, u.settings.easing, function () { a() }) : "reset" === i ? f.css(u.animProp, t) : "ticker" === i && f.animate(s, r, "linear", function () { e(o.resetValue, "reset", 0); l() })) }, it = function () { for (var r = "", i = "", f = o(), t = 0; t < f; t++)i = "", u.settings.buildPager && n.isFunction(u.settings.buildPager) || u.settings.pagerCustom ? (i = u.settings.buildPager(t), u.pagerEl.addClass("bx-custom-pager")) : (i = t + 1, u.pagerEl.addClass("bx-default-pager")), r += '<div class="bx-pager-item"><a href="" data-slide-index="' + t + '" class="bx-pager-link">' + i + "<\/a><\/div>"; u.pagerEl.html(r) }, pt = function () { u.settings.pagerCustom ? u.pagerEl = n(u.settings.pagerCustom) : (u.pagerEl = n('<div class="bx-pager" />'), u.settings.pagerSelector ? n(u.settings.pagerSelector).html(u.pagerEl) : u.controls.el.addClass("bx-has-pager").append(u.pagerEl), it()); u.pagerEl.on("click touchend", "a", ni) }, wt = function () { u.controls.next = n('<a class="bx-next" href="">' + u.settings.nextText + "<\/a>"); u.controls.prev = n('<a class="bx-prev" href="">' + u.settings.prevText + "<\/a>"); u.controls.next.bind("click touchend", rt); u.controls.prev.bind("click touchend", ut); u.settings.nextSelector && n(u.settings.nextSelector).append(u.controls.next); u.settings.prevSelector && n(u.settings.prevSelector).append(u.controls.prev); u.settings.nextSelector || u.settings.prevSelector || (u.controls.directionEl = n('<div class="bx-controls-direction" />'), u.controls.directionEl.append(u.controls.prev).append(u.controls.next), u.controls.el.addClass("bx-has-controls-direction").append(u.controls.directionEl)) }, bt = function () { u.controls.start = n('<div class="bx-controls-auto-item"><a class="bx-start" href="">' + u.settings.startText + "<\/a><\/div>"); u.controls.stop = n('<div class="bx-controls-auto-item"><a class="bx-stop" href="">' + u.settings.stopText + "<\/a><\/div>"); u.controls.autoEl = n('<div class="bx-controls-auto" />'); u.controls.autoEl.on("click", ".bx-start", dt); u.controls.autoEl.on("click", ".bx-stop", gt); u.settings.autoControlsCombine ? u.controls.autoEl.append(u.controls.start) : u.controls.autoEl.append(u.controls.start).append(u.controls.stop); u.settings.autoControlsSelector ? n(u.settings.autoControlsSelector).html(u.controls.autoEl) : u.controls.el.addClass("bx-has-controls-auto").append(u.controls.autoEl); y(u.settings.autoStart ? "stop" : "start") }, kt = function () { u.children.each(function () { var t = n(this).find("img:first").attr("title"); void 0 !== t && ("" + t).length && n(this).append('<div class="bx-caption"><span>' + t + "<\/span><\/div>") }) }, rt = function (n) { n.preventDefault(); u.controls.el.hasClass("disabled") || (u.settings.auto && u.settings.stopAutoOnClick && f.stopAuto(), f.goToNextSlide()) }, ut = function (n) { n.preventDefault(); u.controls.el.hasClass("disabled") || (u.settings.auto && u.settings.stopAutoOnClick && f.stopAuto(), f.goToPrevSlide()) }, dt = function (n) { f.startAuto(); n.preventDefault() }, gt = function (n) { f.stopAuto(); n.preventDefault() }, ni = function (t) { var i, r; t.preventDefault(); u.controls.el.hasClass("disabled") || (u.settings.auto && u.settings.stopAutoOnClick && f.stopAuto(), i = n(t.currentTarget), void 0 !== i.attr("data-slide-index") && (r = parseInt(i.attr("data-slide-index"))) !== u.active.index && f.goToSlide(r)) }, v = function (t) { var i = u.children.length; if ("short" === u.settings.pagerType) return u.settings.maxSlides > 1 && (i = Math.ceil(u.children.length / u.settings.maxSlides)), void u.pagerEl.html(t + 1 + u.settings.pagerShortSeparator + i); u.pagerEl.find("a").removeClass("active"); u.pagerEl.each(function (i, r) { n(r).find("a").eq(t).addClass("active") }) }, a = function () { if (u.settings.infiniteLoop) { var n = ""; 0 === u.active.index ? n = u.children.eq(0).position() : u.active.index === o() - 1 && u.carousel ? n = u.children.eq((o() - 1) * s()).position() : u.active.index === u.children.length - 1 && (n = u.children.eq(u.children.length - 1).position()); n && ("horizontal" === u.settings.mode ? e(-n.left, "reset", 0) : "vertical" === u.settings.mode && e(-n.top, "reset", 0)) } u.working = !1; u.settings.onSlideAfter.call(f, u.children.eq(u.active.index), u.oldIndex, u.active.index) }, y = function (n) { u.settings.autoControlsCombine ? u.controls.autoEl.html(u.controls[n]) : (u.controls.autoEl.find("a").removeClass("active"), u.controls.autoEl.find("a:not(.bx-" + n + ")").addClass("active")) }, ft = function () { 1 === o() ? (u.controls.prev.addClass("disabled"), u.controls.next.addClass("disabled")) : !u.settings.infiniteLoop && u.settings.hideControlOnEnd && (0 === u.active.index ? (u.controls.prev.addClass("disabled"), u.controls.next.removeClass("disabled")) : u.active.index === o() - 1 ? (u.controls.next.addClass("disabled"), u.controls.prev.removeClass("disabled")) : (u.controls.prev.removeClass("disabled"), u.controls.next.removeClass("disabled"))) }, et = function () { f.startAuto() }, ot = function () { f.stopAuto() }, ti = function () { u.settings.autoDelay > 0 ? setTimeout(f.startAuto, u.settings.autoDelay) : (f.startAuto(), n(window).focus(et).blur(ot)); u.settings.autoHover && f.hover(function () { u.interval && (f.stopAuto(!0), u.autoPaused = !0) }, function () { u.autoPaused && (f.startAuto(!0), u.autoPaused = null) }) }, ii = function () { var o, c, s, a, i, h, r, t, v = 0; "next" === u.settings.autoDirection ? f.append(u.children.clone().addClass("bx-clone")) : (f.prepend(u.children.clone().addClass("bx-clone")), o = u.children.first().position(), v = "horizontal" === u.settings.mode ? -o.left : -o.top); e(v, "reset", 0); u.settings.pager = !1; u.settings.controls = !1; u.settings.autoControls = !1; u.settings.tickerHover && (u.usingCSS ? (a = "horizontal" === u.settings.mode ? 4 : 5, u.viewport.hover(function () { c = f.css("-" + u.cssPrefix + "-transform"); s = parseFloat(c.split(",")[a]); e(s, "reset", 0) }, function () { t = 0; u.children.each(function () { t += "horizontal" === u.settings.mode ? n(this).outerWidth(!0) : n(this).outerHeight(!0) }); i = u.settings.speed / t; h = "horizontal" === u.settings.mode ? "left" : "top"; r = i * (t - Math.abs(parseInt(s))); l(r) })) : u.viewport.hover(function () { f.stop() }, function () { t = 0; u.children.each(function () { t += "horizontal" === u.settings.mode ? n(this).outerWidth(!0) : n(this).outerHeight(!0) }); i = u.settings.speed / t; h = "horizontal" === u.settings.mode ? "left" : "top"; r = i * (t - Math.abs(parseInt(f.css(h)))); l(r) })); l() }, l = function (n) { var r, o, s, h = n || u.settings.speed, t = { left: 0, top: 0 }, i = { left: 0, top: 0 }; "next" === u.settings.autoDirection ? t = f.find(".bx-clone").first().position() : i = u.children.first().position(); r = "horizontal" === u.settings.mode ? -t.left : -t.top; o = "horizontal" === u.settings.mode ? -i.left : -i.top; s = { resetValue: o }; e(r, "ticker", h, s) }, ri = function (t) { var u = n(window), i = { top: u.scrollTop(), left: u.scrollLeft() }, r = t.offset(); return i.right = i.left + u.width(), i.bottom = i.top + u.height(), r.right = r.left + t.outerWidth(), r.bottom = r.top + t.outerHeight(), !(i.right < r.left || i.left > r.right || i.bottom < r.top || i.top > r.bottom) }, st = function (n) { var t = document.activeElement.tagName.toLowerCase(); if (null == new RegExp(t, ["i"]).exec("input|textarea") && ri(f)) { if (39 === n.keyCode) return rt(n), !1; if (37 === n.keyCode) return ut(n), !1 } }, ui = function () { u.touch = { start: { x: 0, y: 0 }, end: { x: 0, y: 0 } }; u.viewport.bind("touchstart MSPointerDown pointerdown", fi); u.viewport.on("click", ".bxslider a", function (n) { u.viewport.hasClass("click-disabled") && (n.preventDefault(), u.viewport.removeClass("click-disabled")) }) }, fi = function (n) { if (u.controls.el.addClass("disabled"), u.working) n.preventDefault(), u.controls.el.removeClass("disabled"); else { u.touch.originalPos = f.position(); var t = n.originalEvent, i = void 0 !== t.changedTouches ? t.changedTouches : [t]; if (u.touch.start.x = i[0].pageX, u.touch.start.y = i[0].pageY, u.viewport.get(0).setPointerCapture && (u.pointerId = t.pointerId, !/firefox/i.test(navigator.userAgent) || 1 === u.pointerId)) try { u.viewport.get(0).setPointerCapture(u.pointerId) } catch (n) { } u.viewport.bind("touchmove MSPointerMove pointermove", p); u.viewport.bind("touchend MSPointerUp pointerup", w); u.viewport.bind("MSPointerCancel pointercancel", ht) } }, ht = function () { e(u.touch.originalPos.left, "reset", 0); u.controls.el.removeClass("disabled"); u.viewport.unbind("MSPointerCancel pointercancel", ht); u.viewport.unbind("touchmove MSPointerMove pointermove", p); u.viewport.unbind("touchend MSPointerUp pointerup", w); u.viewport.get(0).releasePointerCapture && u.viewport.get(0).releasePointerCapture(u.pointerId) }, p = function (n) { var r = n.originalEvent, t = void 0 !== r.changedTouches ? r.changedTouches : [r], o = Math.abs(t[0].pageX - u.touch.start.x), s = Math.abs(t[0].pageY - u.touch.start.y), f = 0, i = 0; 3 * o > s && u.settings.preventDefaultSwipeX ? n.preventDefault() : 3 * s > o && u.settings.preventDefaultSwipeY && n.preventDefault(); "fade" !== u.settings.mode && u.settings.oneToOneTouch && ("horizontal" === u.settings.mode ? (i = t[0].pageX - u.touch.start.x, f = u.touch.originalPos.left + i) : (i = t[0].pageY - u.touch.start.y, f = u.touch.originalPos.top + i), e(f, "reset", 0)) }, w = function (n) { u.viewport.unbind("touchmove MSPointerMove pointermove", p); u.controls.el.removeClass("disabled"); var r = n.originalEvent, o = void 0 !== r.changedTouches ? r.changedTouches : [r], i = 0, t = 0; u.touch.end.x = o[0].pageX; u.touch.end.y = o[0].pageY; "fade" === u.settings.mode ? (t = Math.abs(u.touch.start.x - u.touch.end.x)) >= u.settings.swipeThreshold && (u.touch.start.x > u.touch.end.x ? f.goToNextSlide() : f.goToPrevSlide(), f.stopAuto()) : ("horizontal" === u.settings.mode ? (t = u.touch.end.x - u.touch.start.x, i = u.touch.originalPos.left) : (t = u.touch.end.y - u.touch.start.y, i = u.touch.originalPos.top), !u.settings.infiniteLoop && (0 === u.active.index && t > 0 || u.active.last && t < 0) ? e(i, "reset", 200) : Math.abs(t) >= u.settings.swipeThreshold ? (t < 0 ? f.goToNextSlide() : f.goToPrevSlide(), f.stopAuto()) : e(i, "reset", 200)); u.viewport.unbind("touchend MSPointerUp pointerup", w); u.viewport.get(0).releasePointerCapture && u.viewport.get(0).releasePointerCapture(u.pointerId) }, b = function () { if (u.initialized) if (u.working) window.setTimeout(b, 10); else { var t = n(window).width(), i = n(window).height(); k === t && d === i || (k = t, d = i, f.redrawSlider(), u.settings.onSliderResize.call(f, u.active.index)) } }, ct = function (n) { var t = h(); u.settings.ariaHidden && !u.settings.ticker && (u.children.attr("aria-hidden", "true"), u.children.slice(n, n + t).attr("aria-hidden", "false")) }, ei = function (n) { return n < 0 ? u.settings.infiniteLoop ? o() - 1 : u.active.index : n >= o() ? u.settings.infiniteLoop ? 0 : u.active.index : n }; return f.goToSlide = function (t, i) { var y, p, w, b, l = !0, k = 0, r = { left: 0, top: 0 }, h = null; if (u.oldIndex = u.active.index, u.active.index = ei(t), !u.working && u.active.index !== u.oldIndex) { if (u.working = !0, void 0 !== (l = u.settings.onSlideBefore.call(f, u.children.eq(u.active.index), u.oldIndex, u.active.index)) && !l) return u.active.index = u.oldIndex, void (u.working = !1); "next" === i ? u.settings.onSlideNext.call(f, u.children.eq(u.active.index), u.oldIndex, u.active.index) || (l = !1) : "prev" === i && (u.settings.onSlidePrev.call(f, u.children.eq(u.active.index), u.oldIndex, u.active.index) || (l = !1)); u.active.last = u.active.index >= o() - 1; (u.settings.pager || u.settings.pagerCustom) && v(u.active.index); u.settings.controls && ft(); "fade" === u.settings.mode ? (u.settings.adaptiveHeight && u.viewport.height() !== c() && u.viewport.animate({ height: c() }, u.settings.adaptiveHeightSpeed), u.children.filter(":visible").fadeOut(u.settings.speed).css({ zIndex: 0 }), u.children.eq(u.active.index).css("zIndex", u.settings.slideZIndex + 1).fadeIn(u.settings.speed, function () { n(this).css("zIndex", u.settings.slideZIndex); a() })) : (u.settings.adaptiveHeight && u.viewport.height() !== c() && u.viewport.animate({ height: c() }, u.settings.adaptiveHeightSpeed), !u.settings.infiniteLoop && u.carousel && u.active.last ? "horizontal" === u.settings.mode ? (h = u.children.eq(u.children.length - 1), r = h.position(), k = u.viewport.width() - h.outerWidth()) : (y = u.children.length - u.settings.minSlides, r = u.children.eq(y).position()) : u.carousel && u.active.last && "prev" === i ? (p = 1 === u.settings.moveSlides ? u.settings.maxSlides - s() : (o() - 1) * s() - (u.children.length - u.settings.maxSlides), h = f.children(".bx-clone").eq(p), r = h.position()) : "next" === i && 0 === u.active.index ? (r = f.find("> .bx-clone").eq(u.settings.maxSlides).position(), u.active.last = !1) : t >= 0 && (b = t * parseInt(s()), r = u.children.eq(b).position()), void 0 !== r && (w = "horizontal" === u.settings.mode ? -(r.left - k) : -r.top, e(w, "slide", u.settings.speed)), u.working = !1); u.settings.ariaHidden && ct(u.active.index * s()) } }, f.goToNextSlide = function () { if ((u.settings.infiniteLoop || !u.active.last) && 1 != u.working) { var n = parseInt(u.active.index) + 1; f.goToSlide(n, "next") } }, f.goToPrevSlide = function () { if ((u.settings.infiniteLoop || 0 !== u.active.index) && 1 != u.working) { var n = parseInt(u.active.index) - 1; f.goToSlide(n, "prev") } }, f.startAuto = function (n) { u.interval || (u.interval = setInterval(function () { "next" === u.settings.autoDirection ? f.goToNextSlide() : f.goToPrevSlide() }, u.settings.pause), u.settings.onAutoChange.call(f, !0), u.settings.autoControls && !0 !== n && y("stop")) }, f.stopAuto = function (n) { u.interval && (clearInterval(u.interval), u.interval = null, u.settings.onAutoChange.call(f, !1), u.settings.autoControls && !0 !== n && y("start")) }, f.getCurrentSlide = function () { return u.active.index }, f.getCurrentSlideElement = function () { return u.children.eq(u.active.index) }, f.getSlideElement = function (n) { return u.children.eq(n) }, f.getSlideCount = function () { return u.children.length }, f.isWorking = function () { return u.working }, f.redrawSlider = function () { u.children.add(f.find(".bx-clone")).outerWidth(nt()); u.viewport.css("height", c()); u.settings.ticker || tt(); u.active.last && (u.active.index = o() - 1); u.active.index >= o() && (u.active.last = !0); u.settings.pager && !u.settings.pagerCustom && (it(), v(u.active.index)); u.settings.ariaHidden && ct(u.active.index * s()) }, f.destroySlider = function () { u.initialized && (u.initialized = !1, n(".bx-clone", this).remove(), u.children.each(function () { void 0 !== n(this).data("origStyle") ? n(this).attr("style", n(this).data("origStyle")) : n(this).removeAttr("style") }), void 0 !== n(this).data("origStyle") ? this.attr("style", n(this).data("origStyle")) : n(this).removeAttr("style"), n(this).unwrap().unwrap(), u.controls.el && u.controls.el.remove(), u.controls.next && u.controls.next.remove(), u.controls.prev && u.controls.prev.remove(), u.pagerEl && u.settings.controls && !u.settings.pagerCustom && u.pagerEl.remove(), n(".bx-caption", this).remove(), u.controls.autoEl && u.controls.autoEl.remove(), clearInterval(u.interval), u.settings.responsive && n(window).unbind("resize", b), u.settings.keyboardEnabled && n(document).unbind("keydown", st), n(this).removeData("bxSlider"), n(window).off("blur", ot).off("focus", et)) }, f.reloadSlider = function (t) { void 0 !== t && (r = t); f.destroySlider(); g(); n(f).data("bxSlider", this) }, g(), n(f).data("bxSlider", this), this } } }(jQuery); !function (n) { "use strict"; "function" == typeof define && define.amd ? define(["jquery"], n) : "undefined" != typeof module && module.exports ? module.exports = n(require("jquery")) : n(jQuery) }(function (n) { var e = -1, r = -1, i = function (n) { return parseFloat(n) || 0 }, o = function (t) { var f = 1, e = n(t), u = null, r = []; return e.each(function () { var t = n(this), e = t.offset().top - i(t.css("margin-top")), o = r.length > 0 ? r[r.length - 1] : null; null === o ? r.push(t) : Math.floor(Math.abs(u - e)) <= f ? r[r.length - 1] = o.add(t) : r.push(t); u = e }), r }, u = function (t) { var i = { byRow: !0, property: "height", target: null, remove: !1 }; return "object" == typeof t ? n.extend(i, t) : ("boolean" == typeof t ? i.byRow = t : "remove" === t && (i.remove = !0), i) }, t = n.fn.matchHeight = function (i) { var r = u(i), f; return r.remove ? (f = this, this.css(r.property, ""), n.each(t._groups, function (n, t) { t.elements = t.elements.not(f) }), this) : this.length <= 1 && !r.target ? this : (t._groups.push({ elements: this, options: r }), t._apply(this, r), this) }, f; t.version = "0.7.0"; t._groups = []; t._throttle = 80; t._maintainScroll = !1; t._beforeUpdate = null; t._afterUpdate = null; t._rows = o; t._parse = i; t._parseOptions = u; t._apply = function (r, f) { var e = u(f), s = n(r), c = [s], l = n(window).scrollTop(), a = n("html").outerHeight(!0), h = s.parents().filter(":hidden"); return h.each(function () { var t = n(this); t.data("style-cache", t.attr("style")) }), h.css("display", "block"), e.byRow && !e.target && (s.each(function () { var i = n(this), t = i.css("display"); "inline-block" !== t && "flex" !== t && "inline-flex" !== t && (t = "block"); i.data("style-cache", i.attr("style")); i.css({ display: t, "padding-top": "0", "padding-bottom": "0", "margin-top": "0", "margin-bottom": "0", "border-top-width": "0", "border-bottom-width": "0", height: "100px", overflow: "hidden" }) }), c = o(s), s.each(function () { var t = n(this); t.attr("style", t.data("style-cache") || "") })), n.each(c, function (t, r) { var u = n(r), f = 0; if (e.target) f = e.target.outerHeight(!1); else { if (e.byRow && u.length <= 1) return void u.css(e.property, ""); u.each(function () { var t = n(this), u = t.attr("style"), i = t.css("display"), r; "inline-block" !== i && "flex" !== i && "inline-flex" !== i && (i = "block"); r = { display: i }; r[e.property] = ""; t.css(r); t.outerHeight(!1) > f && (f = t.outerHeight(!1)); u ? t.attr("style", u) : t.css("display", "") }) } u.each(function () { var t = n(this), r = 0; e.target && t.is(e.target) || ("border-box" !== t.css("box-sizing") && (r += i(t.css("border-top-width")) + i(t.css("border-bottom-width")), r += i(t.css("padding-top")) + i(t.css("padding-bottom"))), t.css(e.property, f - r + "px")) }) }), h.each(function () { var t = n(this); t.attr("style", t.data("style-cache") || null) }), t._maintainScroll && n(window).scrollTop(l / a * n("html").outerHeight(!0)), this }; t._applyDataApi = function () { var t = {}; n("[data-match-height], [data-mh]").each(function () { var i = n(this), r = i.attr("data-mh") || i.attr("data-match-height"); t[r] = r in t ? t[r].add(i) : i }); n.each(t, function () { this.matchHeight(!0) }) }; f = function (i) { t._beforeUpdate && t._beforeUpdate(i, t._groups); n.each(t._groups, function () { t._apply(this.elements, this.options) }); t._afterUpdate && t._afterUpdate(i, t._groups) }; t._update = function (i, u) { if (u && "resize" === u.type) { var o = n(window).width(); if (o === e) return; e = o } i ? -1 === r && (r = setTimeout(function () { f(u); r = -1 }, t._throttle)) : f(u) }; n(t._applyDataApi); n(window).bind("load", function (n) { t._update(!1, n) }); n(window).bind("resize orientationchange", function (n) { t._update(!0, n) }) }); !function (n) { "use strict"; function u(n) { var u, e, i, t, r = n.css("transition-duration") || n.css("-webkit-transition-duration") || n.css("-moz-transition-duration") || n.css("-o-transition-duration") || n.css("-ms-transition-duration") || "0s", f = n.css("transition-delay") || n.css("-webkit-transition-delay") || n.css("-moz-transition-delay") || n.css("-o-transition-delay") || n.css("-ms-transition-delay") || "0s"; for (r = r.split(", "), f = f.split(", "), t = 0, e = r.length, u = Number.NEGATIVE_INFINITY; e > t; t++)i = parseFloat(r[t]) + parseFloat(f[t]), i > u && (u = i); return 1e3 * i } function e() { if (n(document.body).height() <= n(window).height()) return 0; var r, u, t = document.createElement("div"), i = document.createElement("div"); return t.style.visibility = "hidden", t.style.width = "100px", document.body.appendChild(t), r = t.offsetWidth, t.style.overflow = "scroll", i.style.width = "100%", t.appendChild(i), u = i.offsetWidth, t.parentNode.removeChild(t), r - u } function s() { var r, i, u = n("html"), f = t + "-is-locked"; u.hasClass(f) || (i = n(document.body), r = parseInt(i.css("padding-right"), 10) + e(), i.css("padding-right", r + "px"), u.addClass(f)) } function h() { var r, i, u = n("html"), f = t + "-is-locked"; u.hasClass(f) && (i = n(document.body), r = parseInt(i.css("padding-right"), 10) - e(), i.css("padding-right", r + "px"), u.removeClass(f)) } function c(n) { var r, u, t, i, f = {}; for (n = n.replace(/\s*:\s*/g, ":").replace(/\s*,\s*/g, ","), r = n.split(","), i = 0, u = r.length; u > i; i++)r[i] = r[i].split(":"), t = r[i][1], ("string" == typeof t || t instanceof String) && (t = "true" === t || ("false" === t ? !1 : t)), ("string" == typeof t || t instanceof String) && (t = isNaN(t) ? t : +t), f[r[i][0]] = t; return f } function f(r, f) { var o, s, h, e = this; e.settings = n.extend({}, a, f); e.$body = n(document.body); e.$overlay = n("." + t + "-overlay"); e.$overlay.length || (e.$overlay = n("<div>").addClass(t + "-overlay"), e.$body.append(e.$overlay)); e.$bg = n("." + t + "-bg"); e.$closeButton = n('<a href="#"><\/a>').addClass(t + "-close"); e.$wrapper = n("<div>").addClass(t + "-wrapper"); e.$modal = r; e.$modal.addClass(t); e.$modal.css("visibility", "visible"); e.$modal.append(e.$closeButton); e.$wrapper.append(e.$modal); e.$body.append(e.$wrapper); e.$confirmButton = e.$modal.find("." + t + "-confirm"); e.$cancelButton = e.$modal.find("." + t + "-cancel"); o = u(e.$overlay); s = u(e.$modal); h = u(e.$bg); e.td = s > o ? s : o; e.td = h > e.td ? h : e.td; e.$wrapper.on("click." + t, "." + t + "-close", function (n) { n.preventDefault(); e.close() }); e.$wrapper.on("click." + t, "." + t + "-cancel", function (n) { n.preventDefault(); e.$modal.trigger("cancel"); e.settings.closeOnCancel && e.close("cancellation") }); e.$wrapper.on("click." + t, "." + t + "-confirm", function (n) { n.preventDefault(); e.$modal.trigger("confirm"); e.settings.closeOnConfirm && e.close("confirmation") }); n(document).on("keyup." + t, function (n) { 27 === n.keyCode && e.settings.closeOnEscape && e.close() }); e.$wrapper.on("click." + t, function (i) { var r = n(i.target); r.hasClass(t + "-wrapper") && e.settings.closeOnAnyClick && e.close() }); e.index = n[i].lookup.push(e) - 1; e.busy = !1 } function l(t, u) { var f, e, o = location.hash.replace("#", ""); if ("undefined" == typeof u && (u = !0), o) { try { e = n("[data-" + i + "-id=" + o.replace(new RegExp("/", "g"), "\\/") + "]") } catch (s) { } e && e.length && (f = n[i].lookup[e.data(i)], f && f.settings.hashTracking && f.open()) } else u && r && !r.busy && r.settings.hashTracking && r.close() } var r, o, i = "remodal", t = window.remodalGlobals && window.remodalGlobals.namespace || i, a = n.extend({ hashTracking: !0, closeOnConfirm: !0, closeOnCancel: !0, closeOnEscape: !0, closeOnAnyClick: !0 }, window.remodalGlobals && window.remodalGlobals.defaults); f.prototype.open = function () { if (!this.busy) { var f, u = this; u.busy = !0; u.$modal.trigger("open"); f = u.$modal.attr("data-" + i + "-id"); f && u.settings.hashTracking && (o = n(window).scrollTop(), location.hash = f); r && r !== u && (r.$overlay.hide(), r.$wrapper.hide(), r.$body.removeClass(t + "-is-active")); r = u; s(); u.$overlay.show(); u.$wrapper.show(); setTimeout(function () { u.$body.addClass(t + "-is-active"); setTimeout(function () { u.busy = !1; u.$modal.trigger("opened") }, u.td + 50) }, 25) } }; f.prototype.close = function (r) { if (!this.busy) { var u = this; u.busy = !0; u.$modal.trigger({ type: "close", reason: r }); u.settings.hashTracking && u.$modal.attr("data-" + i + "-id") === location.hash.substr(1) && (location.hash = "", n(window).scrollTop(o)); u.$body.removeClass(t + "-is-active"); setTimeout(function () { u.$overlay.hide(); u.$wrapper.hide(); h(); u.busy = !1; u.$modal.trigger({ type: "closed", reason: r }) }, u.td + 50) } }; n[i] = { lookup: [] }; n.fn[i] = function (t) { var r, u; return this.each(function (e, o) { u = n(o); null == u.data(i) ? (r = new f(u, t), u.data(i, r.index), r.settings.hashTracking && u.attr("data-" + i + "-id") === location.hash.substr(1) && r.open()) : r = n[i].lookup[u.data(i)] }), r }; n(document).ready(function () { n(document).on("click", "[data-" + i + "-target]", function (t) { t.preventDefault(); var r = t.currentTarget, u = r.getAttribute("data-" + i + "-target"), f = n("[data-" + i + "-id=" + u + "]"); n[i].lookup[f.data(i)].open() }); n(document).find("." + t).each(function (t, r) { var f = n(r), u = f.data(i + "-options"); u ? ("string" == typeof u || u instanceof String) && (u = c(u)) : u = {}; f[i](u) }) }); n(window).bind("hashchange." + t, l) }(window.jQuery || window.Zepto), function (n) {
    n.fxStreetEconomicCalendar = function (t) {
        function g() { n(function () { h.on("timezonechanged", i.gridSelector, function (n, t) { i.timezone = t; v() }).on("closeopenevent", i.gridSelector, function (t) { n(t.currentTarget).find(".fxec_selectedRow").click() }).on("click", ".fxit-noleftclick", function (n) { n.which === 1 && n.preventDefault() }); d().done(function () { nt(); v(function () { var r = new RegExp("id=({{0,1}([0-9a-fA-F]){8}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){12}}{0,1})"), i = r.exec(window.location.search), t; i && (t = n("tr.fxit-eventrow[data-eventdateid='" + i[1].toString().toLowerCase() + "']"), t.trigger("click", !1), scrollTo(0, t.offset().top)) }); var f = function (n, r, u) { var f; return typeof google != "undefined" && google.load ? google.visualization ? f = t(n, r, u) : google.load("visualization", "1", { packages: ["annotatedtimeline"], callback: function () { f = t(n, r, u) } }) : s((i.isSecure() ? "https:" : "http:") + "//www.google.com/jsapi", function () { google.visualization ? f = t(n, r, u) : google.load("visualization", "1", { packages: ["annotatedtimeline"], callback: function () { f = t(n, r, u) } }) }), f }, t = function (t, r, f) { var o = i.host + "/eventdate/" + r + "/" + f + "/?v=2&culture=" + i.culture, e; return u({ url: o, dataType: "jsonp" }).done(function (i) { var u, r = new google.visualization.DataTable; e = i; r.addColumn("date", "Date"); r.addColumn("number", t.closest(".fxit-eventname").data("eventname")); n.each(e, function (n, t) { var i = new Date(t.DateUtc), u = new google.visualization.DateFormat({ pattern: "MMM yyyy dd" }); r.addRow([i, t.Actual]); u.format(r, 1) }); u = new google.visualization.AnnotatedTimeLine(t[0]); u.draw(r, { displayAnnotations: !0, displayZoomButtons: !1, wmode: "transparent" }) }).fail(function (n, t, i) { alert(t); alert(i) }), e }; h.on("click", "div.fxec_historylinks a.fxec_longtab", function (t) { t.preventDefault(); var i = n(this), r = i.parent().parent(), u = i.data("id"); f(r.find("div.fxec_longhistory"), u, "longhistory") }); h.on("click", "div.fxec_historylinks a", function (t) { t.preventDefault(); var r = n(this), e = r.parent(), h = e.data("id"), c = "div." + r.data("content"), o = n("#content_" + h), s = i.host + r[0].pathname + "?f=jsonhtml&culture=" + i.culture, f = o.find(c); e.find("a").removeClass("fxst-active"); r.addClass("fxst-active"); r[0].pathname.charAt(0) !== "/" && (s = i.host + "/" + r[0].pathname + "?f=jsonhtml&culture=" + i.culture); o.find("div.fxec_tabcontentdate").hide(); f.children().length ? f.show() : u({ url: s, dataType: "jsonp" }).done(function (n) { f.append(n.Html); f.show() }).fail(function () { }) }); h.on("click", "div.fxst-paginationHistoryTable a", function (t) { t.preventDefault(); var r = n(this), f = i.host + r[0].pathname + "?f=jsonhtml&culture=" + i.culture, e = r.parents("div.fxec_tabcontentdate"); r[0].pathname.charAt(0) !== "/" && (f = i.host + "/" + r[0].pathname + "?f=jsonhtml&culture=" + i.culture); u({ url: f, dataType: "jsonp" }).done(function (n) { e.html(n.Html); e.show() }).fail(function () { }) }); h.on("click", "tr.fxit-eventrow", function (t) { var f, e; if (t.preventDefault(), i.rightRail) return !1; f = n(this); f.removeClass("fxst-activeRow"); var o = f.next(), h = o.children().first(), s = n("tr.fxec_selectedRow"); if (s.removeClass("fxec_selectedRow"), o.is(":visible")) { e = o.find(".fxst-eventDetails-wrapper"); e.slideUpSpeed(function () { e.remove(); o.hide(); n(i.gridSelector).trigger("eventclosed") }); return } e = s.next().find(".fxst-eventDetails-wrapper"); e.slideUpSpeed(function () { e.remove(); s.next().hide(); n(i.gridSelector).trigger("eventclosed") }); u({ url: r.EventInfo, dataType: "jsonp", data: { tabs: i.tabs, timezone: i.timezone, showeventlink: i.showeventlink, showcountrylink: i.showcountrylink, id: f.data("eventdateid"), culture: i.culture } }).done(function (t) { var e = n("<div/>").addClass("fxst-eventheadline"), c = f.find(".fxit-countryurl .fxst-flag"), r = n("<div/>").addClass("fxst-eventheadline-left"), s, u; r.append(n("<div/>").addClass("fxst-countryheadline").text(c.text())); r.append(n("<div/>").addClass("fxst-eventname").text(f.find(".fxit-eventurl").text())); r.append(c.clone()); s = n("<div/>").addClass("fxst-eventheadline-right"); s.append(p); e.append(r); e.append(s); u = n("<div>").addClass("fxst-eventDetails-wrapper").hide(); u.html(e).append(t.Html); h.append(u); o.show(); f.addClass("fxec_selectedRow"); u.slideDownSpeed(); h.find("ul.fxst-tabNavigation").children().first().children().first().trigger("click", !1); n(i.gridSelector).trigger("openingevent", f) }).fail(function () { }) }); i.pushUpdates && tt() }) }) } function nt() { function h(n, t, i, r, u, f) { var o = n.parent(); e.hasClass("fixed-menu-open") ? o.hasClass(t) ? (e.removeClass("fixed-menu-open").trigger("toggle-fixed-menu"), c(o.siblings(r), o, !1, t, u)) : (o.removeClass(i).addClass(t), f && f()) : (e.addClass("fixed-menu-open").trigger("toggle-fixed-menu"), c(o.siblings(r), o, !0, t, f)) } function c(t, i, r, u, f) { if (n.viewport.isTablet()) { i.toggleClass(u, r); f && f(); return } r ? (t.slideDownSpeed(function () { i.addClass(u); t.css("display", ""); f && f() }), i.scrollToElement()) : t.slideUpSpeed(function () { i.removeClass(u); t.css("display", ""); f && f() }) } function a() { e.removeClass("fixed-menu-open"); t.find(".fixed-menu__toggle").removeClass("open-filter-views open-filters") } var t = n(i.filterSelector), r = f.get("FXstCalendarSettings"), o, s, e; r && i.saveSettings ? (l.set(r), f.set("FXstCalendarSettings", r, 90), o = t.find(".filter-views :radio:checked"), s = o.next().text(), o.val() === "custom" && (s = n("#fxst-start").val() + "-" + n("#fxst-end").val()), t.find("h2.filter-views span.filter-views__value").text(s)) : f.remove("FXstCalendarSettings"); t.find(".filter-views").on("click", ".economic-calendar-filter__filter-results", function (u) { var h, o, s, p, w; u.preventDefault(); var c = t.find(".filter-views :radio:checked"), y = c.next().text(), e = new Date; switch (c.val()) { case "today": t.data("start", n.datepicker.formatDate("yymmdd", e)); t.data("end", n.datepicker.formatDate("yymmdd", e)); break; case "tomorrow": h = new Date(e.getFullYear(), e.getMonth(), e.getDate() + 1); t.data("start", n.datepicker.formatDate("yymmdd", h)); t.data("end", n.datepicker.formatDate("yymmdd", h)); break; case "thisweek": o = new Date(e.getFullYear(), e.getMonth(), e.getDate() - e.getDay()); t.data("start", n.datepicker.formatDate("yymmdd", o)); t.data("end", n.datepicker.formatDate("yymmdd", new Date(o.getFullYear(), o.getMonth(), o.getDate() + 6))); break; case "nextweek": s = new Date(e.getFullYear(), e.getMonth(), e.getDate() - e.getDay() + 7); t.data("start", n.datepicker.formatDate("yymmdd", s)); t.data("end", n.datepicker.formatDate("yymmdd", new Date(s.getFullYear(), s.getMonth(), s.getDate() + 6))); break; case "custom": p = n.datepicker.formatDate("yymmdd", n("#fxst-start").datepicker("getDate"), r); w = n.datepicker.formatDate("yymmdd", n("#fxst-end").datepicker("getDate"), r); t.data("start", p); t.data("end", w); y = n("#fxst-start").val() + "-" + n("#fxst-end").val(); break; case "recentnext": t.data("start", ""); t.data("end", "") }i.start = ""; i.end = ""; i.view = ""; i.saveSettings && f.set("FXstCalendarSettings", l.get(!0), 90); v(); t.find("h2.filter-views span.filter-views__value").text(y); a() }); t.find(".filter").on("click", ".economic-calendar-filter__filter-results", function (n) { n.preventDefault(); i.saveSettings && f.set("FXstCalendarSettings", l.get(!0), 90); v(); a() }); t.on("click", "ul.fxst-tabNavigation li a", function (t, r) { t.preventDefault(); var f = n(this), o = f.parent(), c = o.parent(), e = c.data("id"), v = "div." + f.data("content"), s = n("#content_" + e), l = i.host + f[0].pathname + "?timezone=" + i.timezone + "&culture=" + i.culture + "&Id=" + e + "&rows=" + i.rowsfeatures, h = s.find(v), a = y(e); f[0].pathname.charAt(0) !== "/" && (l = i.host + f[0].pathname + "?timezone=" + i.timezone + "&culture=" + i.culture + "&Id=" + e + "&rows=" + i.rowsfeatures); r === undefined && n(i.gridSelector).trigger("tabclicked", f); c.find("li").removeClass("fxst-selectedTab ui-state-default ui-corner-top ui-tabs-active ui-state-active"); o.addClass("fxst-selectedTab ui-state-default ui-corner-top ui-tabs-active ui-state-active"); s.find("div.fxec_tabcontent").hide(); h.children().length ? (h.show(), o.hasClass("fxec-it-historytab") && a.data("history", loadGoogleChart(s.find("div.fxec_history"), e, "history"))) : (h.show(), u({ url: l, dataType: "jsonp" }).done(function (n) { h.html(n.Html); o.hasClass("fxec-it-historytab") && a.data("history", loadGoogleChart(s.find("div.fxec_history"), e, "history")) }).fail(function () { })) }); e = n("html"); t.on("click", "h2.filter-views", function () { var t = n(this); h(t, "open-filter-views", "open-filters", ".filter-views", function () { }, function () { t.siblings("h2.filter").find("span").last().text(resources.ShowFilters) }) }).on("click", "h2.filter", function () { var t = n(this); h(t, "open-filters", "open-filter-views", ".filter", function () { t.find("span").last().text(resources.ShowFilters) }, function () { t.find("span").last().text(resources.HideFilters) }) }) } function tt() { var f = function () { if (i.signalrDomainWhitelist === "") return !0; var n = window.location.host, t = i.signalrDomainWhitelist.split(";"); return t.indexOf(n) >= 0 }, t = function (n, t, i, r) { var u, f, o, e; return n === null || n === "undefined" ? n : (f = n.toString().split("."), o = f[0], u = o, f.length === 2 ? (f[1].length > t && (t = f[1].length), e = f[1].substring(0, t), t > e.length && (e = (e + "000").substring(0, t)), e.length > 0 && (u = u + "." + e)) : t > 0 && (u = u + "." + "000".substring(0, t)), i === "%" ? u += i : u = i + n + r, u) }, r = function (r) { var s = "", u = y(r.EventDateId), h, o, f, e; u != null && u.data("actual") !== r.Actual && (r.IsBetter !== null && (s = r.IsBetter === !0 ? "fxst-better" : "fxst-worst"), u.data("actual", r.Actual), u.data("isBetter", r.IsBetter), h = t(u.data("actual"), u.data("precision"), u.data("unit"), u.data("pot")), o = u.find(".fxit-actual"), o.text(h), o.removeClass("fxst-better fxst-worst"), o.addClass(s), f = u.next().find(".fxit-actual"), f && (f.empty(), e = n("<span><\/span>"), e.addClass("fxst-actual"), e.append("&nbsp;" + h), e.addClass(s), f.append(e), f.append("<br /><span>" + resources.Actual + "<\/span>")), n(i.gridSelector).trigger("actualreceived", r), u.addClass("fxst-activeRow")) }, u = function (r) { var u = y(r.EventDateId), e, s, c, o, h, f; u != null && (e = u.find(".fxit-previous"), e !== undefined && e !== null && (u.data("revised", r.Revised), s = t(r.Revised, u.data("precision"), u.data("unit"), u.data("pot")), c = e.html(), e.html(s), o = resources.Revised + " " + c, h = u.find(".fxit-revised"), h.empty(), h.append("<b title='" + o + "' class='fxst-revised'>" + o + "<\/b>"), f = u.next().find(".fxit-previous"), f.length === 1 && (f.empty(), f.append('<span class="fxst-prev fxit-previous">' + s + "<\/span>"), f.append("<br />"), f.append("<span>" + resources.Previous), f.append('<span class="fxst-revised fxit-revised" title="' + o + '">' + o + "<\/span><\/span>"))), n(i.gridSelector).trigger("revisedReceived", r)) }; f() ? rt(u, r) : it(u, r) } function it(n, t) { s(i.frozenMountainHost, function () { var i = fm.websync.client, r = fm.utilities; r.ready(); i.initialize({ key: "ff969c0f-709e-4086-afb3-d2afe1e9665f" }); i.connect(); i.subscribe({ channel: "/EconomicCalendarPro/EventDateUpdate", onReceive: function (i) { var r = i.data.MessageType; r === "CalendarActualRevised" ? t(i.data.Data) : r === "CalendarRevised" && n(i.data.Data) } }) }) } function rt(n, t) { s(i.staticHost + "/http-push/jquery.signalR-2.2.0.min.js", function () { s(i.staticHost + "/http-push/fxspush.js?refresh=" + i.staticContentServerRefresh, function () { try { var u = { tokenUrl: r.AuthorizationUrl, httpPushServerUrl: i.signalrHttpPushServerUrl + "signalr/hubs" }, f = FXStreetPush.PushNotification.getInstance(u); f.calendarSubscribe(function (i) { i && (i.Actual !== null && i.Actual !== "undefined" && t(i), i.Revised !== null && i.Revised !== "undefined" && n(i)) }) } catch (e) { } }) }) } function s(n, t) { var r = document.getElementsByTagName("script")[0], i = document.createElement("script"); i.type = "text/javascript"; i.async = !0; i.src = n; t && typeof t == "function" && (i.addEventListener ? i.addEventListener("load", t, !1) : i.onreadystatechange = function () { (this.readyState === "complete" || this.readyState === "loaded") && t.call() }); r.parentNode.insertBefore(i, r) } var i = { clientId: "client_id", gridSelector: "", filterSelector: "", host: "//calendar.fxstreet.com", staticHost: "https://az687397.vo.msecnd.net", frozenMountainHost: "https://sync3.frozenmountain.com/client.js?v=3.5.0", culture: "en-US", tabs: "News,Reports,Blogs,History,Webinar,LiveCoverage,OlsenScale,Autochartist", timezone: "UTC", rowsfeatures: 10, showcountrylink: 0, showeventlink: 0, pushUpdates: !1, saveSettings: !1, countdownFormat: "{hnn}:{mnn}", isSecure: function () { return i.host.indexOf("https:") === 0 }, tabletWidth: 1023, resources: {}, staticContentServerRefresh: "201710021457", signalrConnectionPercentage: "0", signalrDomainWhitelist: "", signalrHttpPushServerUrl: "https://httppush.fxstreet.com/" }, c; if (typeof t != "undefined") for (c in t) t.hasOwnProperty(c) && (i[c] = t[c]);

        var r = {
            Main: i.host + "/EventDateWidget/GetMain",
            EventInfo: i.host + "/EventDateWidget/GetEventDateInfo",
            Filter: i.host + "/FilterWidget/GetAsync?culture=" + i.culture,
            AuthorizationUrl: "//authorization.fxstreet.com/token",
            Resources: i.host + "/scripts/resources/?culture=" + i.culture,
            Datepicker: function (n) { return i.staticHost + "/calendarwidget-js/ui.datepicker-" + n + ".js" }
        }, p = n("<a>").attr("href", i.linkOnDetail.href).addClass(i.linkOnDetail.cssClass).text(i.linkOnDetail.label), y = function (t) { var i = null; return n("#fxst-calendartable").find("tbody tr").each(function () { var r = n(this); if (r.data("eventdateid") === t) return i = r, !1 }), i }, f = { set: function (n, t, i) { var u = {}, r = new Date; return !n || !t || typeof n != "string" ? !1 : (i && typeof i == "number" && (r.setHours(0, 0, 0, 0), r.setDate(r.getDate() + i), u.expires = r), u.value = t, window.localStorage.setItem(n, JSON.stringify(u)), !0) }, get: function (n) { var t, i; return !n || typeof n != "string" ? undefined : (t = JSON.parse(window.localStorage.getItem(n)), t && t.value) ? t.expires && (i = new Date(t.expires), i < new Date) ? (f.remove(n), undefined) : t.value : undefined }, remove: function (n) { return !n || typeof n != "string" ? !1 : (window.localStorage.removeItem(n), !0) } },
            l = {
                get: function (t) {
                    var r = {},
                        u = n(".economic-calendar-filter-section"),
                        f = u.find(".filter-views").find(":radio:checked").val(),
                        e, o;
                    return t ? r.shortcut = f
                        : (r.timezone = i.timezone, r.rows = i.rows, r.view = f && f !== "recentnext" ? "range" : "current"),
                        r.start = u.data("start"),
                        r.end = u.data("end"),
                        e = n(".countries :checkbox:checked").map(function () {
                            return n(this).val()
                        }).get(), e.length > 0 && (r.countrycode = e.join()),
                        o = n(".categories :checkbox:checked").map(function () {
                            return n(this).val()
                        }).get(), o.length > 0 && (r.categories = o.join()),
                        r.volatility = n(".volatilities :radio:checked").val() || 0,
                        t || (r.culture = i.culture), i.columns && !t && (r.columns = i.columns), r
                }, set: function (t) { var r = n(i.filterSelector); t.start && t.end && (r.find(".dates :radio[value='" + t.shortcut + "']").attr("checked", "checked"), r.data("start", t.start), r.data("end", t.end), t.shortcut === "custom" && (n("#fxst-start").datepicker("setDate", n.datepicker.parseDate("yymmdd", t.start)), n("#fxst-end").datepicker("setDate", n.datepicker.parseDate("yymmdd", t.end)))); t.countrycode && r.find(".countries :checkbox").removeAttr("checked").each(function (i, r) { t.countrycode.indexOf(r.value) !== -1 && n(r).siblings("label").click() }); t.categories && r.find(".categories :checkbox").removeAttr("checked").each(function (i, r) { t.categories.indexOf(r.value) !== -1 && n(r).attr("checked", "checked") }); t.volatility && r.find(".volatilities :radio[value='" + t.volatility + "']").attr("checked", "checked") }
            }, e = { countryFilter: function (t, i) { var u = i.find(".countries"), r = t.find("#fxst-countrysearch > .fxst-container"); u.prev().text(r.children("h3").text()); r.find(":checked").removeAttr("checked"); r.children("ul").children().each(function () { var t = n(this), i = t.find("b"); i.prependTo(t.find("label")); u.append(t) }) }, categoryFilter: function (t, i) { var r = i.find(".categories"), u = t.find("#fxst-categorysearch > .fxst-container"); r.prev().text(u.children("h3").text()); r.append(u.children("ul").html()); r.find("li").each(function (t, i) { var r = n(i), u = "category_" + t; r.children("input").attr("id", u); r.children("label").attr("for", u) }) }, volatilityFilter: function (t, i) { var r = i.find(".volatilities"), u = t.find("#fxst-volatilitysearch > .fxst-container"); r.prev().text(u.children("h3").text()); u.children(".fxst-volatilityicons").children("span").each(function (t, i) { var u = n(i).attr("title"); r.find("label").eq(t).text(u).attr("title", u) }) }, dateFilter: function (t, i) { var r = i.find(".dates"), u = t.find("#fxst-basicsearch #fxst-calendar-filter-dateshortcuts"); u.find(".fxit-prefiltered-date").each(function (t, i) { var u = n(i).text(); u.length === 0 && n(i).data("typefilter") === "custom" && (u = resources.CustomDates); r.find("label").eq(t).text(u) }) }, datePickers: function (t, i) { var u = i.find(".economic-calendar-filter__custom-dates"), f = t.find("#fxit-custom-div"); u.find("label[for='fxst-start']").text(f.find("label[for='fxit-start-custom']").text()); u.find("label[for='fxst-end']").text(f.find("label[for='fxit-end-custom']").text()); n.datepicker.setDefaults(n.datepicker.regional[resources.Language]); var e = n("#fxst-start"), r = n("#fxst-end"), o = { defaultDate: new Date, firstDay: resources.FirstDayOfWeek, showAnim: "fadeIn", showOtherMonths: !0, beforeShow: function (t, i) { n(t).after(i.dpDiv).closest(".fixed-menu__hideable-content-list").addClass("open") }, onClose: function (t, i) { i.dpDiv.closest(".fixed-menu__hideable-content-list").removeClass("open"); n("body").append(i.dpDiv) } }; e.datepicker(n.extend({ onSelect: function (t) { var i = n.datepicker.parseDate(n.datepicker.regional[resources.Language].dateFormat, t), u = r.datepicker("getDate"); u < i && r.datepicker("setDate", t); r.datepicker("option", "minDate", i) } }, o)); r.datepicker(o); n.each([e, r], function () { var n = this; n.attr({ readonly: "readonly" }).click(function () { window.navigator.userAgent.match(/iPhone|iPad|iPod/i) && n.datepicker("show") }) }) }, buttonLabels: function (t, i) { n(".economic-calendar-filter__filter-results").text(resources.FilterResults); i.find("h2.filter-views span.filter-views__value").text(resources.RecentAndNext); i.find("h2.filter span").last().text(resources.ShowFilters) } }, o, a, w = function () { return o ? o : a ? jQuery.when(a) : o = b().then(function (n) { return a = n, o = null, a }, function () { o = null }) },
            b = function () { return jQuery.ajax({ type: "POST", url: r.AuthorizationUrl, contentType: "application/x-www-form-urlencoded", dataType: "json", data: { grant_type: "domain", client_id: i.clientId } }) }, u = function (n) {

                return w().then(function (t) {
                    return n.url += n.url.indexOf("?") === -1 ? "?" : "&", n.url += "authorization=" + t.token_type + " " + t.access_token, jQuery.ajax(n)
                })
            }, v = function (t) {
                var f = n(i.gridSelector); f.empty();

                u({ url: r.Main, dataType: "jsonp", data: l.get() }).done(function (n) {
                    var u, r; f.html(n.Html); i.rightRail && (u = f.find(".fxst-tr-event, .fxst-evenRow, .fxit-eventrow"), u.length > i.rows && (r = i.rows - 1, f.find("tr.fxst-tr-event:gt(" + r + "), tr.fxst-tr-detail:gt(" + r + ")").remove()), k(f)); t && t(); f.trigger("datareceived")
                })

            }, k = function (t) { var i = t.find("#fxst-calendartable"), r, e, o, u, f; jQuery.moveColumn(i, 3, 1); i.find(".fxst-flag").parents("td").addClass("flag-td"); r = i.find(".fxst-i-vol"); e = n("<p>").html(r.attr("title")).wrap("<div>").parent().addClass("tooltip__content"); r.applyTooltip({ content: e[0].outerHTML, theme: "tooltipster-data-tooltip", maxWidth: 85 }).parents("td").addClass("vol-td"); i.find(".fxst-tr-event").children("td:first-child").addClass("date-td"); i.find(".fxst-tr-event > td").not("[class*='flag-td'], [class*='vol-td'], [class*='date-td'], [class*='fxst-txt-left'], [class*='fxit-actual'], [class*='fxit-previous']").remove(); o = n(".fxst-tr-event"); n.each(o, function (t, i) { var u = n(i).prevAll("tr.fxst-dateRow:first").text(), r = n(i).find("td.date-td"), f = r.text(); r.text(f + ", " + u) }); u = i.find(".fxit-actual"); u.length && n.each(u, function (t, i) { if (!!n(i).html()) { var r = n("<span>").addClass("fxit-actual-label").text(resources.Actual); n(i).prepend(r) } }); f = i.find(".fxst-td-previous, .fxit-previous"); f.length && n.each(f, function (t, i) { if (!!n(i).html()) { var r = n("<span>").addClass("fxit-previous-label").text(resources.Previous); n(i).prepend(r) } }) }, d = function () { return u({ url: r.Filter, dataType: "jsonp" }).then(function (t) { var r = n(t.Html), u = n(i.filterSelector); e.countryFilter(r, u); e.categoryFilter(r, u); e.volatilityFilter(r, u); e.dateFilter(r, u); e.datePickers(r, u); e.buttonLabels(r, u) }) }, h = n(document); s(r.Resources, function () { resources = n.extend({}, resources, i.resources); resources.Culture !== "en-US" && s(r.Datepicker(resources.Language)); g() })
    }
}(jQuery); !function (n, t) { function v(n, t, r) { var e = n.children(), o = !1, u, s, f; for (n.empty(), u = 0, s = e.length; s > u; u++) { if (f = e.eq(u), n.append(f), r && n.append(r), i(n, t)) { f.remove(); o = !0; break } r && r.detach() } return o } function f(t, r, u, e, o) { var s = !1, h = "a table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style", c = "script, .dotdotdot-keep"; return t.contents().detach().each(function () { var a = this, l = n(a); if ("undefined" == typeof a || 3 == a.nodeType && 0 == n.trim(a.data).length) return !0; if (l.is(c)) t.append(l); else { if (s) return !0; t.append(l); !o || l.is(e.after) || l.find(e.after).length || t[t.is(h) ? "after" : "append"](o); i(u, e) && (s = 3 == a.nodeType ? y(l, r, u, e, o) : f(l, r, u, e, o), s || (l.detach(), s = !0)); s || o && o.detach() } }), s } function y(t, f, o, h, c) { var l = t[0], nt, k, d; if (!l) return !1; var y = s(l), tt = -1 !== y.indexOf(" ") ? " " : "　", p = "letter" == h.wrap ? "" : tt, a = y.split(p), g = -1, w = -1, b = 0, v = a.length - 1; for (h.fallbackToLetter && 0 == b && 0 == v && (p = "", a = y.split(p), v = a.length - 1); v >= b && (0 != b || 0 != v);) { if (nt = Math.floor((b + v) / 2), nt == w) break; w = nt; u(l, a.slice(0, w + 1).join(p) + h.ellipsis); i(o, h) ? (v = w, h.fallbackToLetter && 0 == b && 0 == v && (p = "", a = a[0].split(p), g = -1, w = -1, b = 0, v = a.length - 1)) : (g = w, b = w) } return -1 == g || 1 == a.length && 0 == a[0].length ? (k = t.parent(), t.detach(), d = c && c.closest(k).length ? c.length : 0, k.contents().length > d ? l = r(k.contents().eq(-1 - d), f) : (l = r(k, f, !0), d || k.detach()), l && (y = e(s(l), h), u(l, y), d && c && n(l).parent().append(c))) : (y = e(a.slice(0, g + 1).join(p), h), u(l, y)), !0 } function i(n, t) { return n.innerHeight() > t.maxHeight } function e(t, i) { for (; n.inArray(t.slice(-1), i.lastCharacter.remove) > -1;)t = t.slice(0, -1); return n.inArray(t.slice(-1), i.lastCharacter.noEllipsis) < 0 && (t += i.ellipsis), t } function o(n) { return { width: n.innerWidth(), height: n.innerHeight() } } function u(n, t) { n.innerText ? n.innerText = t : n.nodeValue ? n.nodeValue = t : n.textContent && (n.textContent = t) } function s(n) { return n.innerText ? n.innerText : n.nodeValue ? n.nodeValue : n.textContent ? n.textContent : "" } function h(n) { do n = n.previousSibling; while (n && 1 !== n.nodeType && 3 !== n.nodeType); return n } function r(t, i, u) { var f, e = t && t[0]; if (e) { if (!u) { if (3 === e.nodeType) return e; if (n.trim(t.text())) return r(t.contents().last(), i) } for (f = h(e); !f;) { if (t = t.parent(), t.is(i) || !t.length) return !1; f = h(t[0]) } if (f) return r(n(f), i) } return !1 } function p(t, i) { return t ? "string" == typeof t ? (t = n(t, i), t.length ? t : !1) : t.jquery ? t : !1 : !1 } function w(n) { for (var t, r = n.innerHeight(), u = ["paddingTop", "paddingBottom"], i = 0, f = u.length; f > i; i++)t = parseInt(n.css(u[i]), 10), isNaN(t) && (t = 0), r -= t; return r } var c, l, a; n.fn.dotdotdot || (n.fn.dotdotdot = function (t) { var r; if (0 == this.length) return n.fn.dotdotdot.debug('No element found for "' + this.selector + '".'), this; if (this.length > 1) return this.each(function () { n(this).dotdotdot(t) }); r = this; r.data("dotdotdot") && r.trigger("destroy.dot"); r.data("dotdotdot-style", r.attr("style") || ""); r.css("word-wrap", "break-word"); "nowrap" === r.css("white-space") && r.css("white-space", "normal"); r.bind_events = function () { return r.bind("update.dot", function (t, o) { t.preventDefault(); t.stopPropagation(); u.maxHeight = "number" == typeof u.height ? u.height : w(r); u.maxHeight += u.tolerance; "undefined" != typeof o && (("string" == typeof o || o instanceof HTMLElement) && (o = n("<div />").append(o).contents()), o instanceof n && (h = o)); s = r.wrapInner('<div class="dotdotdot" />').children(); s.contents().detach().end().append(h.clone(!0)).find("br").replaceWith("  <br />  ").end().css({ height: "auto", width: "auto", border: "none", padding: 0, margin: 0 }); var c = !1, l = !1; return e.afterElement && (c = e.afterElement.clone(!0), c.show(), e.afterElement.detach()), i(s, u) && (l = "children" == u.wrap ? v(s, u, c) : f(s, r, s, u, c)), s.replaceWith(s.contents()), s = null, n.isFunction(u.callback) && u.callback.call(r[0], l, h), e.isTruncated = l, l }).bind("isTruncated.dot", function (n, t) { return n.preventDefault(), n.stopPropagation(), "function" == typeof t && t.call(r[0], e.isTruncated), e.isTruncated }).bind("originalContent.dot", function (n, t) { return n.preventDefault(), n.stopPropagation(), "function" == typeof t && t.call(r[0], h), h }).bind("destroy.dot", function (n) { n.preventDefault(); n.stopPropagation(); r.unwatch().unbind_events().contents().detach().end().append(h).attr("style", r.data("dotdotdot-style") || "").data("dotdotdot", !1) }), r }; r.unbind_events = function () { return r.unbind(".dot"), r }; r.watch = function () { if (r.unwatch(), "window" == u.watch) { var t = n(window), i = t.width(), f = t.height(); t.bind("resize.dot" + e.dotId, function () { i == t.width() && f == t.height() && u.windowResizeFix || (i = t.width(), f = t.height(), l && clearInterval(l), l = setTimeout(function () { r.trigger("update.dot") }, 100)) }) } else a = o(r), l = setInterval(function () { if (r.is(":visible")) { var n = o(r); (a.width != n.width || a.height != n.height) && (r.trigger("update.dot"), a = n) } }, 500); return r }; r.unwatch = function () { return n(window).unbind("resize.dot" + e.dotId), l && clearInterval(l), r }; var h = r.contents(), u = n.extend(!0, {}, n.fn.dotdotdot.defaults, t), e = {}, a = {}, l = null, s = null; return u.lastCharacter.remove instanceof Array || (u.lastCharacter.remove = n.fn.dotdotdot.defaultArrays.lastCharacter.remove), u.lastCharacter.noEllipsis instanceof Array || (u.lastCharacter.noEllipsis = n.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis), e.afterElement = p(u.after, r), e.isTruncated = !1, e.dotId = c++ , r.data("dotdotdot", !0).bind_events().trigger("update.dot"), u.watch && r.watch(), r }, n.fn.dotdotdot.defaults = { ellipsis: "... ", wrap: "word", fallbackToLetter: !0, lastCharacter: {}, tolerance: 0, callback: null, after: null, height: null, watch: !1, windowResizeFix: !0 }, n.fn.dotdotdot.defaultArrays = { lastCharacter: { remove: [" ", "　", ",", ";", ".", "!", "?"], noEllipsis: [] } }, n.fn.dotdotdot.debug = function () { }, c = 1, l = n.fn.html, n.fn.html = function (i) { return i != t && !n.isFunction(i) && this.data("dotdotdot") ? this.trigger("update", [i]) : l.apply(this, arguments) }, a = n.fn.text, n.fn.text = function (i) { return i != t && !n.isFunction(i) && this.data("dotdotdot") ? (i = n("<div />").text(i).html(), this.trigger("update", [i])) : a.apply(this, arguments) }) }(jQuery), function (n, t) { var r = "//addtocalendar.com/atc/", u = "1.5"; Array.indexOf || (Array.prototype.indexOf = function (n) { for (var t = 0, i = this.length; t < i; t++)if (this[t] == n) return t; return -1 }); Array.prototype.map || (Array.prototype.map = function (n) { for (var i = [], t = 0, r = this.length; t < r; t++)i.push(n(this[t])); return i }); var f = function (n) { return Object.prototype.toString.call(n) === "[object Array]" }, i = function (n) { return Object.prototype.toString.call(n) === "[object Function]" }, e = function (n, t) { function i() { if (!u) { if (!t.body) return setTimeout(i, 13); if (u = !0, f) { for (var n, r = 0; n = f[r++];)n.call(null); f = null } } } function h() { if (!e) { if (e = !0, t.readyState === "complete") return i(); if (t.addEventListener) t.addEventListener("DOMContentLoaded", r, !1), n.addEventListener("load", i, !1); else if (t.attachEvent) { t.attachEvent("onreadystatechange", r); n.attachEvent("onload", i); var u = !1; try { u = n.frameElement == null } catch (f) { } b.doScroll && u && s() } else o = n.onload, n.onload = function (n) { o(n); i() } } } function s() { if (!u) { try { b.doScroll("left") } catch (n) { setTimeout(s, 1); return } i() } } var u = !1, e = !1, f = [], r, o; return t.addEventListener ? r = function () { t.removeEventListener("DOMContentLoaded", r, !1); i() } : t.attachEvent && (r = function () { t.readyState === "complete" && (t.detachEvent("onreadystatechange", r), i()) }), function (n) { h(); u ? n.call(null) : f.push(n) } }(n, t); n.addtocalendar && typeof n.addtocalendar.start == "function" || (n.addtocalendar || (n.addtocalendar = {}), addtocalendar.languages = { de: "In den Kalender", en: "Add to Calendar", es: "Añadir al Calendario", fr: "Ajouter au calendrier", hi: "कैलेंडर में जोड़ें", "in": "Tambahkan ke Kalender", ja: "カレンダーに追加", ko: "캘린더에 추가", pt: "Adicionar ao calendário", ru: "Добавить в календарь", uk: "Додати в календар", zh: "添加到日历" }, addtocalendar.calendar_urls = {}, addtocalendar.loadSettings = function (element) { var settings = { language: "auto", "show-list-on": "click", calendars: ["iCalendar", "Google Calendar", "Outlook", "Outlook Online", "Yahoo! Calendar"], secure: "auto", "on-button-click": function () { }, "on-calendar-click": function () { } }, option, pname, eattr, fn; for (option in settings) if (pname = "data-" + option, eattr = element.getAttribute(pname), eattr != null) { if (f(settings[option])) { settings[option] = eattr.replace(/\s*,\s*/g, ",").replace(/^\s+|\s+$/g, "").split(","); continue } if (i(settings[option])) { fn = window[eattr]; settings[option] = i(fn) ? fn : eval("(function(mouseEvent){" + eattr + "})"); continue } settings[option] = element.getAttribute(pname) } return settings }, addtocalendar.load = function () { for (var k, n, v, s, h, c, l, g, nt, a, tt, p, w, ft, t, it, e, b, rt = { iCalendar: "ical", "Google Calendar": "google", Outlook: "outlook", "Outlook Online": "outlookonline", "Yahoo! Calendar": "yahoo" }, et = -(new Date).getTimezoneOffset().toString(), o = addtocalendar.languages, f = document.getElementsByTagName("*"), i = 0; i < f.length; i++)if (k = f[i].className, k.length && k.split(" ").indexOf("addtocalendar") != -1) { n = addtocalendar.loadSettings(f[i]); v = "http:"; n.secure == "auto" ? v = location.protocol == "https:" ? "https:" : "http:" : n.secure == "true" && (v = "https:"); s = f[i].id; h = o.en; n.language == "auto" ? (c = "no_lang", typeof navigator.language == "string" ? c = navigator.language.substr(0, 2) : typeof navigator.browserLanguage == "string" && (c = navigator.browserLanguage.substr(0, 2)), o.hasOwnProperty(c) && (h = o[c])) : o.hasOwnProperty(n.language) && (h = o[n.language]); var ut = ["utz=" + et, "uln=" + navigator.language, "vjs=" + u], y = f[i].getElementsByTagName("var"), d = -1; for (e = 0; e < y.length; e++) { if (l = y[e].className.replace("atc_", "").split(" ")[0], g = y[e].innerHTML, l == "event") { d++; continue } if (l == y[e].className) { l == "atc-body" && (h = g); continue } d != -1 && ut.push("e[" + d + "][" + l + "]=" + encodeURIComponent(g)) } nt = s == "" ? "" : s + "_link"; a = document.createElement("ul"); a.className = "atcb-list"; tt = ""; for (p in n.calendars) rt.hasOwnProperty(n.calendars[p]) && (w = rt[n.calendars[p]], ft = s == "" ? "" : 'id="' + s + "_" + w + '_link"', tt += '<li class="atcb-item"><a ' + ft + ' class="atcb-item-link" href="' + (w == "ical" && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream ? "webcal:" : v) + r + w + "?" + ut.join("&") + '" target="_blank">' + n.calendars[p] + "<\/a><\/li>"); for (a.innerHTML = tt, f[i].querySelector(".atcb-link") == undefined ? (t = document.createElement("a"), t.className = "atcb-link", t.innerHTML = h, t.id = nt, t.tabIndex = 1, f[i].appendChild(t), f[i].appendChild(a)) : (t = f[i].querySelector("atcb-link"), t.parentNode.appendChild(a), t.tabIndex = 1, t.id == "" && (t.id = nt)), t.addEventListener ? t.addEventListener("click", n["on-button-click"], !1) : t.attachEvent("onclick", n["on-button-click"]), it = f[i].querySelectorAll("atcb-item-link"), e = 0; e < it.length; e++)b = it[e], b.addEventListener ? b.addEventListener("click", n["on-calendar-click"], !1) : b.attachEvent("onclick", n["on-calendar-click"]) } }, addtocalendar.load()) }(window, document), function (n) { n.fn.unveil = function (t, i) { function o() { var t = u.filter(function () { var t = n(this); if (!t.is(":hidden")) { var i = r.scrollTop(), e = i + r.height(), u = t.offset().top, o = u + t.height(); return o >= i - f && u <= e + f } }); e = t.trigger("unveil"); u = u.not(e) } var r = n(window), f = t || 0, s = window.devicePixelRatio > 1, h = s ? "data-src-retina" : "data-src", u = this, e; this.one("unveil", function () { var n = this.getAttribute(h); n = n || this.getAttribute("data-src"); n && (this.setAttribute("src", n), typeof i == "function" && i.call(this)) }); r.on("scroll.unveil resize.unveil lookup.unveil", o); return o(), this } }(window.jQuery || window.Zepto); !function (n) { "function" == typeof define && define.amd ? define(["jquery", "./jquery.validate.min"], n) : n(jQuery) }(function (n) { !function () { function t(n) { return n.replace(/<.[^<>]*?>/g, " ").replace(/&nbsp;|&#160;/gi, " ").replace(/[.(),;:!?%#$'\"_+=\/\-“”’]*/g, "") } n.validator.addMethod("maxWords", function (n, i, r) { return this.optional(i) || t(n).match(/\b\w+\b/g).length <= r }, n.validator.format("Please enter {0} words or less.")); n.validator.addMethod("minWords", function (n, i, r) { return this.optional(i) || t(n).match(/\b\w+\b/g).length >= r }, n.validator.format("Please enter at least {0} words.")); n.validator.addMethod("rangeWords", function (n, i, r) { var u = t(n), f = /\b\w+\b/g; return this.optional(i) || u.match(f).length >= r[0] && u.match(f).length <= r[1] }, n.validator.format("Please enter between {0} and {1} words.")) }(); n.validator.addMethod("accept", function (t, i, r) { var u, e, f = "string" == typeof r ? r.replace(/\s/g, "").replace(/,/g, "|") : "image/*", o = this.optional(i); if (o) return o; if ("file" === n(i).attr("type") && (f = f.replace(/\*/g, ".*"), i.files && i.files.length)) for (u = 0; u < i.files.length; u++)if (e = i.files[u], !e.type.match(new RegExp(".?(" + f + ")$", "i"))) return !1; return !0 }, n.validator.format("Please enter a value with a valid mimetype.")); n.validator.addMethod("alphanumeric", function (n, t) { return this.optional(t) || /^\w+$/i.test(n) }, "Letters, numbers, and underscores only please"); n.validator.addMethod("bankaccountNL", function (n, t) { if (this.optional(t)) return !0; if (!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(n)) return !1; for (var r, u, f = n.replace(/ /g, ""), e = 0, o = f.length, i = 0; o > i; i++)r = o - i, u = f.substring(i, i + 1), e += r * u; return e % 11 == 0 }, "Please specify a valid bank account number"); n.validator.addMethod("bankorgiroaccountNL", function (t, i) { return this.optional(i) || n.validator.methods.bankaccountNL.call(this, t, i) || n.validator.methods.giroaccountNL.call(this, t, i) }, "Please specify a valid bank or giro account number"); n.validator.addMethod("bic", function (n, t) { return this.optional(t) || /^([A-Z]{6}[A-Z2-9][A-NP-Z1-2])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(n) }, "Please specify a valid BIC code"); n.validator.addMethod("cifES", function (n) { "use strict"; var f, i, r, u, e, o, t = []; if (n = n.toUpperCase(), !n.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")) return !1; for (r = 0; 9 > r; r++)t[r] = parseInt(n.charAt(r), 10); for (i = t[2] + t[4] + t[6], u = 1; 8 > u; u += 2)e = (2 * t[u]).toString(), o = e.charAt(1), i += parseInt(e.charAt(0), 10) + ("" === o ? 0 : parseInt(o, 10)); return /^[ABCDEFGHJNPQRSUVW]{1}/.test(n) ? (i += "", f = 10 - parseInt(i.charAt(i.length - 1), 10), n += f, t[8].toString() === String.fromCharCode(64 + f) || t[8].toString() === n.charAt(n.length - 1)) : !1 }, "Please specify a valid CIF number."); n.validator.addMethod("creditcardtypes", function (n, t, i) { if (/[^0-9\-]+/.test(n)) return !1; n = n.replace(/\D/g, ""); var r = 0; return i.mastercard && (r |= 1), i.visa && (r |= 2), i.amex && (r |= 4), i.dinersclub && (r |= 8), i.enroute && (r |= 16), i.discover && (r |= 32), i.jcb && (r |= 64), i.unknown && (r |= 128), i.all && (r = 255), 1 & r && /^(5[12345])/.test(n) ? 16 === n.length : 2 & r && /^(4)/.test(n) ? 16 === n.length : 4 & r && /^(3[47])/.test(n) ? 15 === n.length : 8 & r && /^(3(0[012345]|[68]))/.test(n) ? 14 === n.length : 16 & r && /^(2(014|149))/.test(n) ? 15 === n.length : 32 & r && /^(6011)/.test(n) ? 16 === n.length : 64 & r && /^(3)/.test(n) ? 16 === n.length : 64 & r && /^(2131|1800)/.test(n) ? 15 === n.length : 128 & r ? !0 : !1 }, "Please enter a valid credit card number."); n.validator.addMethod("currency", function (n, t, i) { var u, f = "string" == typeof i, r = f ? i : i[0], e = f ? !0 : i[1]; return r = r.replace(/,/g, ""), r = e ? r + "]" : r + "]?", u = "^[" + r + "([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$", u = new RegExp(u), this.optional(t) || u.test(n) }, "Please specify a valid currency"); n.validator.addMethod("dateFA", function (n, t) { return this.optional(t) || /^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(n) }, "Please enter a correct date"); n.validator.addMethod("dateITA", function (n, t) { var i, u, f, e, r, o = !1; return /^\d{1,2}\/\d{1,2}\/\d{4}$/.test(n) ? (i = n.split("/"), u = parseInt(i[0], 10), f = parseInt(i[1], 10), e = parseInt(i[2], 10), r = new Date(e, f - 1, u, 12, 0, 0, 0), o = r.getUTCFullYear() === e && r.getUTCMonth() === f - 1 && r.getUTCDate() === u ? !0 : !1) : o = !1, this.optional(t) || o }, "Please enter a correct date"); n.validator.addMethod("dateNL", function (n, t) { return this.optional(t) || /^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(n) }, "Please enter a correct date"); n.validator.addMethod("extension", function (n, t, i) { return i = "string" == typeof i ? i.replace(/,/g, "|") : "png|jpe?g|gif", this.optional(t) || n.match(new RegExp(".(" + i + ")$", "i")) }, n.validator.format("Please enter a value with a valid extension.")); n.validator.addMethod("giroaccountNL", function (n, t) { return this.optional(t) || /^[0-9]{1,7}$/.test(n) }, "Please specify a valid giro account number"); n.validator.addMethod("iban", function (n, t) { if (this.optional(t)) return !0; var c, f, e, l, o, a, v, r, u, i = n.replace(/ /g, "").toUpperCase(), s = "", y = !0, h = "", p = ""; if (!/^([a-zA-Z0-9]{4} ){2,8}[a-zA-Z0-9]{1,4}|[a-zA-Z0-9]{12,34}$/.test(i) || (c = i.substring(0, 2), a = { AL: "\\d{8}[\\dA-Z]{16}", AD: "\\d{8}[\\dA-Z]{12}", AT: "\\d{16}", AZ: "[\\dA-Z]{4}\\d{20}", BE: "\\d{12}", BH: "[A-Z]{4}[\\dA-Z]{14}", BA: "\\d{16}", BR: "\\d{23}[A-Z][\\dA-Z]", BG: "[A-Z]{4}\\d{6}[\\dA-Z]{8}", CR: "\\d{17}", HR: "\\d{17}", CY: "\\d{8}[\\dA-Z]{16}", CZ: "\\d{20}", DK: "\\d{14}", DO: "[A-Z]{4}\\d{20}", EE: "\\d{16}", FO: "\\d{14}", FI: "\\d{14}", FR: "\\d{10}[\\dA-Z]{11}\\d{2}", GE: "[\\dA-Z]{2}\\d{16}", DE: "\\d{18}", GI: "[A-Z]{4}[\\dA-Z]{15}", GR: "\\d{7}[\\dA-Z]{16}", GL: "\\d{14}", GT: "[\\dA-Z]{4}[\\dA-Z]{20}", HU: "\\d{24}", IS: "\\d{22}", IE: "[\\dA-Z]{4}\\d{14}", IL: "\\d{19}", IT: "[A-Z]\\d{10}[\\dA-Z]{12}", KZ: "\\d{3}[\\dA-Z]{13}", KW: "[A-Z]{4}[\\dA-Z]{22}", LV: "[A-Z]{4}[\\dA-Z]{13}", LB: "\\d{4}[\\dA-Z]{20}", LI: "\\d{5}[\\dA-Z]{12}", LT: "\\d{16}", LU: "\\d{3}[\\dA-Z]{13}", MK: "\\d{3}[\\dA-Z]{10}\\d{2}", MT: "[A-Z]{4}\\d{5}[\\dA-Z]{18}", MR: "\\d{23}", MU: "[A-Z]{4}\\d{19}[A-Z]{3}", MC: "\\d{10}[\\dA-Z]{11}\\d{2}", MD: "[\\dA-Z]{2}\\d{18}", ME: "\\d{18}", NL: "[A-Z]{4}\\d{10}", NO: "\\d{11}", PK: "[\\dA-Z]{4}\\d{16}", PS: "[\\dA-Z]{4}\\d{21}", PL: "\\d{24}", PT: "\\d{21}", RO: "[A-Z]{4}[\\dA-Z]{16}", SM: "[A-Z]\\d{10}[\\dA-Z]{12}", SA: "\\d{2}[\\dA-Z]{18}", RS: "\\d{18}", SK: "\\d{20}", SI: "\\d{15}", ES: "\\d{20}", SE: "\\d{20}", CH: "\\d{5}[\\dA-Z]{12}", TN: "\\d{20}", TR: "\\d{5}[\\dA-Z]{17}", AE: "\\d{3}\\d{16}", GB: "[A-Z]{4}\\d{14}", VG: "[\\dA-Z]{4}\\d{16}" }, o = a[c], "undefined" != typeof o && (v = new RegExp("^[A-Z]{2}\\d{2}" + o + "$", ""), !v.test(i)))) return !1; for (f = i.substring(4, i.length) + i.substring(0, 4), r = 0; r < f.length; r++)e = f.charAt(r), "0" !== e && (y = !1), y || (s += "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e)); for (u = 0; u < s.length; u++)l = s.charAt(u), p = "" + h + l, h = p % 97; return 1 === h }, "Please specify a valid IBAN"); n.validator.addMethod("integer", function (n, t) { return this.optional(t) || /^-?\d+$/.test(n) }, "A positive or negative non-decimal number please"); n.validator.addMethod("ipv4", function (n, t) { return this.optional(t) || /^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(n) }, "Please enter a valid IP v4 address."); n.validator.addMethod("ipv6", function (n, t) { return this.optional(t) || /^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(n) }, "Please enter a valid IP v6 address."); n.validator.addMethod("lettersonly", function (n, t) { return this.optional(t) || /^[a-z]+$/i.test(n) }, "Letters only please"); n.validator.addMethod("letterswithbasicpunc", function (n, t) { return this.optional(t) || /^[a-z\-.,()'"\s]+$/i.test(n) }, "Letters or punctuation only please"); n.validator.addMethod("mobileNL", function (n, t) { return this.optional(t) || /^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(n) }, "Please specify a valid mobile number"); n.validator.addMethod("mobileUK", function (n, t) { return n = n.replace(/\(|\)|\s+|-/g, ""), this.optional(t) || n.length > 9 && n.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/) }, "Please specify a valid mobile number"); n.validator.addMethod("nieES", function (n) { "use strict"; return n = n.toUpperCase(), n.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)") ? /^[T]{1}/.test(n) ? n[8] === /^[T]{1}[A-Z0-9]{8}$/.test(n) : /^[XYZ]{1}/.test(n) ? n[8] === "TRWAGMYFPDXBNJZSQVHLCKE".charAt(n.replace("X", "0").replace("Y", "1").replace("Z", "2").substring(0, 8) % 23) : !1 : !1 }, "Please specify a valid NIE number."); n.validator.addMethod("nifES", function (n) { "use strict"; return n = n.toUpperCase(), n.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)") ? /^[0-9]{8}[A-Z]{1}$/.test(n) ? "TRWAGMYFPDXBNJZSQVHLCKE".charAt(n.substring(8, 0) % 23) === n.charAt(8) : /^[KLM]{1}/.test(n) ? n[8] === String.fromCharCode(64) : !1 : !1 }, "Please specify a valid NIF number."); n.validator.addMethod("nowhitespace", function (n, t) { return this.optional(t) || /^\S+$/i.test(n) }, "No white space please"); n.validator.addMethod("pattern", function (n, t, i) { return this.optional(t) ? !0 : ("string" == typeof i && (i = new RegExp("^(?:" + i + ")$")), i.test(n)) }, "Invalid format."); n.validator.addMethod("phoneNL", function (n, t) { return this.optional(t) || /^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(n) }, "Please specify a valid phone number."); n.validator.addMethod("phoneUK", function (n, t) { return n = n.replace(/\(|\)|\s+|-/g, ""), this.optional(t) || n.length > 9 && n.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/) }, "Please specify a valid phone number"); n.validator.addMethod("phoneUS", function (n, t) { return n = n.replace(/\s+/g, ""), this.optional(t) || n.length > 9 && n.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]([02-9]\d|1[02-9])-?\d{4}$/) }, "Please specify a valid phone number"); n.validator.addMethod("phonesUK", function (n, t) { return n = n.replace(/\(|\)|\s+|-/g, ""), this.optional(t) || n.length > 9 && n.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/) }, "Please specify a valid uk phone number"); n.validator.addMethod("postalCodeCA", function (n, t) { return this.optional(t) || /^[ABCEGHJKLMNPRSTVXY]\d[A-Z] \d[A-Z]\d$/.test(n) }, "Please specify a valid postal code"); n.validator.addMethod("postalcodeBR", function (n, t) { return this.optional(t) || /^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(n) }, "Informe um CEP válido."); n.validator.addMethod("postalcodeIT", function (n, t) { return this.optional(t) || /^\d{5}$/.test(n) }, "Please specify a valid postal code"); n.validator.addMethod("postalcodeNL", function (n, t) { return this.optional(t) || /^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(n) }, "Please specify a valid postal code"); n.validator.addMethod("postcodeUK", function (n, t) { return this.optional(t) || /^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(n) }, "Please specify a valid UK postcode"); n.validator.addMethod("require_from_group", function (t, i, r) { var u = n(r[1], i.form), f = u.eq(0), e = f.data("valid_req_grp") ? f.data("valid_req_grp") : n.extend({}, this), o = u.filter(function () { return e.elementValue(this) }).length >= r[0]; return f.data("valid_req_grp", e), n(i).data("being_validated") || (u.data("being_validated", !0), u.each(function () { e.element(this) }), u.data("being_validated", !1)), o }, n.validator.format("Please fill at least {0} of these fields.")); n.validator.addMethod("skip_or_fill_minimum", function (t, i, r) { var u = n(r[1], i.form), f = u.eq(0), e = f.data("valid_skip") ? f.data("valid_skip") : n.extend({}, this), o = u.filter(function () { return e.elementValue(this) }).length, s = 0 === o || o >= r[0]; return f.data("valid_skip", e), n(i).data("being_validated") || (u.data("being_validated", !0), u.each(function () { e.element(this) }), u.data("being_validated", !1)), s }, n.validator.format("Please either skip these fields or fill at least {0} of them.")); jQuery.validator.addMethod("stateUS", function (n, t, i) { var r, u = "undefined" == typeof i, o = u || "undefined" == typeof i.caseSensitive ? !1 : i.caseSensitive, f = u || "undefined" == typeof i.includeTerritories ? !1 : i.includeTerritories, e = u || "undefined" == typeof i.includeMilitary ? !1 : i.includeMilitary; return r = f || e ? f && e ? "^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$" : f ? "^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$" : "^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$" : "^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$", r = o ? new RegExp(r) : new RegExp(r, "i"), this.optional(t) || r.test(n) }, "Please specify a valid state"); n.validator.addMethod("strippedminlength", function (t, i, r) { return n(t).text().length >= r }, n.validator.format("Please enter at least {0} characters")); n.validator.addMethod("time", function (n, t) { return this.optional(t) || /^([01]\d|2[0-3])(:[0-5]\d){1,2}$/.test(n) }, "Please enter a valid time, between 00:00 and 23:59"); n.validator.addMethod("time12h", function (n, t) { return this.optional(t) || /^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(n) }, "Please enter a valid time in 12-hour am/pm format"); n.validator.addMethod("url2", function (n, t) { return this.optional(t) || /^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n) }, n.validator.messages.url); n.validator.addMethod("vinUS", function (n) { if (17 !== n.length) return !1; for (var r, t, e, u, f, o = ["A", "B", "C", "D", "E", "F", "G", "H", "J", "K", "L", "M", "N", "P", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"], h = [1, 2, 3, 4, 5, 6, 7, 8, 1, 2, 3, 4, 5, 7, 9, 2, 3, 4, 5, 6, 7, 8, 9], c = [8, 7, 6, 5, 4, 3, 2, 10, 0, 9, 8, 7, 6, 5, 4, 3, 2], s = 0, i = 0; 17 > i; i++) { if (e = c[i], t = n.slice(i, i + 1), 8 === i && (f = t), isNaN(t)) { for (r = 0; r < o.length; r++)if (t.toUpperCase() === o[r]) { t = h[r]; t *= e; isNaN(f) && 8 === r && (f = o[r]); break } } else t *= e; s += t } return u = s % 11, 10 === u && (u = "X"), u === f ? !0 : !1 }, "The specified vehicle identification number (VIN) is invalid."); n.validator.addMethod("zipcodeUS", function (n, t) { return this.optional(t) || /^\d{5}(-\d{4})?$/.test(n) }, "The specified US ZIP Code is invalid"); n.validator.addMethod("ziprange", function (n, t) { return this.optional(t) || /^90[2-5]\d\{2\}-\d{4}$/.test(n) }, "Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx") }); !function (n) { var t = {}, i = {}, r = n.each, u = function (t) { var i = function (r, u, f) { "object" == typeof r ? n.each(r, function (n, t) { i(n, t, f) }) : (void 0 === f || f === !0) && (t[r] || (t[r] = []), t[r].push(u)) }; return i }, f = n.isArray, e = function (t) { return n.map(t, function (n, t) { return t }) }, o = function (n, t) { var i = {}; return r(t, function (t, r) { n[r] && (i[r] = n[r]) }), i }, s = function (t, i) { var u = {}; return r(t, function (t, r) { ~n.inArray(t, i) || (u[t] = r) }), u }, h = function (i, u, f) { return n.dform.hasSubscription(i) && this.each(function () { var e = n(this); r(t[i], function (n, t) { t.call(e, u, f) }) }), this }, c = function (n) { var t = n.type, i = this; return this.dform("run", "[pre]", n, t), r(n, function (n, r) { i.dform("run", n, r, t) }), this.dform("run", "[post]", n, t), this }; n.extend(n, { keyset: e, withKeys: o, withoutKeys: s, dform: { options: { prefix: "ui-dform-" }, defaultType: function (t) { return n("<" + t.type + ">").dform("attr", t) }, types: function (n) { return n ? i[n] : i }, addType: u(i), subscribers: function (n) { return n ? t[n] : t }, subscribe: u(t), hasSubscription: function (n) { return t[n] ? !0 : !1 }, createElement: function (t) { if (!t.type) throw "No element type given! Must always exist."; var f = t.type, u = null, e = n.withoutKeys(t, ["type"]); return i[f] ? r(i[f], function (n, t) { u = t.call(u, e) }) : u = n.dform.defaultType(t), n(u) }, methods: { run: function (n, t, i) { return "string" != typeof n ? c.call(this, n) : h.call(this, n, t, i) }, append: function (t, i) { i && n.dform.converters && n.isFunction(n.dform.converters[i]) && (t = n.dform.converters[i](t)); var r = n.dform.createElement(t); this.append(r); r.dform("run", t) }, attr: function (i, r) { var u = n.keyset(t); f(r) && n.merge(u, r); this.attr(n.withoutKeys(i, u)) }, ajax: function (t, i, r) { var u = { error: r, url: t }, f = this; "string" != typeof t && n.extend(u, t); u.success = function (n) { var r = i || t.success; f.dform(n); r && r.call(f, n) }; n.ajax(u) }, init: function (t, i) { var r = t.type ? t : n.extend({ type: "form" }, t); i && n.dform.converters && n.isFunction(n.dform.converters[i]) && (r = n.dform.converters[i](r)); this.is(r.type) ? (this.dform("attr", r), this.dform("run", r)) : this.dform("append", r) } } } }); n.fn.dform = function (t, i, r) { var u = n(this); return n.dform.methods[t] ? n.dform.methods[t].apply(u, Array.prototype.slice.call(arguments, 1)) : "string" == typeof t ? n.dform.methods.ajax.call(u, { url: t, dataType: "json" }, i, r) : n.dform.methods.init.apply(u, arguments), this } }(jQuery), function (n) { var i = n.each, t = function (t, i) { return function (r) { return n(t).dform("attr", r, i) } }, r = function (t) { var r = this; n.isPlainObject(t) ? r.dform("append", t) : n.isArray(t) ? i(t, function (n, t) { r.dform("append", t) }) : r.html(t) }; n.dform.addType({ container: t("<div>"), text: t('<input type="text" />'), password: t('<input type="password" />'), submit: t('<input type="submit" />'), reset: t('<input type="reset" />'), hidden: t('<input type="hidden" />'), radio: t('<input type="radio" />'), checkbox: t('<input type="checkbox" />'), file: t('<input type="file" />'), number: t('<input type="number" />'), url: t('<input type="url" />'), tel: t('<input type="tel" />'), email: t('<input type="email" />'), checkboxes: t("<div>", ["name"]), radiobuttons: t("<div>", ["name"]) }); n.dform.subscribe({ "class": function (n) { this.addClass(n) }, html: r, elements: r, value: function (n) { this.val(n) }, css: function (n) { this.css(n) }, options: function (t, r) { var u = this; "select" !== r && "optgroup" !== r || "string" == typeof t ? ("checkboxes" === r || "radiobuttons" === r) && i(t, function (t, i) { var f = "radiobuttons" === r ? { type: "radio" } : { type: "checkbox" }; "string" == typeof i ? f.caption = i : n.extend(f, i); f.value = t; u.dform("append", f) }) : i(t, function (t, i) { var r = { type: "option", value: t }; "string" == typeof i && (r.html = i); "object" == typeof i && (r = n.extend(r, i)); u.dform("append", r) }) }, caption: function (t, i) { var r = {}, u; ("string" == typeof t ? r.html = t : n.extend(r, t), "fieldset" == i) ? (r.type = "legend", this.dform("append", r)) : (r.type = "label", this.attr("id") && (r["for"] = this.attr("id")), u = n(n.dform.createElement(r)), "checkbox" === i || "radio" === i ? this.parent().append(n(u)) : u.insertBefore(this), u.dform("run", r)) }, type: function (t, i) { n.dform.options.prefix && this.addClass(n.dform.options.prefix + i) }, url: function (n) { this.dform("ajax", n) }, "[post]": function (t, i) { if ("checkboxes" === i || "radiobuttons" === i) { var r = "checkboxes" === i ? "checkbox" : "radio"; this.children("[type=" + r + "]").each(function () { n(this).attr("name", t.name) }) } } }) }(jQuery), function (n) { var t = function (t, i) { return n.withKeys(i, n.keyset(n.ui[t].prototype.options)) }, i = function (n, t) { for (var i = t, r = 0; r < n.length; r++)if (i = i[n[r]], !i) return null; return i }; n.dform.addType("progressbar", function (i) { return n("<div>").dform("attr", i).progressbar(t("progressbar", i)) }, n.isFunction(n.fn.progressbar)); n.dform.addType("slider", function (i) { return n("<div>").dform("attr", i).slider(t("slider", i)) }, n.isFunction(n.fn.slider)); n.dform.addType("accordion", function (t) { return n("<div>").dform("attr", t) }, n.isFunction(n.fn.accordion)); n.dform.addType("tabs", function (t) { return n("<div>").dform("attr", t) }, n.isFunction(n.fn.tabs)); n.dform.subscribe("entries", function (t, i) { if ("accordion" == i) { var r = this; n.each(t, function (t, i) { var f = n.extend({ type: "div" }, i), u; (n(r).dform("append", f), i.caption) && (u = n(r).children("div:last").prev(), u.replaceWith('<h3><a href="#">' + u.html() + "<\/a><\/h3>")) }) } }, n.isFunction(n.fn.accordion)); n.dform.subscribe("entries", function (t, i) { var r, u; "tabs" == i && (r = this, this.append("<ul>"), u = n(r).children("ul:first"), n.each(t, function (t, i) { var e = i.id ? i.id : t, f; n.extend(i, { type: "container", id: e }); n(r).dform("append", i); f = n(r).children("div:last").prev(); n(f).wrapInner(n("<a>").attr("href", "#" + e)); n(u).append(n("<li>").wrapInner(f)) })) }, n.isFunction(n.fn.tabs)); n.dform.subscribe("dialog", function (n) { this.dialog(n) }, n.isFunction(n.fn.dialog)); n.dform.subscribe("resizable", function (n) { this.resizable(n) }, n.isFunction(n.fn.resizable)); n.dform.subscribe("datepicker", function (n, t) { "text" == t && this.datepicker(n) }, n.isFunction(n.fn.datepicker)); n.dform.subscribe("autocomplete", function (n, t) { "text" == t && this.autocomplete(n) }, n.isFunction(n.fn.autocomplete)); n.dform.subscribe("[post]", function (i, r) { this.parents("form").hasClass("ui-widget") && ("button" !== r && "submit" !== r || !n.isFunction(n.fn.button) || this.button(), ~n.inArray(r, ["text", "textarea", "password", "fieldset"]) && this.addClass("ui-widget-content ui-corner-all")); ("accordion" === r || "tabs" === r) && this[r](t(r, i)) }); n.dform.subscribe("[pre]", function (t, i) { if ("form" == i) { var r = {}; this.hasClass("ui-widget") && (r = { highlight: function (t) { n(t).addClass("ui-state-highlight") }, unhighlight: function (t) { n(t).removeClass("ui-state-highlight") } }); "object" == typeof t.validate && n.extend(r, t.validate); this.validate(r) } }, n.isFunction(n.fn.validate)); n.dform.subscribe("validate", function (n, t) { "form" != t && this.rules("add", n) }, n.isFunction(n.fn.validate)); n.dform.subscribe("ajax", function (n, t) { "form" === t && this.ajaxForm(n) }, n.isFunction(n.fn.ajaxForm)); n.dform.subscribe("html", function (t) { if ("string" == typeof t) { var u = t.split("."), r = Globalize.localize(u.shift()); (r = i(u, r)) && n(this).html(r) } }, "undefined" != typeof Globalize && n.isFunction(Globalize.localize)); n.dform.subscribe("options", function (t, r) { if ("select" === r && "string" == typeof t) { n(this).html(""); var f = t.split("."), u = Globalize.localize(f.shift()); (u = i(f, u)) && n(this).dform("run", "options", u, r) } }, "undefined" != typeof Globalize && n.isFunction(Globalize.localize)) }(jQuery), function (n) { function t(n) { var i, t, r; return n.selectionStart ? n.selectionStart : document.selection ? (n.focus(), i = document.selection.createRange(), i == null) ? 0 : (t = n.createTextRange(), r = t.duplicate(), t.moveToBookmark(i.getBookmark()), r.setEndPoint("EndToStart", t), r.text.length) : 0 } function i(n, t) { if (n.createTextRange) { var i = n.createTextRange(); i.move("character", t); i.select() } else n.selectionStart ? (n.focus(), n.setSelectionRange(t, t)) : n.focus() } n.fn.numericInput = function () { var n = this; n.on("keydown", function (t) { var i = t.keyCode || t.which, r = [110, 190, 191]; if (!t.ctrlKey || [65, 67, 86, 88, 90].indexOf(i) == -1) return r.indexOf(i) != -1 && n.val().indexOf(".") != -1 || t.shiftKey && (i >= 48 && i <= 57 || r.indexOf(i) != -1) || (i < 48 || i > 57) && (i < 96 || i > 105) && (i < 37 || i > 40) && r.indexOf(i) == -1 && [13, 8, 46].indexOf(i) == -1 ? !1 : void 0 }).on("change keyup", function () { var u = n.val(), f = t(this), r = u; r = r.replace(/[^.,0-9]/g, ""); r = r.replace(/-+/g, ""); r = r.replace(/\.(?=.*\.)/g, ""); u != r && (n.val(r), n.trigger("change"), i(n, f - 1)) }); return this } }(jQuery), function () { var n, r, t, i, u, f = {}.hasOwnProperty, e = function (n, t) { function r() { this.constructor = n } for (var i in t) f.call(t, i) && (n[i] = t[i]); return r.prototype = t.prototype, n.prototype = new r, n.__super__ = t.prototype, n }; i = function () { function n() { this.options_index = 0; this.parsed = [] } return n.prototype.add_node = function (n) { return "OPTGROUP" === n.nodeName.toUpperCase() ? this.add_group(n) : this.add_option(n) }, n.prototype.add_group = function (n) { var i, f, t, e, r, u; for (i = this.parsed.length, this.parsed.push({ array_index: i, group: !0, label: this.escapeExpression(n.label), title: n.title ? n.title : void 0, children: 0, disabled: n.disabled, classes: n.className }), r = n.childNodes, u = [], t = 0, e = r.length; e > t; t++)f = r[t], u.push(this.add_option(f, i, n.disabled)); return u }, n.prototype.add_option = function (n, t, i) { if ("OPTION" === n.nodeName.toUpperCase()) return ("" !== n.text ? (null != t && (this.parsed[t].children += 1), this.parsed.push({ container: n, array_index: this.parsed.length, options_index: this.options_index, value: n.value, text: n.text, html: n.innerHTML, title: n.title ? n.title : void 0, selected: n.selected, disabled: i === !0 ? i : n.disabled, group_array_index: t, group_label: null != t ? this.parsed[t].label : null, classes: n.className, style: n.style.cssText })) : this.parsed.push({ array_index: this.parsed.length, options_index: this.options_index, empty: !0 }), this.options_index += 1) }, n.prototype.escapeExpression = function (n) { var t, i; return null == n || n === !1 ? "" : /[\&\<\>\"\'\`]/.test(n) ? (t = { "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;" }, i = /&(?!\w+;)|[\<\>\"\'\`]/g, n.replace(i, function (n) { return t[n] || "&amp;" })) : n }, n }(); i.select_to_array = function (n) { var f, r, t, e, u; for (r = new i, u = n.childNodes, t = 0, e = u.length; e > t; t++)f = u[t], r.add_node(f); return r.parsed }; r = function () { function t(n, i) { this.form_field = n; this.options = null != i ? i : {}; t.browser_is_supported() && (this.is_multiple = this.form_field.multiple, this.set_default_text(), this.set_default_values(), this.setup(), this.set_up_html(), this.register_observers(), this.on_ready()) } return t.prototype.set_default_values = function () { var n = this; return this.click_test_action = function (t) { return n.test_active_click(t) }, this.activate_action = function (t) { return n.activate_field(t) }, this.active_field = !1, this.mouse_on_container = !1, this.results_showing = !1, this.result_highlighted = null, this.allow_single_deselect = null != this.options.allow_single_deselect && null != this.form_field.options[0] && "" === this.form_field.options[0].text ? this.options.allow_single_deselect : !1, this.disable_search_threshold = this.options.disable_search_threshold || 0, this.disable_search = this.options.disable_search || !1, this.enable_split_word_search = null != this.options.enable_split_word_search ? this.options.enable_split_word_search : !0, this.group_search = null != this.options.group_search ? this.options.group_search : !0, this.search_contains = this.options.search_contains || !1, this.single_backstroke_delete = null != this.options.single_backstroke_delete ? this.options.single_backstroke_delete : !0, this.max_selected_options = this.options.max_selected_options || 1 / 0, this.inherit_select_classes = this.options.inherit_select_classes || !1, this.display_selected_options = null != this.options.display_selected_options ? this.options.display_selected_options : !0, this.display_disabled_options = null != this.options.display_disabled_options ? this.options.display_disabled_options : !0, this.include_group_label_in_selected = this.options.include_group_label_in_selected || !1, this.max_shown_results = this.options.max_shown_results || Number.POSITIVE_INFINITY }, t.prototype.set_default_text = function () { return this.default_text = this.form_field.getAttribute("data-placeholder") ? this.form_field.getAttribute("data-placeholder") : this.is_multiple ? this.options.placeholder_text_multiple || this.options.placeholder_text || t.default_multiple_text : this.options.placeholder_text_single || this.options.placeholder_text || t.default_single_text, this.results_none_found = this.form_field.getAttribute("data-no_results_text") || this.options.no_results_text || t.default_no_result_text }, t.prototype.choice_label = function (n) { return this.include_group_label_in_selected && null != n.group_label ? "<b class='group-name'>" + n.group_label + "<\/b>" + n.html : n.html }, t.prototype.mouse_enter = function () { return this.mouse_on_container = !0 }, t.prototype.mouse_leave = function () { return this.mouse_on_container = !1 }, t.prototype.input_focus = function () { var n = this; if (this.is_multiple) { if (!this.active_field) return setTimeout(function () { return n.container_mousedown() }, 50) } else if (!this.active_field) return this.activate_field() }, t.prototype.input_blur = function () { var n = this; if (!this.mouse_on_container) return (this.active_field = !1, setTimeout(function () { return n.blur_test() }, 100)) }, t.prototype.results_option_build = function (n) { var u, t, i, f, r, o, e; for (u = "", f = 0, e = this.results_data, r = 0, o = e.length; o > r && (t = e[r], i = "", i = t.group ? this.result_add_group(t) : this.result_add_option(t), "" !== i && (f++ , u += i), (null != n ? n.first : void 0) && (t.selected && this.is_multiple ? this.choice_build(t) : t.selected && !this.is_multiple && this.single_set_selected_text(this.choice_label(t))), !(f >= this.max_shown_results)); r++); return u }, t.prototype.result_add_option = function (n) { var t, i; return n.search_match && this.include_option_in_results(n) ? (t = [], n.disabled || n.selected && this.is_multiple || t.push("active-result"), !n.disabled || n.selected && this.is_multiple || t.push("disabled-result"), n.selected && t.push("result-selected"), null != n.group_array_index && t.push("group-option"), "" !== n.classes && t.push(n.classes), i = document.createElement("li"), i.className = t.join(" "), i.style.cssText = n.style, i.setAttribute("data-option-array-index", n.array_index), i.innerHTML = n.search_text, n.title && (i.title = n.title), this.outerHTML(i)) : "" }, t.prototype.result_add_group = function (n) { var i, t; return (n.search_match || n.group_match) && n.active_options > 0 ? (i = [], i.push("group-result"), n.classes && i.push(n.classes), t = document.createElement("li"), t.className = i.join(" "), t.innerHTML = n.search_text, n.title && (t.title = n.title), this.outerHTML(t)) : "" }, t.prototype.results_update_field = function () { return this.set_default_text(), this.is_multiple || this.results_reset_cleanup(), this.result_clear_highlight(), this.results_build(), this.results_showing ? this.winnow_results() : void 0 }, t.prototype.reset_single_select_options = function () { var i, n, u, r, t; for (r = this.results_data, t = [], n = 0, u = r.length; u > n; n++)i = r[n], i.selected ? t.push(i.selected = !1) : t.push(void 0); return t }, t.prototype.results_toggle = function () { return this.results_showing ? this.results_hide() : this.results_show() }, t.prototype.results_search = function () { return this.results_showing ? this.winnow_results() : this.results_show() }, t.prototype.winnow_results = function () { var e, n, h, u, t, i, r, o, c, f, l, s; for (this.no_results_clear(), u = 0, i = this.get_search_text(), e = i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&"), c = new RegExp(e, "i"), h = this.get_search_regex(e), s = this.results_data, f = 0, l = s.length; l > f; f++)n = s[f], n.search_match = !1, t = null, this.include_option_in_results(n) && (n.group && (n.group_match = !1, n.active_options = 0), null != n.group_array_index && this.results_data[n.group_array_index] && (t = this.results_data[n.group_array_index], 0 === t.active_options && t.search_match && (u += 1), t.active_options += 1), n.search_text = n.group ? n.label : n.html, (!n.group || this.group_search) && (n.search_match = this.search_string_match(n.search_text, h), n.search_match && !n.group && (u += 1), n.search_match ? (i.length && (r = n.search_text.search(c), o = n.search_text.substr(0, r + i.length) + "<\/em>" + n.search_text.substr(r + i.length), n.search_text = o.substr(0, r) + "<em>" + o.substr(r)), null != t && (t.group_match = !0)) : null != n.group_array_index && this.results_data[n.group_array_index].search_match && (n.search_match = !0))); return this.result_clear_highlight(), 1 > u && i.length ? (this.update_results_content(""), this.no_results(i)) : (this.update_results_content(this.results_option_build()), this.winnow_results_set_highlight()) }, t.prototype.get_search_regex = function (n) { var t; return t = this.search_contains ? "" : "^", new RegExp(t + n, "i") }, t.prototype.search_string_match = function (n, t) { var u, i, r, f; if (t.test(n)) return !0; if (this.enable_split_word_search && (n.indexOf(" ") >= 0 || 0 === n.indexOf("[")) && (i = n.replace(/\[|\]/g, "").split(" "), i.length)) for (r = 0, f = i.length; f > r; r++)if (u = i[r], t.test(u)) return !0 }, t.prototype.choices_count = function () { var i, n, r, t; if (null != this.selected_option_count) return this.selected_option_count; for (this.selected_option_count = 0, t = this.form_field.options, n = 0, r = t.length; r > n; n++)i = t[n], i.selected && (this.selected_option_count += 1); return this.selected_option_count }, t.prototype.choices_click = function (n) { return n.preventDefault(), this.results_showing || this.is_disabled ? void 0 : this.results_show() }, t.prototype.keyup_checker = function (n) { var t, i; switch (t = null != (i = n.which) ? i : n.keyCode, this.search_field_scale(), t) { case 8: if (this.is_multiple && this.backstroke_length < 1 && this.choices_count() > 0) return this.keydown_backstroke(); if (!this.pending_backstroke) return this.result_clear_highlight(), this.results_search(); break; case 13: if (n.preventDefault(), this.results_showing) return this.result_select(n); break; case 27: return this.results_showing && this.results_hide(), !0; case 9: case 38: case 40: case 16: case 91: case 17: case 18: break; default: return this.results_search() } }, t.prototype.clipboard_event_checker = function () { var n = this; return setTimeout(function () { return n.results_search() }, 50) }, t.prototype.container_width = function () { return null != this.options.width ? this.options.width : "" + this.form_field.offsetWidth + "px" }, t.prototype.include_option_in_results = function (n) { return this.is_multiple && !this.display_selected_options && n.selected ? !1 : !this.display_disabled_options && n.disabled ? !1 : n.empty ? !1 : !0 }, t.prototype.search_results_touchstart = function (t) { return this.touch_started = !0, this.touch_started_offset = n(t.target).offset().top, this.touch_length = 0, this.search_results_mouseover(t) }, t.prototype.search_results_touchmove = function (t) { var i; return this.touch_started = !1, i = n(t.target).offset().top, this.touch_length += Math.abs(this.touch_started_offset - i), this.touch_started_offset = i, this.search_results_mouseout(t) }, t.prototype.search_results_touchend = function (t) { var i, r; return i = n(t.target).offset().top, this.touch_length += Math.abs(this.touch_started_offset - i), r = 3, this.touch_started || this.touch_length <= r ? this.search_results_mouseup(t) : void 0 }, t.prototype.outerHTML = function (n) { var t; return n.outerHTML ? n.outerHTML : (t = document.createElement("div"), t.appendChild(n), t.innerHTML) }, t.browser_is_supported = function () { return /iP(od|hone)/i.test(window.navigator.userAgent) ? !1 : /Android/i.test(window.navigator.userAgent) && /Mobile/i.test(window.navigator.userAgent) ? !1 : /IEMobile/i.test(window.navigator.userAgent) ? !1 : /Windows Phone/i.test(window.navigator.userAgent) ? !1 : /BlackBerry/i.test(window.navigator.userAgent) ? !1 : /BB10/i.test(window.navigator.userAgent) ? !1 : "Microsoft Internet Explorer" === window.navigator.appName ? document.documentMode >= 8 : !0 }, t.default_multiple_text = "Select Some Options", t.default_single_text = "Select an Option", t.default_no_result_text = "No results match", t }(); n = jQuery; n.fn.extend({ chosen: function (i) { return r.browser_is_supported() ? this.each(function () { var u, r; return u = n(this), r = u.data("chosen"), "destroy" === i ? void (r instanceof t && r.destroy()) : void (r instanceof t || u.data("chosen", new t(this, i))) }) : this } }); t = function (t) { function r() { return u = r.__super__.constructor.apply(this, arguments) } return e(r, t), r.prototype.setup = function () { return this.form_field_jq = n(this.form_field), this.current_selectedIndex = this.form_field.selectedIndex, this.is_rtl = this.form_field_jq.hasClass("chosen-rtl") }, r.prototype.set_up_html = function () { var t, i; return t = ["chosen-container"], t.push("chosen-container-" + (this.is_multiple ? "multi" : "single")), this.inherit_select_classes && this.form_field.className && t.push(this.form_field.className), this.is_rtl && t.push("chosen-rtl"), i = { "class": t.join(" "), style: "width: " + this.container_width() + ";", title: this.form_field.title }, this.form_field.id.length && (i.id = this.form_field.id.replace(/[^\w]/g, "_") + "_chosen"), this.container = n("<div />", i), this.is_multiple ? this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="' + this.default_text + '" class="default" autocomplete="off" style="width:25px;" /><\/li><\/ul><div class="chosen-drop"><ul class="chosen-results"><\/ul><\/div>') : this.container.html('<a class="chosen-single chosen-default"><span>' + this.default_text + '<\/span><div><b><\/b><\/div><\/a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /><\/div><ul class="chosen-results"><\/ul><\/div>'), this.form_field_jq.hide().after(this.container), this.dropdown = this.container.find("div.chosen-drop").first(), this.search_field = this.container.find("input").first(), this.search_results = this.container.find("ul.chosen-results").first(), this.search_field_scale(), this.search_no_results = this.container.find("li.no-results").first(), this.is_multiple ? (this.search_choices = this.container.find("ul.chosen-choices").first(), this.search_container = this.container.find("li.search-field").first()) : (this.search_container = this.container.find("div.chosen-search").first(), this.selected_item = this.container.find(".chosen-single").first()), this.results_build(), this.set_tab_index(), this.set_label_behavior() }, r.prototype.on_ready = function () { return this.form_field_jq.trigger("chosen:ready", { chosen: this }) }, r.prototype.register_observers = function () { var n = this; return this.container.bind("touchstart.chosen", function (t) { return n.container_mousedown(t) }), this.container.bind("touchend.chosen", function (t) { return n.container_mouseup(t), t.preventDefault() }), this.container.bind("mousedown.chosen", function (t) { n.container_mousedown(t) }), this.container.bind("mouseup.chosen", function (t) { n.container_mouseup(t) }), this.container.bind("mouseenter.chosen", function (t) { n.mouse_enter(t) }), this.container.bind("mouseleave.chosen", function (t) { n.mouse_leave(t) }), this.search_results.bind("mouseup.chosen", function (t) { n.search_results_mouseup(t) }), this.search_results.bind("mouseover.chosen", function (t) { n.search_results_mouseover(t) }), this.search_results.bind("mouseout.chosen", function (t) { n.search_results_mouseout(t) }), this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen", function (t) { n.search_results_mousewheel(t) }), this.search_results.bind("touchstart.chosen", function (t) { n.search_results_touchstart(t) }), this.search_results.bind("touchmove.chosen", function (t) { n.search_results_touchmove(t) }), this.search_results.bind("touchend.chosen", function (t) { n.search_results_touchend(t) }), this.form_field_jq.bind("chosen:updated.chosen", function (t) { n.results_update_field(t) }), this.form_field_jq.bind("chosen:activate.chosen", function (t) { n.activate_field(t) }), this.form_field_jq.bind("chosen:open.chosen", function (t) { n.container_mousedown(t) }), this.form_field_jq.bind("chosen:close.chosen", function (t) { n.input_blur(t) }), this.search_field.bind("blur.chosen", function (t) { n.input_blur(t) }), this.search_field.bind("keyup.chosen", function (t) { n.keyup_checker(t) }), this.search_field.bind("keydown.chosen", function (t) { n.keydown_checker(t) }), this.search_field.bind("focus.chosen", function (t) { n.input_focus(t) }), this.search_field.bind("cut.chosen", function (t) { n.clipboard_event_checker(t) }), this.search_field.bind("paste.chosen", function (t) { n.clipboard_event_checker(t) }), this.is_multiple ? this.search_choices.bind("click.chosen", function (t) { n.choices_click(t) }) : this.container.bind("click.chosen", function (n) { n.preventDefault() }) }, r.prototype.destroy = function () { return n(this.container[0].ownerDocument).unbind("click.chosen", this.click_test_action), this.search_field[0].tabIndex && (this.form_field_jq[0].tabIndex = this.search_field[0].tabIndex), this.container.remove(), this.form_field_jq.removeData("chosen"), this.form_field_jq.show() }, r.prototype.search_field_disabled = function () { return this.is_disabled = this.form_field_jq[0].disabled, this.is_disabled ? (this.container.addClass("chosen-disabled"), this.search_field[0].disabled = !0, this.is_multiple || this.selected_item.unbind("focus.chosen", this.activate_action), this.close_field()) : (this.container.removeClass("chosen-disabled"), this.search_field[0].disabled = !1, this.is_multiple ? void 0 : this.selected_item.bind("focus.chosen", this.activate_action)) }, r.prototype.container_mousedown = function (t) { if (!this.is_disabled && (t && "mousedown" === t.type && !this.results_showing && t.preventDefault(), null == t || !n(t.target).hasClass("search-choice-close"))) return (this.active_field ? this.is_multiple || !t || n(t.target)[0] !== this.selected_item[0] && !n(t.target).parents("a.chosen-single").length || (t.preventDefault(), this.results_toggle()) : (this.is_multiple && this.search_field.val(""), n(this.container[0].ownerDocument).bind("click.chosen", this.click_test_action), this.results_show()), this.activate_field()) }, r.prototype.container_mouseup = function (n) { if ("ABBR" === n.target.nodeName && !this.is_disabled) return this.results_reset(n) }, r.prototype.search_results_mousewheel = function (n) { var t; return n.originalEvent && (t = n.originalEvent.deltaY || -n.originalEvent.wheelDelta || n.originalEvent.detail), null != t ? (n.preventDefault(), "DOMMouseScroll" === n.type && (t = 40 * t), this.search_results.scrollTop(t + this.search_results.scrollTop())) : void 0 }, r.prototype.blur_test = function () { if (!this.active_field && this.container.hasClass("chosen-container-active")) return this.close_field() }, r.prototype.close_field = function () { return n(this.container[0].ownerDocument).unbind("click.chosen", this.click_test_action), this.active_field = !1, this.results_hide(), this.container.removeClass("chosen-container-active"), this.clear_backstroke(), this.show_search_field_default(), this.search_field_scale() }, r.prototype.activate_field = function () { return this.container.addClass("chosen-container-active"), this.active_field = !0, this.search_field.val(this.search_field.val()), this.search_field.focus() }, r.prototype.test_active_click = function (t) { var i; return i = n(t.target).closest(".chosen-container"), i.length && this.container[0] === i[0] ? this.active_field = !0 : this.close_field() }, r.prototype.results_build = function () { return this.parsing = !0, this.selected_option_count = null, this.results_data = i.select_to_array(this.form_field), this.is_multiple ? this.search_choices.find("li.search-choice").remove() : this.is_multiple || (this.single_set_selected_text(), this.disable_search || this.form_field.options.length <= this.disable_search_threshold ? (this.search_field[0].readOnly = !0, this.container.addClass("chosen-container-single-nosearch")) : (this.search_field[0].readOnly = !1, this.container.removeClass("chosen-container-single-nosearch"))), this.update_results_content(this.results_option_build({ first: !0 })), this.search_field_disabled(), this.show_search_field_default(), this.search_field_scale(), this.parsing = !1 }, r.prototype.result_do_highlight = function (n) { var t, i, r, f, u; if (n.length) { if (this.result_clear_highlight(), this.result_highlight = n, this.result_highlight.addClass("highlighted"), r = parseInt(this.search_results.css("maxHeight"), 10), u = this.search_results.scrollTop(), f = r + u, i = this.result_highlight.position().top + this.search_results.scrollTop(), t = i + this.result_highlight.outerHeight(), t >= f) return this.search_results.scrollTop(t - r > 0 ? t - r : 0); if (u > i) return this.search_results.scrollTop(i) } }, r.prototype.result_clear_highlight = function () { return this.result_highlight && this.result_highlight.removeClass("highlighted"), this.result_highlight = null }, r.prototype.results_show = function () { return this.is_multiple && this.max_selected_options <= this.choices_count() ? (this.form_field_jq.trigger("chosen:maxselected", { chosen: this }), !1) : (this.container.addClass("chosen-with-drop"), this.results_showing = !0, this.search_field.focus(), this.search_field.val(this.search_field.val()), this.winnow_results(), this.form_field_jq.trigger("chosen:showing_dropdown", { chosen: this })) }, r.prototype.update_results_content = function (n) { return this.search_results.html(n) }, r.prototype.results_hide = function () { return this.results_showing && (this.result_clear_highlight(), this.container.removeClass("chosen-with-drop"), this.form_field_jq.trigger("chosen:hiding_dropdown", { chosen: this })), this.results_showing = !1 }, r.prototype.set_tab_index = function () { var n; if (this.form_field.tabIndex) return (n = this.form_field.tabIndex, this.form_field.tabIndex = -1, this.search_field[0].tabIndex = n) }, r.prototype.set_label_behavior = function () { var t = this; return this.form_field_label = this.form_field_jq.parents("label"), !this.form_field_label.length && this.form_field.id.length && (this.form_field_label = n("label[for='" + this.form_field.id + "']")), this.form_field_label.length > 0 ? this.form_field_label.bind("click.chosen", function (n) { return t.is_multiple ? t.container_mousedown(n) : t.activate_field() }) : void 0 }, r.prototype.show_search_field_default = function () { return this.is_multiple && this.choices_count() < 1 && !this.active_field ? (this.search_field.val(this.default_text), this.search_field.addClass("default")) : (this.search_field.val(""), this.search_field.removeClass("default")) }, r.prototype.search_results_mouseup = function (t) { var i; return i = n(t.target).hasClass("active-result") ? n(t.target) : n(t.target).parents(".active-result").first(), i.length ? (this.result_highlight = i, this.result_select(t), this.search_field.focus()) : void 0 }, r.prototype.search_results_mouseover = function (t) { var i; return i = n(t.target).hasClass("active-result") ? n(t.target) : n(t.target).parents(".active-result").first(), i ? this.result_do_highlight(i) : void 0 }, r.prototype.search_results_mouseout = function (t) { if (n(t.target).hasClass("active-result")) return this.result_clear_highlight() }, r.prototype.choice_build = function (t) { var i, r, u = this; return i = n("<li />", { "class": "search-choice" }).html("<span>" + this.choice_label(t) + "<\/span>"), t.disabled ? i.addClass("search-choice-disabled") : (r = n("<a />", { "class": "search-choice-close", "data-option-array-index": t.array_index }), r.bind("click.chosen", function (n) { return u.choice_destroy_link_click(n) }), i.append(r)), this.search_container.before(i) }, r.prototype.choice_destroy_link_click = function (t) { return t.preventDefault(), t.stopPropagation(), this.is_disabled ? void 0 : this.choice_destroy(n(t.target)) }, r.prototype.choice_destroy = function (n) { if (this.result_deselect(n[0].getAttribute("data-option-array-index"))) return (this.show_search_field_default(), this.is_multiple && this.choices_count() > 0 && this.search_field.val().length < 1 && this.results_hide(), n.parents("li").first().remove(), this.search_field_scale()) }, r.prototype.results_reset = function () { return this.reset_single_select_options(), this.form_field.options[0].selected = !0, this.single_set_selected_text(), this.show_search_field_default(), this.results_reset_cleanup(), this.form_field_jq.trigger("change"), this.active_field ? this.results_hide() : void 0 }, r.prototype.results_reset_cleanup = function () { return this.current_selectedIndex = this.form_field.selectedIndex, this.selected_item.find("abbr").remove() }, r.prototype.result_select = function (n) { var i, t; if (this.result_highlight) return (i = this.result_highlight, this.result_clear_highlight(), this.is_multiple && this.max_selected_options <= this.choices_count() ? (this.form_field_jq.trigger("chosen:maxselected", { chosen: this }), !1) : (this.is_multiple ? i.removeClass("active-result") : this.reset_single_select_options(), i.addClass("result-selected"), t = this.results_data[i[0].getAttribute("data-option-array-index")], t.selected = !0, this.form_field.options[t.options_index].selected = !0, this.selected_option_count = null, this.is_multiple ? this.choice_build(t) : this.single_set_selected_text(this.choice_label(t)), (n.metaKey || n.ctrlKey) && this.is_multiple || this.results_hide(), this.show_search_field_default(), (this.is_multiple || this.form_field.selectedIndex !== this.current_selectedIndex) && this.form_field_jq.trigger("change", { selected: this.form_field.options[t.options_index].value }), this.current_selectedIndex = this.form_field.selectedIndex, n.preventDefault(), this.search_field_scale())) }, r.prototype.single_set_selected_text = function (n) { return null == n && (n = this.default_text), n === this.default_text ? this.selected_item.addClass("chosen-default") : (this.single_deselect_control_build(), this.selected_item.removeClass("chosen-default")), this.selected_item.find("span").html(n) }, r.prototype.result_deselect = function (n) { var t; return t = this.results_data[n], this.form_field.options[t.options_index].disabled ? !1 : (t.selected = !1, this.form_field.options[t.options_index].selected = !1, this.selected_option_count = null, this.result_clear_highlight(), this.results_showing && this.winnow_results(), this.form_field_jq.trigger("change", { deselected: this.form_field.options[t.options_index].value }), this.search_field_scale(), !0) }, r.prototype.single_deselect_control_build = function () { if (this.allow_single_deselect) return (this.selected_item.find("abbr").length || this.selected_item.find("span").first().after('<abbr class="search-choice-close"><\/abbr>'), this.selected_item.addClass("chosen-single-with-deselect")) }, r.prototype.get_search_text = function () { return n("<div/>").text(n.trim(this.search_field.val())).html() }, r.prototype.winnow_results_set_highlight = function () { var n, t; return t = this.is_multiple ? [] : this.search_results.find(".result-selected.active-result"), n = t.length ? t.first() : this.search_results.find(".active-result").first(), null != n ? this.result_do_highlight(n) : void 0 }, r.prototype.no_results = function (t) { var i; return i = n('<li class="no-results">' + this.results_none_found + ' "<span><\/span>"<\/li>'), i.find("span").first().html(t), this.search_results.append(i), this.form_field_jq.trigger("chosen:no_results", { chosen: this }) }, r.prototype.no_results_clear = function () { return this.search_results.find(".no-results").remove() }, r.prototype.keydown_arrow = function () { var n; return this.results_showing && this.result_highlight ? (n = this.result_highlight.nextAll("li.active-result").first()) ? this.result_do_highlight(n) : void 0 : this.results_show() }, r.prototype.keyup_arrow = function () { var n; return this.results_showing || this.is_multiple ? this.result_highlight ? (n = this.result_highlight.prevAll("li.active-result"), n.length ? this.result_do_highlight(n.first()) : (this.choices_count() > 0 && this.results_hide(), this.result_clear_highlight())) : void 0 : this.results_show() }, r.prototype.keydown_backstroke = function () { var n; return this.pending_backstroke ? (this.choice_destroy(this.pending_backstroke.find("a").first()), this.clear_backstroke()) : (n = this.search_container.siblings("li.search-choice").last(), n.length && !n.hasClass("search-choice-disabled") ? (this.pending_backstroke = n, this.single_backstroke_delete ? this.keydown_backstroke() : this.pending_backstroke.addClass("search-choice-focus")) : void 0) }, r.prototype.clear_backstroke = function () { return this.pending_backstroke && this.pending_backstroke.removeClass("search-choice-focus"), this.pending_backstroke = null }, r.prototype.keydown_checker = function (n) { var t, i; switch (t = null != (i = n.which) ? i : n.keyCode, this.search_field_scale(), 8 !== t && this.pending_backstroke && this.clear_backstroke(), t) { case 8: this.backstroke_length = this.search_field.val().length; break; case 9: this.results_showing && !this.is_multiple && this.result_select(n); this.mouse_on_container = !1; break; case 13: this.results_showing && n.preventDefault(); break; case 32: this.disable_search && n.preventDefault(); break; case 38: n.preventDefault(); this.keyup_arrow(); break; case 40: n.preventDefault(); this.keydown_arrow() } }, r.prototype.search_field_scale = function () { var t, u, h, f, e, o, i, r, s; if (this.is_multiple) { for (h = 0, i = 0, e = "position:absolute; left: -1000px; top: -1000px; display:none;", o = ["font-size", "font-style", "font-weight", "font-family", "line-height", "text-transform", "letter-spacing"], r = 0, s = o.length; s > r; r++)f = o[r], e += f + ":" + this.search_field.css(f) + ";"; return t = n("<div />", { style: e }), t.text(this.search_field.val()), n("body").append(t), i = t.width() + 25, t.remove(), u = this.container.outerWidth(), i > u - 10 && (i = u - 10), this.search_field.css({ width: i + "px" }) } }, r }(r) }.call(this), function (n, t, i) { function h(t, i) { this.bodyOverflowX; this.callbacks = { hide: [], show: [] }; this.checkInterval = null; this.Content; this.$el = n(t); this.$elProxy; this.elProxyPosition; this.enabled = !0; this.options = n.extend({}, f, i); this.mouseIsOverProxy = !1; this.namespace = "tooltipster-" + Math.round(Math.random() * 1e5); this.Status = "hidden"; this.timerHide = null; this.timerShow = null; this.$tooltip; this.options.iconTheme = this.options.iconTheme.replace(".", ""); this.options.theme = this.options.theme.replace(".", ""); this._init() } function e(t, i) { var r = !0; return n.each(t, function (n) { if (typeof i[n] == "undefined" || t[n] !== i[n]) return r = !1, !1 }), r } function o() { return !s && r } function u() { var u = i.body || i.documentElement, r = u.style, n = "transition", t; if (typeof r[n] == "string") return !0; for (v = ["Moz", "Webkit", "Khtml", "O", "ms"], n = n.charAt(0).toUpperCase() + n.substr(1), t = 0; t < v.length; t++)if (typeof r[v[t] + n] == "string") return !0; return !1 } var f = { animation: "fade", arrow: !0, arrowColor: "", autoClose: !0, content: null, contentAsHTML: !1, contentCloning: !0, debug: !0, delay: 200, minWidth: 0, maxWidth: null, functionInit: function () { }, functionBefore: function (n, t) { t() }, functionReady: function () { }, functionAfter: function () { }, hideOnClick: !1, icon: "(?)", iconCloning: !0, iconDesktop: !1, iconTouch: !1, iconTheme: "tooltipster-icon", interactive: !1, interactiveTolerance: 350, multiple: !1, offsetX: 0, offsetY: 0, onlyOne: !1, position: "top", positionTracker: !1, positionTrackerCallback: function () { this.option("trigger") == "hover" && this.option("autoClose") && this.hide() }, restoration: "current", speed: 350, timer: 0, theme: "tooltipster-default", touchDevices: !0, trigger: "hover", updateAnimation: !0 }, r, s; h.prototype = { _init: function () { var t = this, u, f; if (i.querySelector) if (u = null, t.$el.data("tooltipster-initialTitle") === undefined && (u = t.$el.attr("title"), u === undefined && (u = null), t.$el.data("tooltipster-initialTitle", u)), t.options.content !== null ? t._content_set(t.options.content) : t._content_set(u), f = t.options.functionInit.call(t.$el, t.$el, t.Content), typeof f != "undefined" && t._content_set(f), t.$el.removeAttr("title").addClass("tooltipstered"), !r && t.options.iconDesktop || r && t.options.iconTouch ? (typeof t.options.icon == "string" ? (t.$elProxy = n('<span class="' + t.options.iconTheme + '"><\/span>'), t.$elProxy.text(t.options.icon)) : t.$elProxy = t.options.iconCloning ? t.options.icon.clone(!0) : t.options.icon, t.$elProxy.insertAfter(t.$el)) : t.$elProxy = t.$el, t.options.trigger == "hover") { t.$elProxy.on("mouseenter." + t.namespace, function () { (!o() || t.options.touchDevices) && (t.mouseIsOverProxy = !0, t._show()) }).on("mouseleave." + t.namespace, function () { (!o() || t.options.touchDevices) && (t.mouseIsOverProxy = !1) }); if (r && t.options.touchDevices) t.$elProxy.on("touchstart." + t.namespace, function () { t._showNow() }) } else if (t.options.trigger == "click") t.$elProxy.on("click." + t.namespace, function () { (!o() || t.options.touchDevices) && t._show() }) }, _show: function () { var n = this; n.Status != "shown" && n.Status != "appearing" && (n.options.delay ? n.timerShow = setTimeout(function () { (n.options.trigger == "click" || n.options.trigger == "hover" && n.mouseIsOverProxy) && n._showNow() }, n.options.delay) : n._showNow()) }, _showNow: function (i) { var f = this; f.options.functionBefore.call(f.$el, f.$el, function () { var e, s, o; if (f.enabled && f.Content !== null) { if (i && f.callbacks.show.push(i), f.callbacks.hide = [], clearTimeout(f.timerShow), f.timerShow = null, clearTimeout(f.timerHide), f.timerHide = null, f.options.onlyOne && n(".tooltipstered").not(f.$el).each(function (t, i) { var r = n(i), u = r.data("tooltipster-ns"); n.each(u, function (n, t) { var i = r.data(t), u = i.status(), f = i.option("autoClose"); u !== "hidden" && u !== "disappearing" && f && i.hide() }) }), e = function () { f.Status = "shown"; n.each(f.callbacks.show, function (n, t) { t.call(f.$el) }); f.callbacks.show = [] }, f.Status !== "hidden") s = 0, f.Status === "disappearing" ? (f.Status = "appearing", u() ? (f.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-" + f.options.animation + "-show"), f.options.speed > 0 && f.$tooltip.delay(f.options.speed), f.$tooltip.queue(e)) : f.$tooltip.stop().fadeIn(e)) : f.Status === "shown" && e(); else { f.Status = "appearing"; s = f.options.speed; f.bodyOverflowX = n("body").css("overflow-x"); n("body").css("overflow-x", "hidden"); var h = "tooltipster-" + f.options.animation, c = "-webkit-transition-duration: " + f.options.speed + "ms; -webkit-animation-duration: " + f.options.speed + "ms; -moz-transition-duration: " + f.options.speed + "ms; -moz-animation-duration: " + f.options.speed + "ms; -o-transition-duration: " + f.options.speed + "ms; -o-animation-duration: " + f.options.speed + "ms; -ms-transition-duration: " + f.options.speed + "ms; -ms-animation-duration: " + f.options.speed + "ms; transition-duration: " + f.options.speed + "ms; animation-duration: " + f.options.speed + "ms;", l = f.options.minWidth ? "min-width:" + Math.round(f.options.minWidth) + "px;" : "", a = f.options.maxWidth ? "max-width:" + Math.round(f.options.maxWidth) + "px;" : "", v = f.options.interactive ? "pointer-events: auto;" : ""; f.$tooltip = n('<div class="tooltipster-base ' + f.options.theme + '" style="' + l + " " + a + " " + v + " " + c + '"><div class="tooltipster-content"><\/div><\/div>'); u() && f.$tooltip.addClass(h); f._content_insert(); f.$tooltip.appendTo("body"); f.reposition(); f.options.functionReady.call(f.$el, f.$el, f.$tooltip); u() ? (f.$tooltip.addClass(h + "-show"), f.options.speed > 0 && f.$tooltip.delay(f.options.speed), f.$tooltip.queue(e)) : f.$tooltip.css("display", "none").fadeIn(f.options.speed, e); f._interval_set(); n(t).on("scroll." + f.namespace + " resize." + f.namespace, function () { f.reposition() }); if (f.options.autoClose) if (n("body").off("." + f.namespace), f.options.trigger == "hover") { if (r && setTimeout(function () { n("body").on("touchstart." + f.namespace, function () { f.hide() }) }, 0), f.options.interactive) { if (r) f.$tooltip.on("touchstart." + f.namespace, function (n) { n.stopPropagation() }); o = null; f.$elProxy.add(f.$tooltip).on("mouseleave." + f.namespace + "-autoClose", function () { clearTimeout(o); o = setTimeout(function () { f.hide() }, f.options.interactiveTolerance) }).on("mouseenter." + f.namespace + "-autoClose", function () { clearTimeout(o) }) } else f.$elProxy.on("mouseleave." + f.namespace + "-autoClose", function () { f.hide() }); if (f.options.hideOnClick) f.$elProxy.on("click." + f.namespace + "-autoClose", function () { f.hide() }) } else if (f.options.trigger == "click" && (setTimeout(function () { n("body").on("click." + f.namespace + " touchstart." + f.namespace, function () { f.hide() }) }, 0), f.options.interactive)) f.$tooltip.on("click." + f.namespace + " touchstart." + f.namespace, function (n) { n.stopPropagation() }) } f.options.timer > 0 && (f.timerHide = setTimeout(function () { f.timerHide = null; f.hide() }, f.options.timer + s)) } }) }, _interval_set: function () { var t = this; t.checkInterval = setInterval(function () { if (n("body").find(t.$el).length === 0 || n("body").find(t.$elProxy).length === 0 || t.Status == "hidden" || n("body").find(t.$tooltip).length === 0) (t.Status == "shown" || t.Status == "appearing") && t.hide(), t._interval_cancel(); else if (t.options.positionTracker) { var i = t._repositionInfo(t.$elProxy), r = !1; e(i.dimension, t.elProxyPosition.dimension) && (t.$elProxy.css("position") === "fixed" ? e(i.position, t.elProxyPosition.position) && (r = !0) : e(i.offset, t.elProxyPosition.offset) && (r = !0)); r || (t.reposition(), t.options.positionTrackerCallback.call(t, t.$el)) } }, 200) }, _interval_cancel: function () { clearInterval(this.checkInterval); this.checkInterval = null }, _content_set: function (n) { typeof n == "object" && n !== null && this.options.contentCloning && (n = n.clone(!0)); this.Content = n }, _content_insert: function () { var n = this, t = this.$tooltip.find(".tooltipster-content"); typeof n.Content != "string" || n.options.contentAsHTML ? t.empty().append(n.Content) : t.text(n.Content) }, _update: function (n) { var t = this; t._content_set(n); t.Content !== null ? t.Status !== "hidden" && (t._content_insert(), t.reposition(), t.options.updateAnimation && (u() ? (t.$tooltip.css({ width: "", "-webkit-transition": "all " + t.options.speed + "ms, width 0ms, height 0ms, left 0ms, top 0ms", "-moz-transition": "all " + t.options.speed + "ms, width 0ms, height 0ms, left 0ms, top 0ms", "-o-transition": "all " + t.options.speed + "ms, width 0ms, height 0ms, left 0ms, top 0ms", "-ms-transition": "all " + t.options.speed + "ms, width 0ms, height 0ms, left 0ms, top 0ms", transition: "all " + t.options.speed + "ms, width 0ms, height 0ms, left 0ms, top 0ms" }).addClass("tooltipster-content-changing"), setTimeout(function () { t.Status != "hidden" && (t.$tooltip.removeClass("tooltipster-content-changing"), setTimeout(function () { t.Status !== "hidden" && t.$tooltip.css({ "-webkit-transition": t.options.speed + "ms", "-moz-transition": t.options.speed + "ms", "-o-transition": t.options.speed + "ms", "-ms-transition": t.options.speed + "ms", transition: t.options.speed + "ms" }) }, t.options.speed)) }, t.options.speed)) : t.$tooltip.fadeTo(t.options.speed, .5, function () { t.Status != "hidden" && t.$tooltip.fadeTo(t.options.speed, 1) }))) : t.hide() }, _repositionInfo: function (n) { return { dimension: { height: n.outerHeight(!1), width: n.outerWidth(!1) }, offset: n.offset(), position: { left: parseInt(n.css("left")), top: parseInt(n.css("top")) } } }, hide: function (i) { var r = this, f, e; return i && r.callbacks.hide.push(i), r.callbacks.show = [], clearTimeout(r.timerShow), r.timerShow = null, clearTimeout(r.timerHide), r.timerHide = null, f = function () { n.each(r.callbacks.hide, function (n, t) { t.call(r.$el) }); r.callbacks.hide = [] }, r.Status == "shown" || r.Status == "appearing" ? (r.Status = "disappearing", e = function () { r.Status = "hidden"; typeof r.Content == "object" && r.Content !== null && r.Content.detach(); r.$tooltip.remove(); r.$tooltip = null; n(t).off("." + r.namespace); n("body").off("." + r.namespace).css("overflow-x", r.bodyOverflowX); n("body").off("." + r.namespace); r.$elProxy.off("." + r.namespace + "-autoClose"); r.options.functionAfter.call(r.$el, r.$el); f() }, u() ? (r.$tooltip.clearQueue().removeClass("tooltipster-" + r.options.animation + "-show").addClass("tooltipster-dying"), r.options.speed > 0 && r.$tooltip.delay(r.options.speed), r.$tooltip.queue(e)) : r.$tooltip.stop().fadeOut(r.options.speed, e)) : r.Status == "hidden" && f(), r }, show: function (n) { return this._showNow(n), this }, update: function (n) { return this.content(n) }, content: function (n) { return typeof n == "undefined" ? this.Content : (this._update(n), this) }, reposition: function () { var r = this, k, y, vt, p, ut, ft, w, dt, a, nt, kt, tt, gt, ni; if (n("body").find(r.$tooltip).length !== 0) { r.$tooltip.css("width", ""); r.elProxyPosition = r._repositionInfo(r.$elProxy); var o = null, b = n(t).width(), i = r.elProxyPosition, e = r.$tooltip.outerWidth(!1), ui = r.$tooltip.innerWidth() + 1, c = r.$tooltip.outerHeight(!1); if (r.$elProxy.is("area")) { var yt = r.$elProxy.attr("shape"), ti = r.$elProxy.parent().attr("name"), et = n('img[usemap="#' + ti + '"]'), ot = et.offset().left, st = et.offset().top, v = r.$elProxy.attr("coords") !== undefined ? r.$elProxy.attr("coords").split(",") : undefined; if (yt == "circle") { var pt = parseInt(v[0]), wt = parseInt(v[1]), ht = parseInt(v[2]); i.dimension.height = ht * 2; i.dimension.width = ht * 2; i.offset.top = st + wt - ht; i.offset.left = ot + pt - ht } else if (yt == "rect") { var pt = parseInt(v[0]), wt = parseInt(v[1]), ii = parseInt(v[2]), ri = parseInt(v[3]); i.dimension.height = ri - wt; i.dimension.width = ii - pt; i.offset.top = st + wt; i.offset.left = ot + pt } else if (yt == "poly") { var it = 0, rt = 0, ct = 0, lt = 0, bt = "even"; for (k = 0; k < v.length; k++)y = parseInt(v[k]), bt == "even" ? (y > ct && (ct = y, k === 0 && (it = ct)), y < it && (it = y), bt = "odd") : (y > lt && (lt = y, k == 1 && (rt = lt)), y < rt && (rt = y), bt = "even"); i.dimension.height = lt - rt; i.dimension.width = ct - it; i.offset.top = st + rt; i.offset.left = ot + it } else i.dimension.height = et.outerHeight(!1), i.dimension.width = et.outerWidth(!1), i.offset.top = st, i.offset.left = ot } var u = 0, at = 0, l = 0, s = parseInt(r.options.offsetY), h = parseInt(r.options.offsetX), f = r.options.position; function d() { var i = n(t).scrollLeft(); u - i < 0 && (o = u - i, u = i); u + e - i > b && (o = u - (b + i - e), u = b + i - e) } function g(r, u) { i.offset.top - n(t).scrollTop() - c - s - 12 < 0 && u.indexOf("top") > -1 && (f = r); i.offset.top + i.dimension.height + c + 12 + s > n(t).scrollTop() + n(t).height() && u.indexOf("bottom") > -1 && (f = r, l = i.offset.top - c - s - 12) } f == "top" && (vt = i.offset.left + e - (i.offset.left + i.dimension.width), u = i.offset.left + h - vt / 2, l = i.offset.top - c - s - 12, d(), g("bottom", "top")); f == "top-left" && (u = i.offset.left + h, l = i.offset.top - c - s - 12, d(), g("bottom-left", "top-left")); f == "top-right" && (u = i.offset.left + i.dimension.width + h - e, l = i.offset.top - c - s - 12, d(), g("bottom-right", "top-right")); f == "bottom" && (vt = i.offset.left + e - (i.offset.left + i.dimension.width), u = i.offset.left - vt / 2 + h, l = i.offset.top + i.dimension.height + s + 12, d(), g("top", "bottom")); f == "bottom-left" && (u = i.offset.left + h, l = i.offset.top + i.dimension.height + s + 12, d(), g("top-left", "bottom-left")); f == "bottom-right" && (u = i.offset.left + i.dimension.width + h - e, l = i.offset.top + i.dimension.height + s + 12, d(), g("top-right", "bottom-right")); f == "left" && (u = i.offset.left - h - e - 12, at = i.offset.left + h + i.dimension.width + 12, p = i.offset.top + c - (i.offset.top + i.dimension.height), l = i.offset.top - p / 2 - s, u < 0 && at + e > b ? (ut = parseFloat(r.$tooltip.css("border-width")) * 2, ft = e + u - ut, r.$tooltip.css("width", ft + "px"), c = r.$tooltip.outerHeight(!1), u = i.offset.left - h - ft - 12 - ut, p = i.offset.top + c - (i.offset.top + i.dimension.height), l = i.offset.top - p / 2 - s) : u < 0 && (u = i.offset.left + h + i.dimension.width + 12, o = "left")); f == "right" && (u = i.offset.left + h + i.dimension.width + 12, at = i.offset.left - h - e - 12, p = i.offset.top + c - (i.offset.top + i.dimension.height), l = i.offset.top - p / 2 - s, u + e > b && at < 0 ? (ut = parseFloat(r.$tooltip.css("border-width")) * 2, ft = b - u - ut, r.$tooltip.css("width", ft + "px"), c = r.$tooltip.outerHeight(!1), p = i.offset.top + c - (i.offset.top + i.dimension.height), l = i.offset.top - p / 2 - s) : u + e > b && (u = i.offset.left - h - e - 12, o = "right")); r.options.arrow && (w = "tooltipster-arrow-" + f, dt = r.options.arrowColor.length < 1 ? r.$tooltip.css("background-color") : r.options.arrowColor, o ? o == "left" ? (w = "tooltipster-arrow-right", o = "") : o == "right" ? (w = "tooltipster-arrow-left", o = "") : o = "left:" + Math.round(o) + "px;" : o = "", f == "top" || f == "top-left" || f == "top-right" ? (a = parseFloat(r.$tooltip.css("border-bottom-width")), nt = r.$tooltip.css("border-bottom-color")) : f == "bottom" || f == "bottom-left" || f == "bottom-right" ? (a = parseFloat(r.$tooltip.css("border-top-width")), nt = r.$tooltip.css("border-top-color")) : f == "left" ? (a = parseFloat(r.$tooltip.css("border-right-width")), nt = r.$tooltip.css("border-right-color")) : f == "right" ? (a = parseFloat(r.$tooltip.css("border-left-width")), nt = r.$tooltip.css("border-left-color")) : (a = parseFloat(r.$tooltip.css("border-bottom-width")), nt = r.$tooltip.css("border-bottom-color")), a > 1 && a++ , kt = "", a !== 0 && (tt = "", gt = "border-color: " + nt + ";", w.indexOf("bottom") !== -1 ? tt = "margin-top: -" + Math.round(a) + "px;" : w.indexOf("top") !== -1 ? tt = "margin-bottom: -" + Math.round(a) + "px;" : w.indexOf("left") !== -1 ? tt = "margin-right: -" + Math.round(a) + "px;" : w.indexOf("right") !== -1 && (tt = "margin-left: -" + Math.round(a) + "px;"), kt = '<span class="tooltipster-arrow-border" style="' + tt + " " + gt + ';"><\/span>'), r.$tooltip.find(".tooltipster-arrow").remove(), ni = '<div class="' + w + ' tooltipster-arrow" style="' + o + '">' + kt + '<span style="border-color:' + dt + ';"><\/span><\/div>', r.$tooltip.append(ni)); r.$tooltip.css({ top: Math.round(l) + "px", left: Math.round(u) + "px" }) } return r }, enable: function () { return this.enabled = !0, this }, disable: function () { return this.hide(), this.enabled = !1, this }, destroy: function () { var t = this, i, r; return t.hide(), t.$el[0] !== t.$elProxy[0] && t.$elProxy.remove(), t.$el.removeData(t.namespace).off("." + t.namespace), i = t.$el.data("tooltipster-ns"), i.length === 1 ? (r = null, t.options.restoration === "previous" ? r = t.$el.data("tooltipster-initialTitle") : t.options.restoration === "current" && (r = typeof t.Content == "string" ? t.Content : n("<div><\/div>").append(t.Content).html()), r && t.$el.attr("title", r), t.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")) : (i = n.grep(i, function (n) { return n !== t.namespace }), t.$el.data("tooltipster-ns", i)), t }, elementIcon: function () { return this.$el[0] !== this.$elProxy[0] ? this.$elProxy[0] : undefined }, elementTooltip: function () { return this.$tooltip ? this.$tooltip[0] : undefined }, option: function (n, t) { return typeof t == "undefined" ? this.options[n] : (this.options[n] = t, this) }, status: function () { return this.Status } }; n.fn["tooltipster"] = function () { var t = arguments, r, i; if (this.length === 0) { if (typeof t[0] == "string") { r = !0; switch (t[0]) { case "setDefaults": n.extend(f, t[1]); break; default: r = !1 }return r ? !0 : this } return this } if (typeof t[0] == "string") return i = "#*$~&", this.each(function () { var f = n(this).data("tooltipster-ns"), r = f ? n(this).data(f[0]) : null, u; if (r) { if (typeof r[t[0]] == "function") u = r[t[0]](t[1], t[2]); else throw new Error('Unknown method .tooltipster("' + t[0] + '")'); if (u !== r) return i = u, !1 } else throw new Error("You called Tooltipster's \"" + t[0] + '" method on an uninitialized element'); }), i !== "#*$~&" ? i : this; var u = [], e = t[0] && typeof t[0].multiple != "undefined", o = e && t[0].multiple || !e && f.multiple, s = t[0] && typeof t[0].debug != "undefined", c = s && t[0].debug || !s && f.debug; return this.each(function () { var f = !1, i = n(this).data("tooltipster-ns"), r = null; i ? o ? f = !0 : c && console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.') : f = !0; f && (r = new h(this, t[0]), i || (i = []), i.push(r.namespace), n(this).data("tooltipster-ns", i), n(this).data(r.namespace, r)); u.push(r) }), o ? u : this }; r = !!("ontouchstart" in t); s = !1; n("body").one("mousemove", function () { s = !0 }) }(jQuery, window, document); !function (n) { return "function" == typeof define && define.amd ? define(["jquery"], function (t) { return n(t, window, document) }) : "object" == typeof exports ? module.exports = n(require("jquery"), window, document) : n(jQuery, window, document) }(function (n, t, i) { "use strict"; var a, u, o, s, v, y, ct, lt, p, w, b, k, f, d, it, h, r, at, g, e, rt, c, ut, ft, et, ot, nt, tt, st, ht, l; ut = { paneClass: "nano-pane", sliderClass: "nano-slider", contentClass: "nano-content", enabledClass: "has-scrollbar", flashedClass: "flashed", activeClass: "active", iOSNativeScrolling: !1, preventPageScrolling: !1, disableResize: !1, alwaysVisible: !1, flashDelay: 1500, sliderMinHeight: 20, sliderMaxHeight: null, documentContext: null, windowContext: null }; at = "scrollbar"; r = "scroll"; p = "mousedown"; w = "mouseenter"; b = "mousemove"; f = "mousewheel"; k = "mouseup"; h = "resize"; v = "drag"; y = "enter"; e = "up"; it = "panedown"; o = "DOMMouseScroll"; s = "down"; rt = "wheel"; ct = "keydown"; lt = "keyup"; g = "touchmove"; a = "Microsoft Internet Explorer" === t.navigator.appName && /msie 7./i.test(t.navigator.appVersion) && t.ActiveXObject; u = null; nt = t.requestAnimationFrame; c = t.cancelAnimationFrame; st = i.createElement("div").style; l = function () { var n, r, f, t, i, u; for (t = ["t", "webkitT", "MozT", "msT", "OT"], n = i = 0, u = t.length; u > i; n = ++i)if (f = t[n], r = t[n] + "ransform", r in st) return t[n].substr(0, t[n].length - 1); return !1 }(); ht = function (n) { return l === !1 ? !1 : "" === l ? n : l + n.charAt(0).toUpperCase() + n.substr(1) }; tt = ht("transform"); et = tt !== !1; ft = function () { var n, t, u; return n = i.createElement("div"), t = n.style, t.position = "absolute", t.width = "100px", t.height = "100px", t.overflow = r, t.top = "-9999px", i.body.appendChild(n), u = n.offsetWidth - n.clientWidth, i.body.removeChild(n), u }; ot = function () { var r, i, n; return i = t.navigator.userAgent, (r = /(?=.+Mac OS X)(?=.+Firefox)/.test(i)) ? (n = /Firefox\/\d{2}\./.exec(i), n && (n = n[0].replace(/\D+/g, "")), r && +n > 23) : !1 }; d = function () { function l(r, f) { this.el = r; this.options = f; u || (u = ft()); this.$el = n(this.el); this.doc = n(this.options.documentContext || i); this.win = n(this.options.windowContext || t); this.body = this.doc.find("body"); this.$content = this.$el.children("." + this.options.contentClass); this.$content.attr("tabindex", this.options.tabIndex || 0); this.content = this.$content[0]; this.previousPosition = 0; this.options.iOSNativeScrolling && null != this.el.style.WebkitOverflowScrolling ? this.nativeScrolling() : this.generate(); this.createEvents(); this.addEvents(); this.reset() } return l.prototype.preventScrolling = function (n, t) { if (this.isActive) if (n.type === o) (t === s && n.originalEvent.detail > 0 || t === e && n.originalEvent.detail < 0) && n.preventDefault(); else if (n.type === f) { if (!n.originalEvent || !n.originalEvent.wheelDelta) return; (t === s && n.originalEvent.wheelDelta < 0 || t === e && n.originalEvent.wheelDelta > 0) && n.preventDefault() } }, l.prototype.nativeScrolling = function () { this.$content.css({ WebkitOverflowScrolling: "touch" }); this.iOSNativeScrolling = !0; this.isActive = !0 }, l.prototype.updateScrollValues = function () { var n, t; n = this.content; this.maxScrollTop = n.scrollHeight - n.clientHeight; this.prevScrollTop = this.contentScrollTop || 0; this.contentScrollTop = n.scrollTop; t = this.contentScrollTop > this.previousPosition ? "down" : this.contentScrollTop < this.previousPosition ? "up" : "same"; this.previousPosition = this.contentScrollTop; "same" !== t && this.$el.trigger("update", { position: this.contentScrollTop, maximum: this.maxScrollTop, direction: t }); this.iOSNativeScrolling || (this.maxSliderTop = this.paneHeight - this.sliderHeight, this.sliderTop = 0 === this.maxScrollTop ? 0 : this.contentScrollTop * this.maxSliderTop / this.maxScrollTop) }, l.prototype.setOnScrollStyles = function () { var n; et ? (n = {}, n[tt] = "translate(0, " + this.sliderTop + "px)") : n = { top: this.sliderTop }; nt ? (c && this.scrollRAF && c(this.scrollRAF), this.scrollRAF = nt(function (t) { return function () { return t.scrollRAF = null, t.slider.css(n) } }(this))) : this.slider.css(n) }, l.prototype.createEvents = function () { this.events = { down: function (n) { return function (t) { return n.isBeingDragged = !0, n.offsetY = t.pageY - n.slider.offset().top, n.slider.is(t.target) || (n.offsetY = 0), n.pane.addClass(n.options.activeClass), n.doc.bind(b, n.events[v]).bind(k, n.events[e]), n.body.bind(w, n.events[y]), !1 } }(this), drag: function (n) { return function (t) { return n.sliderY = t.pageY - n.$el.offset().top - n.paneTop - (n.offsetY || .5 * n.sliderHeight), n.scroll(), n.contentScrollTop >= n.maxScrollTop && n.prevScrollTop !== n.maxScrollTop ? n.$el.trigger("scrollend") : 0 === n.contentScrollTop && 0 !== n.prevScrollTop && n.$el.trigger("scrolltop"), !1 } }(this), up: function (n) { return function () { return n.isBeingDragged = !1, n.pane.removeClass(n.options.activeClass), n.doc.unbind(b, n.events[v]).unbind(k, n.events[e]), n.body.unbind(w, n.events[y]), !1 } }(this), resize: function (n) { return function () { n.reset() } }(this), panedown: function (n) { return function (t) { return n.sliderY = (t.offsetY || t.originalEvent.layerY) - .5 * n.sliderHeight, n.scroll(), n.events.down(t), !1 } }(this), scroll: function (n) { return function (t) { n.updateScrollValues(); n.isBeingDragged || (n.iOSNativeScrolling || (n.sliderY = n.sliderTop, n.setOnScrollStyles()), null != t && (n.contentScrollTop >= n.maxScrollTop ? (n.options.preventPageScrolling && n.preventScrolling(t, s), n.prevScrollTop !== n.maxScrollTop && n.$el.trigger("scrollend")) : 0 === n.contentScrollTop && (n.options.preventPageScrolling && n.preventScrolling(t, e), 0 !== n.prevScrollTop && n.$el.trigger("scrolltop")))) } }(this), wheel: function (n) { return function (t) { var i; if (null != t) return i = t.delta || t.wheelDelta || t.originalEvent && t.originalEvent.wheelDelta || -t.detail || t.originalEvent && -t.originalEvent.detail, i && (n.sliderY += -i / 3), n.scroll(), !1 } }(this), enter: function (n) { return function (t) { var i; if (n.isBeingDragged) return 1 !== (t.buttons || t.which) ? (i = n.events)[e].apply(i, arguments) : void 0 } }(this) } }, l.prototype.addEvents = function () { var n; this.removeEvents(); n = this.events; this.options.disableResize || this.win.bind(h, n[h]); this.iOSNativeScrolling || (this.slider.bind(p, n[s]), this.pane.bind(p, n[it]).bind("" + f + " " + o, n[rt])); this.$content.bind("" + r + " " + f + " " + o + " " + g, n[r]) }, l.prototype.removeEvents = function () { var n; n = this.events; this.win.unbind(h, n[h]); this.iOSNativeScrolling || (this.slider.unbind(), this.pane.unbind()); this.$content.unbind("" + r + " " + f + " " + o + " " + g, n[r]) }, l.prototype.generate = function () { var s, i, e, n, o, r, f; return n = this.options, r = n.paneClass, f = n.sliderClass, s = n.contentClass, (o = this.$el.children("." + r)).length || o.children("." + f).length || this.$el.append('<div class="' + r + '"><div class="' + f + '" /><\/div>'), this.pane = this.$el.children("." + r), this.slider = this.pane.find("." + f), 0 === u && ot() ? (e = t.getComputedStyle(this.content, null).getPropertyValue("padding-right").replace(/[^0-9.]+/g, ""), i = { right: -14, paddingRight: +e + 14 }) : u && (i = { right: -u }, this.$el.addClass(n.enabledClass)), null != i && this.$content.css(i), this }, l.prototype.restore = function () { this.stopped = !1; this.iOSNativeScrolling || this.pane.show(); this.addEvents() }, l.prototype.reset = function () { var n, s, h, c, i, y, f, e, l, o, v, t; return this.iOSNativeScrolling ? void (this.contentHeight = this.content.scrollHeight) : (this.$el.find("." + this.options.paneClass).length || this.generate().stop(), this.stopped && this.restore(), n = this.content, c = n.style, i = c.overflowY, a && this.$content.css({ height: this.$content.height() }), s = n.scrollHeight + u, o = parseInt(this.$el.css("max-height"), 10), o > 0 && (this.$el.height(""), this.$el.height(n.scrollHeight > o ? o : n.scrollHeight)), f = this.pane.outerHeight(!1), l = parseInt(this.pane.css("top"), 10), y = parseInt(this.pane.css("bottom"), 10), e = f + l + y, t = Math.round(e / s * f), t < this.options.sliderMinHeight ? t = this.options.sliderMinHeight : null != this.options.sliderMaxHeight && t > this.options.sliderMaxHeight && (t = this.options.sliderMaxHeight), i === r && c.overflowX !== r && (t += u), this.maxSliderTop = e - t, this.contentHeight = s, this.paneHeight = f, this.paneOuterHeight = e, this.sliderHeight = t, this.paneTop = l, this.slider.height(t), this.events.scroll(), this.pane.show(), this.isActive = !0, n.scrollHeight === n.clientHeight || this.pane.outerHeight(!0) >= n.scrollHeight && i !== r ? (this.pane.hide(), this.isActive = !1) : this.el.clientHeight === n.scrollHeight && i === r ? this.slider.hide() : this.slider.show(), this.pane.css({ opacity: this.options.alwaysVisible ? 1 : "", visibility: this.options.alwaysVisible ? "visible" : "" }), h = this.$content.css("position"), ("static" === h || "relative" === h) && (v = parseInt(this.$content.css("right"), 10), v && this.$content.css({ right: "", marginRight: v })), this) }, l.prototype.scroll = function () { if (this.isActive) return (this.sliderY = Math.max(0, this.sliderY), this.sliderY = Math.min(this.maxSliderTop, this.sliderY), this.$content.scrollTop(this.maxScrollTop * this.sliderY / this.maxSliderTop), this.iOSNativeScrolling || (this.updateScrollValues(), this.setOnScrollStyles()), this) }, l.prototype.scrollBottom = function (n) { if (this.isActive) return (this.$content.scrollTop(this.contentHeight - this.$content.height() - n).trigger(f), this.stop().restore(), this) }, l.prototype.scrollTop = function (n) { if (this.isActive) return (this.$content.scrollTop(+n).trigger(f), this.stop().restore(), this) }, l.prototype.scrollTo = function (n) { if (this.isActive) return (this.scrollTop(this.$el.find(n).get(0).offsetTop), this) }, l.prototype.stop = function () { return c && this.scrollRAF && (c(this.scrollRAF), this.scrollRAF = null), this.stopped = !0, this.removeEvents(), this.iOSNativeScrolling || this.pane.hide(), this }, l.prototype.destroy = function () { return this.stopped || this.stop(), !this.iOSNativeScrolling && this.pane.length && this.pane.remove(), a && this.$content.height(""), this.$content.removeAttr("tabindex"), this.$el.hasClass(this.options.enabledClass) && (this.$el.removeClass(this.options.enabledClass), this.$content.css({ right: "" })), this }, l.prototype.flash = function () { if (!this.iOSNativeScrolling && this.isActive) return (this.reset(), this.pane.addClass(this.options.flashedClass), setTimeout(function (n) { return function () { n.pane.removeClass(n.options.flashedClass) } }(this), this.options.flashDelay), this) }, l }(); n.fn.nanoScroller = function (t) { return this.each(function () { var r, i; if ((i = this.nanoscroller) || (r = n.extend({}, ut, t), this.nanoscroller = i = new d(this, r)), t && "object" == typeof t) { if (n.extend(i.options, t), null != t.scrollBottom) return i.scrollBottom(t.scrollBottom); if (null != t.scrollTop) return i.scrollTop(t.scrollTop); if (t.scrollTo) return i.scrollTo(t.scrollTo); if ("bottom" === t.scroll) return i.scrollBottom(0); if ("top" === t.scroll) return i.scrollTop(0); if (t.scroll && t.scroll instanceof n) return i.scrollTo(t.scroll); if (t.stop) return i.stop(); if (t.destroy) return i.destroy(); if (t.flash) return i.flash() } return i.reset() }) }; n.fn.nanoScroller.Constructor = d }); !function (n) { "function" == typeof define && define.amd ? define(["jquery"], n) : n("object" == typeof exports ? require("jquery") : jQuery) }(function (n) { var i, t = navigator.userAgent, u = /iphone/i.test(t), f = /chrome/i.test(t), r = /android/i.test(t); n.mask = { definitions: { 9: "[0-9]", a: "[A-Za-z]", "*": "[A-Za-z0-9]" }, autoclear: !0, dataName: "rawMaskFn", placeholder: "_" }; n.fn.extend({ caret: function (n, t) { var i; if (0 !== this.length && !this.is(":hidden")) return "number" == typeof n ? (t = "number" == typeof t ? t : n, this.each(function () { this.setSelectionRange ? this.setSelectionRange(n, t) : this.createTextRange && (i = this.createTextRange(), i.collapse(!0), i.moveEnd("character", t), i.moveStart("character", n), i.select()) })) : (this[0].setSelectionRange ? (n = this[0].selectionStart, t = this[0].selectionEnd) : document.selection && document.selection.createRange && (i = document.selection.createRange(), n = 0 - i.duplicate().moveStart("character", -1e5), t = n + i.text.length), { begin: n, end: t }) }, unmask: function () { return this.trigger("unmask") }, mask: function (t, e) { var p, l, o, c, h, v, s, a, y; return !t && this.length > 0 ? (p = n(this[0]), y = p.data(n.mask.dataName), y ? y() : void 0) : (e = n.extend({ autoclear: n.mask.autoclear, placeholder: n.mask.placeholder, completed: null }, e), l = n.mask.definitions, o = [], c = s = t.length, h = null, n.each(t.split(""), function (n, t) { "?" == t ? (s-- , c = n) : l[t] ? (o.push(new RegExp(l[t])), null === h && (h = o.length - 1), c > n && (v = o.length - 1)) : o.push(null) }), this.trigger("unmask").each(function () { function nt() { if (e.completed) { for (var n = h; v >= n; n++)if (o[n] && p[n] === w(n)) return; e.completed.call(y) } } function w(n) { return e.placeholder.charAt(n < e.placeholder.length ? n : 0) } function b(n) { for (; ++n < s && !o[n];); return n } function ut(n) { for (; --n >= 0 && !o[n];); return n } function it(n, t) { var r, i; if (!(0 > n)) { for (r = n, i = b(t); s > r; r++)if (o[r]) { if (!(s > i && o[r].test(p[i]))) break; p[r] = p[i]; p[i] = w(i); i = b(i) } d(); y.caret(Math.max(h, n)) } } function ft(n) { for (var r, u, t = n, i = w(n); s > t; t++)if (o[t]) { if (r = b(t), u = p[t], p[t] = i, !(s > r && o[r].test(u))) break; i = u } } function et() { var t = y.val(), n = y.caret(); if (a && a.length && a.length > t.length) { for (k(!0); n.begin > 0 && !o[n.begin - 1];)n.begin--; if (0 === n.begin) for (; n.begin < h && !o[n.begin];)n.begin++; y.caret(n.begin, n.begin) } else { for (k(!0); n.begin < s && !o[n.begin];)n.begin++; y.caret(n.begin, n.begin) } nt() } function rt() { k(); y.val() != tt && y.change() } function ot(n) { if (!y.prop("readonly")) { var f, i, t, r = n.which || n.keyCode; a = y.val(); 8 === r || 46 === r || u && 127 === r ? (f = y.caret(), i = f.begin, t = f.end, t - i == 0 && (i = 46 !== r ? ut(i) : t = b(i - 1), t = 46 === r ? b(t) : t), g(i, t), it(i, t - 1), n.preventDefault()) : 13 === r ? rt.call(this, n) : 27 === r && (y.val(tt), y.caret(0, k()), n.preventDefault()) } } function st(t) { var u, e, h, f, i, c; y.prop("readonly") || (f = t.which || t.keyCode, i = y.caret(), t.ctrlKey || t.altKey || t.metaKey || 32 > f || !f || 13 === f || ((i.end - i.begin != 0 && (g(i.begin, i.end), it(i.begin, i.end - 1)), u = b(i.begin - 1), s > u && (e = String.fromCharCode(f), o[u].test(e))) && ((ft(u), p[u] = e, d(), h = b(u), r) ? (c = function () { n.proxy(n.fn.caret, y, h)() }, setTimeout(c, 0)) : y.caret(h), i.begin <= v && nt()), t.preventDefault())) } function g(n, t) { for (var i = n; t > i && s > i; i++)o[i] && (p[i] = w(i)) } function d() { y.val(p.join("")) } function k(n) { for (var f, r = y.val(), u = -1, t = 0, i = 0; s > t; t++)if (o[t]) { for (p[t] = w(t); i++ < r.length;)if (f = r.charAt(i - 1), o[t].test(f)) { p[t] = f; u = t; break } if (i > r.length) { g(t + 1, s); break } } else p[t] === r.charAt(i) && i++ , c > t && (u = t); return n ? d() : c > u + 1 ? e.autoclear || p.join("") === ht ? (y.val() && y.val(""), g(0, s)) : d() : (d(), y.val(y.val().substring(0, u + 1))), c ? t : h } var y = n(this), p = n.map(t.split(""), function (n, t) { if ("?" != n) return l[n] ? w(t) : n }), ht = p.join(""), tt = y.val(); y.data(n.mask.dataName, function () { return n.map(p, function (n, t) { return o[t] && n != w(t) ? n : null }).join("") }); y.one("unmask", function () { y.off(".mask").removeData(n.mask.dataName) }).on("focus.mask", function () { if (!y.prop("readonly")) { clearTimeout(i); var n; tt = y.val(); n = k(); i = setTimeout(function () { y.get(0) === document.activeElement && (d(), n == t.replace("?", "").length ? y.caret(0, n) : y.caret(n)) }, 10) } }).on("blur.mask", rt).on("keydown.mask", ot).on("keypress.mask", st).on("input.mask paste.mask", function () { y.prop("readonly") || setTimeout(function () { var n = k(!0); y.caret(n); nt() }, 0) }); f && r && y.off("input.mask").on("input.mask", et); k() })) } }) }); $(function () { function n(n) { var t = { idCookie: n.data("cookie-id"), idLead: n.data("lead-id"), event: n.data("event-id"), "visitor-id": n.data("visitor-id") }; setTimeout(function () { typeof googleTagManagerDataLayer != "undefined" && googleTagManagerDataLayer.push(t) }, 5e3) } $(".hdnScreenResolution").length && $(".hdnScreenResolution .scfSingleLineTextBox").val(screen.width + "x" + screen.height); $("#sfGoogleGUID").length && $(".hdnSfGoogleGUID").length && $(".hdnSfGoogleGUID .scfSingleLineTextBox").val($("#sfGoogleGUID").val()); $("#hdnRRScreenResolution").length && $("#hdnRRScreenResolution").val(screen.width + "x" + screen.height); $("#sfGoogleGUID").length && $("#hdnRRSfGoogleGUID").length && $("#hdnRRSfGoogleGUID").val($("#sfGoogleGUID").val()); $("#hdnFNLScreenResolution").length && $("#hdnFNLScreenResolution").val(screen.width + "x" + screen.height); $("#sfGoogleGUID").length && $("#hdnFNLSfGoogleGUID").length && $("hdnFNLSfGoogleGUID").val($("#sfGoogleGUID").val()); $("[data-google-tag-manager='onload']").each(function () { var t = $(this); n(t) }); $(function () { $(".liveHelpClass").click(function () { return OpenLHNChat(), !1 }) }) }); $(function () { function n() { var t = $(".alert-section.bottom-fixed"), n = $(".fixed-menu-section"), i; n.length && (t.length && t.is(":visible") ? (i = t.outerHeight(), n.length && n.css("position") === "fixed" && n.css("bottom", i)) : n.css("bottom", 0)) } function t() { var r = $(".footer"), t = 0, i = $(".fixed-menu-section"), n; i.length && i.css("position") === "fixed" && (t += i.find(".fixed-menu__toggle").height()); n = $(".alert-section.bottom-fixed"); n.length && n.css("position") === "fixed" && (t += n.outerHeight()); r.css("padding-bottom", t + "px") } var i = "1"; $("body").on("touchstart", ".fixed-menu__hideable-content, .fixed-menu__toggle", function (n) { $.viewport.isTablet() && (this.scrollHeight !== this.clientHeight && (this.scrollTop === 0 && (this.scrollTop = 1), this.scrollTop === this.scrollHeight - this.clientHeight && (this.scrollTop = this.scrollHeight - this.clientHeight - 1)), this.allowUp = this.scrollTop > 0, this.allowDown = this.scrollTop < this.scrollHeight - this.clientHeight, this.lastY = n.originalEvent.pageY) }).on("touchmove", ".fixed-menu__hideable-content, .fixed-menu__toggle", function (n) { if ($.viewport.isTablet()) { var t = n.originalEvent, i = t.pageY > this.lastY, r = !i; this.lastY = t.pageY; i && this.allowUp || r && this.allowDown ? t.stopPropagation() : t.preventDefault() } }); $("[data-open-fixed-menu]").on("click", function (n) { var t = $(n.target); t.is("[data-scroll-to-element]") || t.parent().is("[data-scroll-to-element]") || $("html").toggleClass("fixed-menu-open").trigger("toggle-fixed-menu") }); $(".alert__close").on("tap click", function (r) { var u = $(r.currentTarget).closest(".alert-section"), e = u.data("cookieAlert"), f = u.data("cookieAlertExpires"), o = 7300, s; return f && (o = f === "session" ? !1 : +f), e && cookies().set(e, i, o, "/"), s = u.next(".header"), u.remove(), s.trigger("header:recalculate"), n(), t(), !1 }); $("[data-cookie-alert]").each(function () { var n = $(this), t = n.data("cookieAlert"); cookies().get(t) === i && n.remove() }); $("html").on("toggle-fixed-menu", function () { var i = $(".fixed-menu-section"), t; i.css("position") === "fixed" && (t = $(".alert-section.bottom-fixed"), $(this).hasClass("fixed-menu-open") ? (t.hide(), i.css("bottom", 0)) : (t.show(), n())) }); $(window).on("resize:width", function () { n(); t() }); n(); t() }), function (n) { function t(t) { var i = n(t); i.closest(".site-search").length || i.closest("form").addClass("form-dirty") } var r = n(window), i; n("body").on("change", "form.form-dirty :input", function () { var t = n(this); n.isFunction(t.valid) && t.valid() }).on("focus", "form:not(.form-dirty) :input", function () { t(this) }).on("click tap", "form:not(.form-dirty) button", function () { t(this) }); i = n(".site-search .site-search__input"); i.autofill(function () { this.siblings(".site-search__submit").trigger("click") }); n.validator.setDefaults({ focusInvalid: !1, errorPlacement: function (n, t) { t.after(n.css("bottom", t.parent().outerHeight() + "px")) } }); r.on("load resize", function () { n("form.form-dirty").find("label.error").each(function () { var t = n(this); t.parent().outerHeight() !== 0 && t.css("bottom", t.parent().outerHeight() + "px") }) }); n("[data-validate-form]").each(function () { n(this).validate() }) }(jQuery), function (n) { var i = 100, t; n.fn.header = function () { function st(t, i) { t = t || n.viewport.currentDevice(); ht(s.parent(), t, i); b(ft.filter(".open"), t, i) } function ht(t, i, f) { var e = i === n.viewport.VIEWPORT_DEVICE.DESKTOP; if (f) { r.css({ "z-index": "" }); a.parent().removeClass("open"); t.removeClass("open"); t.children(".primary-nav__item-wrapper").css({ display: "" }); return } e ? t.filter(".open").removeClass("open").children(".primary-nav__item-wrapper").finish().fadeOut(u.DURATION_OUT, u.EFFECT, function () { r.css({ "z-index": "" }) }) : (t.removeClass("open"), a.parent().removeClass("open")) } function b(t, i, o) { var s = i === n.viewport.VIEWPORT_DEVICE.DESKTOP; if (o) { k.css({ display: "" }); r.removeClass("open"); t.removeClass("open"); t.children(".utility-nav__item-dropdown-menu").css({ display: "" }); f.css({ display: "" }); e.removeClass("nav-menu-open"); return } s ? t.children(".utility-nav__item-dropdown-menu").slideUp(u.SLIDE_UP_DURATION, u.EFFECT, ct.bind(null, t)) : (f.slideUp(u.SLIDE_DOWN_DURATION, u.EFFECT), k.fadeIn(u.SLIDE_DOWN_DURATION), r.removeClass("open"), e.removeClass("nav-menu-open")) } function it() { r.removeClass("sticky"); f.css({ display: "" }); ut.css({ "padding-top": "" }); t.isShrinked = !1 } function ct(n) { n.toggleClass("open", !n.hasClass("open")) } function lt() { if (!n.viewport.isTablet() && d) { var i = o.scrollTop(), r = gt(i, t.scrollPosition); dt(i, r); t.isShrinked && ((r || t.isScrollingDownForce) && !p ? f.hide() : ni(function () { f.slideDown(u.ON_SHOW_SLIDE_DOWN_DURATION, u.EFFECT) }, g)); t.scrollPosition = i } } function dt(n, i) { n > t.setStickyScroll && !t.isShrinked && (r.addClass("sticky"), ut.css({ "padding-top": t.fullHeaderHeight }), t.isShrinked = !0, typeof y == "undefined" && (y = t.fullHeaderHeight - f.outerHeight(), t = h(!1, !0))); n <= t.unsetStickyScroll && t.isShrinked && !i && it() } function gt(n, i) { return n < t.setStickyScroll && (t.isScrollingDownForce = !1), n > i ? t.isScrollingDown = !0 : n < i && (t.isScrollingDown = !1), t.isScrollingDown } function h(i, u) { var e = { utilityHeight: v.outerHeight(), fullNavHeight: f.outerHeight(), scrollPosition: o.scrollTop() }; return i && (e.isScrollingDown = !1, e.isShrinked = !1, e.unsetStickyScroll = e.utilityHeight + r.offset().top), e.fullHeaderHeight = e.fullNavHeight + e.utilityHeight, e.setStickyScroll = bt + e.fullHeaderHeight, (u || i || !t.isShrinked) && (e.shrinkedNavHeight = Math.abs(e.fullNavHeight - (y || et))), n.extend({}, t || {}, e) } function rt() { return n.viewport.isMenuStickyByViewportHeight() || wt } function ni(n, t) { t > 0 ? setTimeout(n, t) : n() } var r = this, c, p, g, w, nt, tt, ot; if (r.length) { var at = n(document), o = n(window), ut = r.next(".page-content"), k = r.nextAll(".page-content, .footer"), e = n("body"), l = r.find(".primary-nav__links"), s = l.find(".primary-nav__item-trigger"), vt = s.find(".primary-nav__item-trigger-mobile"), a = l.find(".primary-nav__sub-item-subheadline"), yt = a.find(".primary-nav__sub-item-trigger-mobile"), f = r.find(".header__navigation-wrapper"), v = r.find(".utility-nav"), pt = v.find(".utility-nav__menu-toggle"), ft = v.find(".utility-nav__item-dropdown"), wt = n(".glossary__anchorlinks").length, bt = r.offset().top, y, et = 0; t = h(!0); var d = !rt(), kt = 200, u = { EFFECT: "easeInOutCubic", SLIDE_UP_DURATION: 200, SLIDE_DOWN_DURATION: 400, ON_SHOW_SLIDE_DOWN_DURATION: 250, DURATION_IN: 150, DURATION_OUT: 150 }; if (e.hasClass(n.globalParameterConstants.HEADER_JUSTIFY_LINKS) && l.addClass("primary-nav__links--justify"), c = !0, e.hasClass(n.globalParameterConstants.HEADER_OPEN_ON_BUTTON_CLICK_MOBILE) && (c = !1), p = !1, e.hasClass(n.globalParameterConstants.HEADER_ALWAYS_VISIBLE) && (p = !0), g = 0, w = e.attr("class").split(/\s+/).filter(function (t) { return t.indexOf(n.globalParameterConstants.HEADER_SCROLL_UP_SHOW_DELAY) === 0 }), w && w.length && (g = +w[0].split(":")[1]), nt = !1, tt = !0, e.hasClass(n.globalParameterConstants.HEADER_OPEN_ON_HOVER) && (nt = !0, tt = !1), nt) { s.mouseenter(function () { var t = n(this); setTimeout(function () { t.find(":hover") && n.viewport.isDesktop() && !t.parent().hasClass("open") && t.trigger("click", { hover: !0 }) }, kt) }); l.on("mouseleave", function () { n.viewport.isDesktop() && s.filter(function () { return n(this).parent().hasClass("open") }).trigger("click", { hover: !0 }) }) } if (!c) { vt.on("click", function () { return n(this).parent().trigger("click", { mobileTrigger: !0 }), !1 }); yt.on("click", function () { return n(this).parent().trigger("click", !0), !1 }) } s.on("click", function (t, i) { var f = n(this).parent(); f.hasClass("no-items") || (tt || n.viewport.isTablet() && c || i) && (t.preventDefault(), i && i.hover && t.stopPropagation(), n.viewport.isDesktop() ? f.hasClass("open") ? ht(f, n.viewport.VIEWPORT_DEVICE.DESKTOP) : (f.addClass("open").children(".primary-nav__item-wrapper").finish().fadeIn(u.DURATION_IN, u.EFFECT), f.siblings(".open").removeClass("open").children(".primary-nav__item-wrapper").css({ display: "" }), r.css("z-index", 4)) : f.toggleClass("open")) }); s.on("touchstart mouseenter", function () { n(this).addClass("hover") }).on("touchend mouseleave", function () { n(this).removeClass("hover") }); a.on("click", function (t, i) { var r = n(this).parent(); if (!r.hasClass("no-items") && n.viewport.isTablet()) { if (i || c) t.preventDefault(); else return; r.toggleClass("open") } }); pt.on("click", function (n) { n.preventDefault(); r.hasClass("open") ? b() : (f.slideDown(u.SLIDE_DOWN_DURATION, u.EFFECT), k.fadeOut(u.SLIDE_DOWN_DURATION), r.addClass("open"), e.addClass("nav-menu-open")) }); ft.on("click", function () { var t = n(this); b(t.siblings(".open"), n.viewport.VIEWPORT_DEVICE.DESKTOP); t.hasClass("open") ? b(t, n.viewport.VIEWPORT_DEVICE.DESKTOP) : (ct(t), t.children(".utility-nav__item-dropdown-menu").slideDown(u.SLIDE_DOWN_DURATION, u.EFFECT)) }); ot = n.throttle(lt, i); o.on("scroll", ot); at.on("click", function (t) { var i = n(t.target); if (!i.is("a") && !i.is("input") && !i.is("i") && !i.is("button")) { if (i.closest(".primary-nav__item-wrapper").length && !i.is("a")) return !1; st() } }); o.on("resize:device", function (n, i) { st(i, !0); it(); d = !rt(); t = h(!0) }); o.on("resize:height", function () { it(); d = !rt() }); o.on("load", function () { t = h() }); r.on("header:recalculate", function () { t = h(!0) }); r.on("header:recalculatePartially", function () { if (!t.isShrinked) { var i = { utilityHeight: v.outerHeight(), fullNavHeight: f.outerHeight() }, r = { fullHeaderHeight: i.fullNavHeight + i.utilityHeight }; r.shrinkedNavHeight = Math.abs(i.fullNavHeight - (y || et)); n.extend(t, i, r) } }); r.on("header:forceHide", function (n, i) { t.isScrollingDownForce = !0; o.scrollTop() >= t.setStickyScroll && lt(); i && i() }); r.on("header:resetHide", function () { setTimeout(function () { t.isScrollingDownForce = !1 }, 200) }); r.data({ isAlwaysVisible: p, headerApplied: !0, methods: { getOptions: h, getCurrentOptions: function () { return t } } }) } }; n.fn.header.executeAfterScrollSafe = function (n) { n && setTimeout(n, i) }; var r = window.chrome, u = window.navigator, f = u.vendor, e = u.userAgent.indexOf("Edge") > -1; r !== null && typeof r != "undefined" && f === "Google Inc." && e === !1 && n("body").addClass("chrome") }(jQuery); $.fn.extend({ hideLabelOnMobile: function () { function i(n, t) { t == $.viewport.VIEWPORT_DEVICE.MOBILE ? (n.data("placeholder", n.attr("placeholder") || ""), n.attr("placeholder", "")) : (n.attr("placeholder", n.data("placeholder")), n.data("")) } function r() { var i = n.siblings("label:not(.error)"), t = n.val() == null || n.val().length > 0; !t && n.is("select") && n.find(":selected").text().length > 0 && (t = !0); i.parent().toggleClass("input-filed", t) } var n = this, t; n.change(r); r(); t = $.viewport.currentDevice(); i(n, t); $(window).on("resize:device", function (r, u) { t = u; i(n, t) }); return this } }), function () { myAccount("[data-app-link]") }(), function (n) { n.fn.hideShowItem = function (t, i) { var r = this; r.on("click", "a", function (i) { var u, f; (i.preventDefault(), u = n(this), u.parent().hasClass("active")) || (f = n(u.attr("href")), f.length) && (r.find("li.active").removeClass("active"), t.filter(".active").first().fadeOut("slow", function () { f.fadeIn("slow", function () { n("html, body").animate({ scrollTop: 0 }) }) }), f.addClass("active").siblings().removeClass("active"), u.parent().addClass("active")) }); i && r.find("a[href='" + i + "']").trigger("click") } }(jQuery), function (n) { n.fn.pagination = function (t) { function h(n) { var t = i.pageHref.replace(i.pageNumberPlaceHolder, n); return typeof i.take != "undefined" && (t = t.replace(i.skipPlaceHolder, (n - 1) * i.take).replace(i.takePlaceHolder, i.take)), n === i.pagesCount && (t += "&last=true"), t } function f(n, t) { var f = u.clone(), i = f.find("a"), e; return n === t ? i.removeAttr("href").addClass("is-active") : (e = h(n), i.attr("href", e), i.click(function (t) { r.trigger("pageChanged", { event: t, target: this, pageIndex: n }) })), i.text(n).data("pageIndex", n), f } function e(n, t, i, r) { for (var u = t; u <= i; u++)n.append(f(u, r)) } function c(n, t, i, f, e) { var o = u.clone().addClass(function () { return n === t ? "disabled" : "" }), s = o.find(".pagination__link").addClass(e).text(f); return n !== t && (s.attr("href", h(i)).data("pageIndex", i), s.click(function (n) { r.trigger("pageChanged", { event: n, target: this, pageIndex: i }) })), o } function o() { var n = u.clone(), t = n.find("a"); return t.removeAttr("href").addClass("is-active").text(i.breakPlaceholder), n } function l(n, t) { var u, h, l; r.empty(); t !== 0 && (u = s.clone(), (n !== 1 || i.showDisabledArrows) && u.append(c(n, 1, n - 1, i.previousButtonText, "pagination__prev")), t <= i.pagesCountBeforeWrap ? e(u, 1, t, n) : t === i.pagesCountBeforeWrap + 1 || n <= 4 || n >= t - 4 ? (n <= i.pagesCountBetweenBreaks + 1 && (e(u, 1, i.pagesCountBetweenBreaks + 1, n), u.append(o()), u.append(f(t, n))), n >= t - i.pagesCountBetweenBreaks && (u.append(f(1, n)), u.append(o()), e(u, t - i.pagesCountBetweenBreaks, t, n))) : (u.append(f(1, n)), u.append(o()), e(u, n - 2, n + 2, n), u.append(o()), u.append(f(t, n))), (n !== t || i.showDisabledArrows) && (h = c(n, t, n + 1, i.nextButtonText, "pagination__next"), l = h.find("a"), l.attr("href", l.attr("href") + "&last=true"), u.append(h)), r.append(u), t >= 2 ? r.show() : r.hide()) } var i = n.extend({ pagesCountBeforeWrap: 10, pageHref: "", pageNumberPlaceHolder: "{pageNumber}", takePlaceHolder: "{take}", skipPlaceHolder: "{skip}", currentPage: 2, pagesCount: 5, breakPlaceholder: "...", pagesCountBetweenBreaks: 5, previousButtonText: "Previous", nextButtonText: "Next", activePageClass: "is-active", showDisabledArrows: !1 }, t || {}), r = n(this), s, u; this.currentPage = t.currentPage; s = n("<ul/>").addClass("pagination__list"); u = n("<li/>").addClass("pagination__item"); u.append(n("<a/>").addClass("pagination__link")); this.update = function (n, t) { l(t || i.currentPage, n || i.pagesCount) }; this.option = function (n, t, r) { if (n === "get") return i[t]; if (n === "set") return t && typeof r != "undefined" && (i[t] = r), r; throw new Error("invalid method name"); }; r.addClass("pagination").attr("role", "navigation"); l(i.currentPage, i.pagesCount); r.data("pagination", this) } }(jQuery), function (n) { n.fn.scrollToOpenedElement = function (t) { function h(t) { var u = t ? t : i.find(r.relativeElementsSelector), f = i.offset().top; u.each(function () { var t = n(this), i = t.offset().top; t.data("relativePosition", i - f) }) } function s(t, u) { var l = i ? i.offset().top : 0, a = l + t.data("relativePosition"), h, c; e.trigger("header:recalculatePartially"); h = 0; o.isAlwaysVisible && n.viewport.isDesktop() && (h = o.methods.getCurrentOptions().shrinkedNavHeight); c = a - r.offsetBefore - h; f.scrollTop() !== c && n("html, body").animate({ scrollTop: c }, { complete: function () { u || s(t, !0) } }) } var u = this, i = this, f = n(window), e = n(".header"), o = e.data(), r = n.extend({}, { offsetBefore: 0 }, t); f.on("resize:width", function () { r.onWindowResize() }); return u.data("scrollToOpenedElement", { setOpeningElementPosition: s, setOffsetFromElement: h }), u }; n.fn.scrollToElement = function (t, i) { return n("html, body").animate({ scrollTop: this.offset().top }, { duration: i, complete: function () { n.fn.header.executeAfterScrollSafe(t) } }), this } }(jQuery); $.dform.subscribe("ajax", function (n) { function r(n) { t && t.attr("disabled", ""); i && i.addClass("hidden"); n.parent().hide(); var r = n.parents(".ui-dialog"); n.closest(".gain-custom-form-bg").find(".response-wrapper").show(); r.length ? r.scrollToElement() : n.closest(".section-wrapper").scrollToElement() } function u(n) { var t = n.closest(".gain-custom-form-bg").find(".loading-wrapper").addClass("hidden"); return n.before(t), t.parent().addClass("has-spinner"), t } var i, t; this.submit(function (f) { var e, o; f.preventDefault(); e = $(this); typeof t == "undefined" && (t = e.find(".form-submit"), i = u(t)); o = e.valid() && ($.isFunction(n.checkValid) ? n.checkValid(e) : !0); o && (e.find('input[name="ScreenResolution"]').val(screen.width + "x" + screen.height), e.find('input[name="GoogleGUID"]').val($("#sfGoogleGUID").val()), $.ajax({ url: n.url, type: n.type, contentType: "application/x-www-form-urlencoded", data: $.isFunction(n.getData) ? n.getData(e).data : e.serialize(), beforeSend: function () { t && t.attr("disabled", "disabled"); i && i.removeClass("hidden"); $.isFunction(n.beforeSend) ? n.beforeSend(e) : window[n.beforeSend] }, success: function (t, i, u) { var f, o; typeof googleTagManagerDataLayer != "undefined" && t && t.Status && t.Analytics && (f = { idCookie: t.Analytics.CookieId, idLead: t.Analytics.LeadId, event: t.Analytics.AnalyticsEventName, "visitor-id": t.Analytics.VisitorId }, f.idLead !== null && googleTagManagerDataLayer.push(f)); o = $.isFunction(n.success) ? n.success(e, t, u) : window[n.success]; typeof o == "undefined" ? u.getResponseHeader("CUSTOM_REDIRECT") ? window.location = u.getResponseHeader("CUSTOM_REDIRECT") : r(e) : r(e) }, error: function (t) { r(e); $.isFunction(n.error) ? n.error(e, t.d) : window[n.error] }, complete: function () { $.isFunction(n.complete) ? n.complete(e) : window[n.complete] } })) }) }); $.dform.subscribe("action", function (n) { this.attr("action", n); this.submit(function (t) { var i = $(this), r = i.valid() && ($.isFunction(n.checkValid) ? n.checkValid(i) : !0); r ? (i.find('input[name="ScreenResolution"]').val(screen.width + "x" + screen.height), i.find('input[name="GoogleGUID"]').val($("#sfGoogleGUID").val())) : t.preventDefault() }) }); $.dform.subscribe("label", function (n) { this.after($('<label class="form-label"/>').attr("for", this.attr("id") || this.attr("name")).html(n)) }); $.dform.addType("tel", function (n) { var t = $('<input type="tel" />').dform("attr", n); return t.data({ validation: n.validate || {} }), t }); $.dform.subscribe("type", function (n, t) { t === "hidden" && this.closest(".form-div").hide() }); $.dform.subscribe("hideByCookie", function (n) { for (var i = n.split(","), t = 0; t < i.length; t++)cookies().get(i[t]).length && this.closest(".form-div").hide() }); $.dform.subscribe("navigate", function (n) { function i() { location.href = n } var r = this.closest("form"), t = window[r.data("dformVariable")].beforeNavigate; $.isFunction(t) ? t(this.data("target"), function () { i() }) : i() }); $.dform.subscribe("dropdown", function (n) { function i(n) { var f, i, u; typeof n.label != "undefined" && (f = $("<label>").addClass("form-label for-select").text(n.label), t.append(f)); i = r(n); t.append(i); i.chosenSelect(n.chosenOptions); n.validate && i.dform("run", "validate", n.validate); n.updateDependencyOnChange && i.change(function () { i.closest("form").find('[name="' + n.updateDependencyOnChange.inputName + '"]').val(i.find(":selected").data(n.updateDependencyOnChange.data)) }); n.conditions && (u = "dropdown-condition-" + n.name.replace(/#| |\./g, "_"), i.change(function () { var t = $(this); t.closest("form").children("." + u).remove(); var o = t.closest(".form-div"), r = $.dform.createElement({ type: "div" }).addClass("form-div " + u).css("display", "none").data("target", i), f = t.val(), e = "default"; if (n.conditions[f] && n.conditions[f].navigate || n.conditions["default"] && n.conditions["default"].navigate || t.trigger("changed.dform.no-navigate"), n.conditions[f]) e = f; else if (!n.conditions["default"]) return; o.after(r); r.dform("run", n.conditions[e]); n.conditions[e].navigate || r.css("display", ""); r.find("select, input:not(:checkbox,:radio,[type=hidden]), textarea").hideLabelOnMobile(); t.closest("[data-function=matchHeights]").children().matchHeight() })); n.defaultValue && i.trigger("change") } function r(n) { var t = $.dform.createElement({ type: "select", "data-placeholder": n.placeholder, name: n.name, id: n.id || n.name }).addClass("form-select custom-select"); return n.options && $.each(n.options, function () { var i = this, f = "Value", u, r; n.valuePropertyName && (f = n.valuePropertyName); u = null; u = n.displayPropertyName ? $("<option>").attr("value", i[f] || "").text(i[n.displayPropertyName]) : $("<option>").attr("value", i[f] || "").text(i.Name); i[f] === n.defaultValue && u.attr("selected", "selected"); for (r in i) i.hasOwnProperty(r) && r !== "Value" && r !== "Name" && (r.toLowerCase() === "isplaceholder" ? u.attr({ disabled: "disabled", value: "", selected: "selected" }).parent().attr("data-placeholder", i.Name) : u.data(r, i[r])); t.append(u) }), t } var t = this; t.addClass("has-select"); typeof n.options == "string" ? $.getJSON(n.options).done(function (t) { n.options = t; i(n) }) : i(n) }); $.dform.subscribe("validateRelated", function (n) { this.attr("data-validate-related", "true"); $('[data-required-relation="name=' + $(this).attr("name") + '"]').data("errorMessageRelated", n).text(n) }); $.dform.addType("multiCol", function () { return $("<div>").addClass("row multi-col__content").attr({ "data-match-height": !1 }) }); $.dform.addType("buttonSubmit", function (n) { return $("<button>").addClass("form-submit").attr("type", "submit").text(n.value) }); $.dform.subscribe("inputMask", function (n) { this.mask(n, { autoclear: !1 }) }); $.dform.subscribe("cols", function (n, t) { if (t === "multiCol") { var i = $(this); n.class && i.addClass(n.class); $.each(n, function (n, t) { var u = t, f = 6, r; $.isArray(t) || (u = t.html, f = t.columnWidth); r = $("<div>").addClass("col").attr("data-column", f); i.append(r); r.dform("run", { html: u }) }) } }); $.dform.options.prefix = "form-"; $.dform.subscribe("[post]", function (n, t) { return ["text", "textarea", "password", "email", "tel"].indexOf(t) > -1 ? $(this).addClass("form-input") : t === "buttonSubmit" ? (this.closest(".form-div").addClass("form-div--submit"), this) : void 0 }); $(function () { var n = "quiz.results"; $(".quiz-module").each(function () { var i = $(this), t = i.find(".quiz-module__question"), r = t.find(":radio[name='quizQuestion']"), u = t.data("questionId"), f = t.data("questionType"); i.on("click", "#proceedToQuiz", function (t) { t.preventDefault(); var i = $(this).attr("href"), e = r.filter(":checked").val(); localStorage.setItem(n, JSON.stringify([{ questionId: u, answer: e, questionType: f }])); document.location.href = i }) }); $(".quiz-section").each(function () { var i = $(this), u = i.find(".quiz__question-progress"), r = i.find(".quiz__question"), e = i.data("resultspage"), o = i.find(".spinner"), f = JSON.parse(localStorage.getItem(n) || "[]"), t = []; r.each(function (n) { var t = $(this), i = t.data("questionId"), r = $("<li>").attr("data-question-id", i).append($("<a>").text(n + 1)); u.append(r) }); u.append("<li class='last-child'><a>&#x2713;<\/a><\/li>"); i.on("mouseenter", "li[data-answer]", function (n) { var t = $(n.currentTarget), i = t.data("imgHover"); t.addClass("selected").find(".quiz__question-answer-icon img").attr("src", i) }).on("mouseleave", "li[data-answer]", function (n) { var t = $(n.currentTarget), i = t.data("img"); t.removeClass("selected").find(".quiz__question-answer-icon img").attr("src", i) }); $(window).on("load", function () { r.hide(); f.length != 0 ? ($.each(f, function (n, i) { var f = $(r[n]); if (f.data("questionId") == i.questionId) t.push(i), u.find("[data-question-id='" + i.questionId + "']").addClass("answered"); else return !1 }), $(r[t.length]).fadeIn()) : r.first().show(); o.fadeOut(); i.children(".wrapper").fadeIn() }); i.on("click", "li[data-answer]", function () { var o = $(this), s, r, h, f, l; o.addClass("selected"); var a = o.data("answer"), i = o.closest(".quiz__question"), c = i.data("questionId"), v = i.data("questionType"); t.push({ questionId: c, answer: a, questionType: v }); localStorage.setItem(n, JSON.stringify(t)); s = u.find("[data-question-id='" + c + "']"); s.addClass("answered"); i.next().is(".quiz__question") ? i.fadeOut(function () { $questionToShow = i.next(); $questionToShow.find("li[data-answer].selected").removeClass("selected"); $questionToShow.fadeIn() }) : (s.next().addClass("answered"), localStorage.removeItem(n), t.length && (r = {}, f = 1, $.each(t, function (n, t) { r[t.questionType] ? (h += parseInt(t.answer), f += 1) : (h = parseInt(t.answer), f = 1); r[t.questionType] = (h / f).toFixed(1) }), l = "?" + $.param(r)), document.location = e + l) }); u.children().click(function (i) { var f, e; i.preventDefault(); f = $(this); f.hasClass("answered") && (f.removeClass("answered").nextAll().removeClass("answered"), e = u.children().index(f), t.splice(e, 10), localStorage.setItem(n, JSON.stringify(t)), r.filter(":visible").fadeOut(500, function () { var n = r.filter("[data-question-id='" + f.data("questionId") + "']"); n.find("li[data-answer].selected").removeClass("selected"); n.fadeIn(500) })) }) }) }), function (n) { function u(t) { function u(n) { return f.filter("[property='og:" + n + "']").attr("content") } var f = n("meta"), r = t.data(), i = {}; return i.title = r.title || u("title") || document.title, i.url = r.url || u("url") || location.href, i.description = r.description || u("description") || "", i.image = r.image || u("image") || "", i.siteName = r.siteName || u("site_name") || "", i.isOpenGraph = i.description || i.image || i.siteName, i } function f(n) { window.open(n, "_blank") } n.fn.shareThis = function () { this.each(function () { var e = n(this), o = e.data("shareThis"), l = u(e), s = r[o], h = s && s(l) || "", c; if (i.indexOf(o) != -1) { e.toggle(n.viewport.isMobile()); n(window).on("resize:device", function () { e.toggle(n.viewport.isMobile()) }) } if (t.indexOf(o) != -1) c = n("<a>").attr("href", h).html(this.innerHTML), e.empty().append(c); else e.on("click", function () { f(h) }) }) }; var t = ["whatsapp"], i = ["whatsapp"], r = { facebook: function (n) { return "https://www.facebook.com/sharer.php?u=" + encodeURIComponent(n.url) + "&quote=" + encodeURIComponent(n.title) + "&display=popup" }, twitter: function (n) { return "http://twitter.com/share?url=" + encodeURIComponent(n.url) + "&text=" + encodeURIComponent(n.title) }, linkedin: function (n) { return "http://www.linkedin.com/shareArticle?mini=true&url=" + encodeURIComponent(n.url) + "&title=" + encodeURIComponent(n.title) + "&summary=" + encodeURIComponent(n.description) }, googleplus: function (n) { return "https://plus.google.com/share?url=" + encodeURIComponent(n.url) }, vk: function (n) { return "http://vkontakte.ru/share.php?url=" + encodeURIComponent(n.url) + "&title=" + encodeURIComponent(n.title) + "&description=" + encodeURIComponent(n.description) + "&image=" + encodeURIComponent(n.image) + "&noparse=true" }, whatsapp: function (n) { return "whatsapp://send?text=" + encodeURIComponent(n.title) + " " + encodeURIComponent(n.description) + "   " + encodeURIComponent(n.url) } } }(jQuery), function (n) { n.fn.tabsSwitch = function () { function t(t, i, r, u) { var e = "tabs", o = i, f = { heightStyle: "content", active: 0, show: !0, hide: !0 }, s; return n.viewport.isMobile() && (e = "accordion", o = r, f.heightStyle = "content", f.activate = function (n, t) { t.newHeader.length && t.newHeader.scrollToElement() }), s = t[u]("instance"), s && (f.active = t[u]("option", "active"), t[u]("destroy")), t.html(o), t[e](f), e } function i(t) { var i = n("<div>"); return t.children("ul").find("a").each(function () { var r = n(this), u = t.find(r.attr("href")); i.append(r).append(u) }), i[0].innerHTML } return this.each(function () { var u = n(this), f = this.innerHTML, e = i(u), r = "tabs"; r = t(u, f, e, r); n(window).on("resize:device", function () { r = t(u, f, e, r) }) }), this } }(jQuery), function (n) { var t = 100, i = n("<img class='lazy-loader' src='/_Images/ui/loader.gif' />"); n("iframe[data-src]").each(function (t, i) { var r = n(i), u; r.data({ width: r.attr("width"), height: r.attr("height") }).attr({ width: 0, height: 0 }); u = r.data("incompatibleBrowsers"); u && u.ie && +u.ie >= document.documentMode && r.remove() }); n("iframe[data-src]").after(i); setTimeout(function () { function i() { n("iframe:not([src])[data-src]").each(function (t, i) { var r = n(i), u; r.isVisibleOnScreen() && (r.attr({ src: r.data("src"), "data-src": "", width: r.data("width"), height: r.data("height") }), u = r.next(), u.is(".lazy-loader") && u.remove()) }) } i(); var r = n.throttle(i, t); n(window).on("scroll", r) }, 1e3) }(jQuery), function () { var t = document.getElementsByTagName("body")[0], n = document.querySelectorAll("[type='execute-with-jquery']"); n.length && [].forEach.call(n, function (n) { var i = document.createElement("script"); i.text = n.innerText; t.appendChild(i); n.parentNode.removeChild(n) }) }(); additionalClasses = "no-touch"; "ontouchstart" in window && (additionalClasses = "touch", ua = navigator.userAgent.toLowerCase(), isAndroid = ua.indexOf("android") > -1, isAndroid || FastClick.attach(document.body)); $("#scPageExtendersForm").length && (additionalClasses += " scEditPreview"), function () { function n(n) { for (var t, u = n.split("&"), f = !1, i, e = "", o = "", s = "", r = 0; r < u.length; r++)t = u[r].split("="), t[0] === "src" && cookies().set("adv", t[1], 360, "/", $("body").data("cookie")), (t[0] === "bTag" || t[0] === "btag") && cookies().set("BTag", t[1], 30, "/", $("body").data("cookie")), t[0] === "cid" && (e = t[1], f = !0), t[0] && t[0].toLowerCase() === "ib" && (o = parseInt(t[1].substring(0, 3), 10), s = parseInt(t[1].substring(3, 10), 10)); f && (i = "mediachannelid=" + o, i += "&mediasourceid=" + s, i += "&txtWebSourceRef=" + e, i += "&txtSearchTerm=" + getSearchTerms(), i += "&txtWebSourceURL=" + getReferrer(), cookies().set("tracking", i, 360, "/", $("body").data("cookie"))) } function t(n) { for (var t, r = n.split("&"), i = 0; i < r.length; i++)t = r[i].split("="), (t[0] === "bTag" || t[0] === "btag") && cookies().set("BTag", t[1], 30, "/", $("body").data("cookie")) } window.location.search.length && t(window.location.search.replace("?", "")); window.location.search.length && (cookies().get("consentCookieAlert") === "1" || $(".consent-cookie__buttons").length === 0) ? n(window.location.search.replace("?", "")) : $(function () { var t = $("#cid_src_advCookiesKey"); t.length && n(t.val()) }) }(), function (n) { var t = n("body"), i = t.data("cookie"), r = function () { var t = n(".show-if-cookie"); t.each(function () { var t = n(this), u = t.data("ifCookieName"), r, f; u && (u = u.split(","), r = !1, f = !1, n.each(u, function (n, i) { var u = cookies().get(i) || ""; if (!u) return n === 0 && t.is('[data-if-cookie-value=""]') ? (r = !0, !1) : void 0; if (n === 0) { if (t.is('[data-if-cookie-value="' + u + '"]')) return r = !0, !1 } else return f = !0, !1 }), !r && f && t.is('[data-if-cookie-value!=""]') && (cookies().set(u[0], 1, 1, "/", i), r = !0), r ? t.removeAttr("hidden") : t.attr("hidden", "hidden")) }) }; t.on("click", ".set-if-cookie", function () { var u = n(this), t = n.extend({ ifCookieValue: 1, ifCookieExpires: 1 }, u.data()); t.ifCookieName && (cookies().set(t.ifCookieName, t.ifCookieValue, t.ifCookieExpires, "/", i), r()) }); r() }(jQuery); misc(); addAdditionalClasses(); $(window).on("resize", function () { addAdditionalClasses() }); $(function () { function n(n) { var t = $(n.currentTarget), u = t.parent().data("expiry") || 360, i = t.data("value"), r = t.closest(".alert-section"), f = r.data("cookieAlert"); cookies().set(f, i, u, "/", $("body").data("cookie")); i === 1 ? window.location.reload() : r.remove() } $(".consent-cookie__buttons > button").on("click", n) }); $(function () { var n, u, f, t, i, r; $("#header").header(); $("img").unveil(200); $(".tabs__list").length && productTabs(); $(".key-benefits-section").each(function () { keyBenefits(this) }); $.executeAfterCssIsLoaded("cssIsLoaded", function () { $(".platform-comparison-section").length && platformComparison(); $(".education-article-detail-filter").length && articleDetailFilter(); $(".multi-col-section").length && multiColModule(); $(".conquer-markets-section").length && conquerTheMarkets() }); $(".latest-research-section").length && latestResearch($(".latest-research-section")); $(".demo-account-modal").length && accountModal(".demo-account-modal"); $(".webinar-registration-section").length && selectDates(); $(".platform-handbooks-filter-module").length && platformHandbooks($(".platform-handbooks__platform")); $(".trading-hours__module").length && tradingHours(); $(".live-trading-rail-module").length && selectDates(); $(".live-trading-sessions-section").length && liveTradingSessionsConfirmation($(".live-trading-sessions-section")); $(".knowledge-center-section").length && knowledgeCenter($(".knowledge-center-section")); $(".my-account-login-modal-section").length && (myAccount(".my-account-login-modal-section #installLink"), form(".my-account-login-modal-section form.my-account-login__form", { mustValidate: !0 })); $(".newsletter-section, .newsletter-module").each(function () { newsletter(this) }); $(".listing-section").filter(":odd").addClass("nth-of-type-odd"); $(".redirect-modal-section").length && (n = $(".redirect-modal-section"), n.removeClass("hidden"), n.find(".continueToRead").click(function (t) { t.preventDefault(); cookies().sessionCookie(n.data("cookieAdvised"), "0;path=/"); u.close() }), n.find(".takeToUserEntity").attr("href", n.data("adivcedUrl")), u = n.remodal({ closeOnEscape: !1, closeOnAnyClick: !1 }), u.open(), $(".multi-col-section").length && multiColModule(), $(".redirect-modal-section.remodal .remodal-close").hide()); $("a.ADD_ENTITY_PREFIX").length > 0 && (f = $("body").data("entity"), $("a.ADD_ENTITY_PREFIX").each(function () { var n = f + $(this).attr("href"); $(this).attr("href", n).removeClass("ADD_ENTITY_PREFIX") })); $("a.APPEND_MARKETING_COOKIE").length > 0 && (t = cookies().get("adv"), t && t !== "" && $("a.APPEND_MARKETING_COOKIE").each(function () { var i = $(this), n = i.attr("href"), r = n.indexOf("?") > 0 ? "&src=" : "?src="; n += r + t; i.attr("href", n).removeClass("APPEND_MARKETING_COOKIE") })); $("a.APPEND_MARKETING_CID_COOKIE").length > 0 && (i = cookies().get("tracking"), r = cookies().get("BTag"), (i && i !== "" || r && r !== "") && $("a.APPEND_MARKETING_CID_COOKIE").each(function () { var t = $(this), n = t.attr("href"), u = n.indexOf("?") > 0 ? "&" : "?"; n += u + (i || "") + "&bTag=" + (r || ""); t.attr("href", n).removeClass("APPEND_MARKETING_CID_COOKIE") })); $(".international-section").length && internationalLandingPage($(".international-section")); typeof bannerArea != "undefined" && bannerArea($(".banner-area-section")); typeof blocks != "undefined" && blocks($(".block__group")); $(".tabs-switch-module > .wrapper").tabsSwitch(); typeof productSummaryDetails != "undefined" && productSummaryDetails($(".product-summary-details")) }), function (n) { function l(n) { return "[object Function]" === ht.call(n) } function a(n) { return "[object Array]" === ht.call(n) } function f(n, t) { if (n) for (var i = 0; i < n.length && (!n[i] || !t(n[i], i, n)); i += 1); } function tt(n, t) { if (n) for (var i = n.length - 1; -1 < i && (!n[i] || !t(n[i], i, n)); i -= 1); } function r(n, t) { return pt.call(n, t) } function i(n, t) { return r(n, t) && n[t] } function h(n, t) { for (var i in n) if (r(n, i) && t(n[i], i)) break } function it(n, t, i, u) { return t && h(t, function (t, f) { (i || !r(n, f)) && (u && "object" == typeof t && t && !a(t) && !l(t) && !(t instanceof RegExp) ? (n[f] || (n[f] = {}), it(n[f], t, i, u)) : n[f] = t) }), n } function u(n, t) { return function () { return t.apply(n, arguments) } } function et(n) { throw n; } function ot(t) { if (!t) return t; var i = n; return f(t.split("."), function (n) { i = i[n] }), i } function c(n, t, i, r) { return t = Error(t + "\nhttp://requirejs.org/docs/errors.html#" + n), t.requireType = n, t.requireModules = r, i && (t.originalError = i), t } function lt(e) { function ut(n, t, r) { var e, u, f, o, s, a, h, y, t = t && t.split("/"), c = v.map, l = c && c["*"]; if (n) { for (n = n.split("/"), u = n.length - 1, v.nodeIdCompat && g.test(n[u]) && (n[u] = n[u].replace(g, "")), "." === n[0].charAt(0) && t && (u = t.slice(0, t.length - 1), n = u.concat(n)), u = n, f = 0; f < u.length; f++)(o = u[f], "." === o) ? (u.splice(f, 1), f -= 1) : ".." === o && !(0 === f || 1 == f && ".." === u[2] || ".." === u[f - 1]) && 0 < f && (u.splice(f - 1, 2), f -= 2); n = n.join("/") } if (r && c && (t || l)) { u = n.split("/"); f = u.length; n: for (; 0 < f; f -= 1) { if (s = u.slice(0, f).join("/"), t) for (o = t.length; 0 < o; o -= 1)if ((r = i(c, t.slice(0, o).join("/"))) && (r = i(r, s))) { e = r; a = f; break n } !h && l && i(l, s) && (h = i(l, s), y = f) } !e && h && (e = h, a = y); e && (u.splice(0, a, e), n = u.join("/")) } return (e = i(v.pkgs, n)) ? e : n } function ei(n) { o && f(document.getElementsByTagName("script"), function (t) { if (t.getAttribute("data-requiremodule") === n && t.getAttribute("data-requirecontext") === s.contextName) return t.parentNode.removeChild(t), !0 }) } function vt(n) { var t = i(v.paths, n); if (t && a(t) && 1 < t.length) return t.shift(), s.require.undef(n), s.makeRequire(null, { skipMap: !0 })([n]), !0 } function oi(n) { var i, t = n ? n.indexOf("!") : -1; return -1 < t && (i = n.substring(0, t), n = n.substring(t + 1, n.length)), [i, n] } function k(n, t, r, u) { var c, o, f = null, h = t ? t.name : null, a = n, l = !0, e = ""; return n || (l = !1, n = "_@r" + (li += 1)), n = oi(n), f = n[0], n = n[1], f && (f = ut(f, h, u), o = i(w, f)), n && (f ? e = o && o.normalize ? o.normalize(n, function (n) { return ut(n, h, u) }) : -1 === n.indexOf("!") ? ut(n, h, u) : n : (e = ut(n, h, u), n = oi(e), f = n[0], e = n[1], r = !0, c = s.nameToUrl(e))), r = f && !o && !r ? "_unnormalized" + (ai += 1) : "", { prefix: f, name: e, parentMap: t, unnormalized: !!r, url: c, originalName: a, isDefine: l, id: (f ? f + "!" + e : e) + r } } function st(n) { var r = n.id, t = i(y, r); return t || (t = y[r] = new s.Module(n)), t } function ht(n, t, u) { var e = n.id, f = i(y, e); if (r(w, e) && (!f || f.defineEmitComplete)) "defined" === t && u(w[e]); else if (f = st(n), f.error && "error" === t) u(f.error); else f.on(t, u) } function d(n, r) { var e = n.requireModules, u = !1; if (r) r(n); else if (f(e, function (t) { (t = i(y, t)) && (t.error = n, t.events.error && (u = !0, t.emit("error", n))) }), !u) t.onError(n) } function pt() { nt.length && (wt.apply(rt, [rt.length, 0].concat(nt)), nt = []) } function kt(n) { delete y[n]; delete ri[n] } function si(n, t, r) { var u = n.map.id; n.error ? n.emit("error", n.error) : (t[u] = !0, f(n.depMaps, function (u, f) { var e = u.id, o = i(y, e); !o || n.depMatched[f] || r[e] || (i(t, e) ? (n.defineDep(f, w[e]), n.check()) : si(o, t, r)) }), r[u] = !0) } function dt() { var n, u, i = (n = 1e3 * v.waitSeconds) && s.startTime + n < (new Date).getTime(), t = [], e = [], r = !1, l = !0; if (!ni) { if (ni = !0, h(ri, function (n) { var f = n.map, o = f.id; if (n.enabled && (f.isDefine || e.push(n), !n.error)) if (!n.inited && i) vt(o) ? r = u = !0 : (t.push(o), ei(o)); else if (!n.inited && n.fetched && f.isDefine && (r = !0, !f.prefix)) return l = !1 }), i && t.length) return n = c("timeout", "Load timeout for modules: " + t, null, t), n.contextName = s.contextName, d(n); l && f(e, function (n) { si(n, {}, {}) }); (!i || u) && r && (o || ct) && !ii && (ii = setTimeout(function () { ii = 0; dt() }, 50)); ni = !1 } } function gt(n) { r(w, n[0]) || st(k(n[0], null, !0)).init(n[1], n[2]) } function hi(n) { var n = n.currentTarget || n.srcElement, t = s.onScriptLoad; return n.detachEvent && !ft ? n.detachEvent("onreadystatechange", t) : n.removeEventListener("load", t, !1), t = s.onScriptError, (!n.detachEvent || ft) && n.removeEventListener("error", t, !1), { node: n, id: n && n.getAttribute("data-requiremodule") } } function ci() { var n; for (pt(); rt.length;) { if (n = rt.shift(), null === n[0]) return d(c("mismatch", "Mismatched anonymous define() module: " + n[n.length - 1])); gt(n) } } var ni, ti, s, lt, ii, v = { waitSeconds: 7, baseUrl: "./", paths: {}, bundles: {}, pkgs: {}, shim: {}, config: {} }, y = {}, ri = {}, ui = {}, rt = [], w = {}, at = {}, fi = {}, li = 1, ai = 1; return lt = { require: function (n) { return n.require ? n.require : n.require = s.makeRequire(n.map) }, exports: function (n) { return n.usingExports = !0, n.map.isDefine ? n.exports ? w[n.map.id] = n.exports : n.exports = w[n.map.id] = {} : void 0 }, module: function (n) { return n.module ? n.module : n.module = { id: n.map.id, uri: n.map.url, config: function () { return i(v.config, n.map.id) || {} }, exports: n.exports || (n.exports = {}) } } }, ti = function (n) { this.events = i(ui, n.id) || {}; this.map = n; this.shim = i(v.shim, n.id); this.depExports = []; this.depMaps = []; this.depMatched = []; this.pluginMaps = {}; this.depCount = 0 }, ti.prototype = { init: function (n, t, i, r) { if (r = r || {}, !this.inited) { if (this.factory = t, i) this.on("error", i); else this.events.error && (i = u(this, function (n) { this.emit("error", n) })); this.depMaps = n && n.slice(0); this.errback = i; this.inited = !0; this.ignore = r.ignore; r.enabled || this.enabled ? this.enable() : this.check() } }, defineDep: function (n, t) { this.depMatched[n] || (this.depMatched[n] = !0, this.depCount -= 1, this.depExports[n] = t) }, fetch: function () { if (!this.fetched) { this.fetched = !0; s.startTime = (new Date).getTime(); var n = this.map; if (this.shim) s.makeRequire(this.map, { enableBuildCallback: !0 })(this.shim.deps || [], u(this, function () { return n.prefix ? this.callPlugin() : this.load() })); else return n.prefix ? this.callPlugin() : this.load() } }, load: function () { var n = this.map.url; at[n] || (at[n] = !0, s.load(this.map.id, n)) }, check: function () { var i, r, u, n, f; if (this.enabled && !this.enabling) if (u = this.map.id, r = this.depExports, n = this.exports, f = this.factory, this.inited) { if (this.error) this.emit("error", this.error); else if (!this.defining) { if (this.defining = !0, 1 > this.depCount && !this.defined) { if (l(f)) { if (this.events.error && this.map.isDefine || t.onError !== et) try { n = s.execCb(u, f, r, n) } catch (e) { i = e } else n = s.execCb(u, f, r, n); if (this.map.isDefine && void 0 === n && ((r = this.module) ? n = r.exports : this.usingExports && (n = this.exports)), i) return i.requireMap = this.map, i.requireModules = this.map.isDefine ? [this.map.id] : null, i.requireType = this.map.isDefine ? "define" : "require", d(this.error = i) } else n = f; if (this.exports = n, this.map.isDefine && !this.ignore && (w[u] = n, t.onResourceLoad)) t.onResourceLoad(s, this.map, this.depMaps); kt(u); this.defined = !0 } this.defining = !1; this.defined && !this.defineEmitted && (this.defineEmitted = !0, this.emit("defined", this.exports), this.defineEmitComplete = !0) } } else this.fetch() }, callPlugin: function () { var n = this.map, f = n.id, e = k(n.prefix); this.depMaps.push(e); ht(e, "defined", u(this, function (e) { var o, l = i(fi, this.map.id); var a = this.map.name, w = this.map.parentMap ? this.map.parentMap.name : null, p = s.makeRequire(n.parentMap, { enableBuildCallback: !0 }); if (this.map.unnormalized) { if (e.normalize && (a = e.normalize(a, function (n) { return ut(n, w, !0) }) || ""), e = k(n.prefix + "!" + a, this.map.parentMap), ht(e, "defined", u(this, function (n) { this.init([], function () { return n }, null, { enabled: !0, ignore: !0 }) })), l = i(y, e.id)) { if (this.depMaps.push(e), this.events.error) l.on("error", u(this, function (n) { this.emit("error", n) })); l.enable() } } else l ? (this.map.url = s.nameToUrl(l), this.load()) : (o = u(this, function (n) { this.init([], function () { return n }, null, { enabled: !0 }) }), o.error = u(this, function (n) { this.inited = !0; this.error = n; n.requireModules = [f]; h(y, function (n) { 0 === n.map.id.indexOf(f + "_unnormalized") && kt(n.map.id) }); d(n) }), o.fromText = u(this, function (i, u) { var e = n.name, h = k(e), l = b; u && (i = u); l && (b = !1); st(h); r(v.config, f) && (v.config[e] = v.config[f]); try { t.exec(i) } catch (a) { return d(c("fromtexteval", "fromText eval for " + f + " failed: " + a, a, [f])) } l && (b = !0); this.depMaps.push(h); s.completeLoad(e); p([e], o) }), e.load(n.name, p, o, v)) })); s.enable(e, this); this.pluginMaps[e.id] = e }, enable: function () { ri[this.map.id] = this; this.enabling = this.enabled = !0; f(this.depMaps, u(this, function (n, t) { var f, e; if ("string" == typeof n) { if (n = k(n, this.map.isDefine ? this.map : this.map.parentMap, !1, !this.skipMap), this.depMaps[t] = n, f = i(lt, n.id)) { this.depExports[t] = f(this); return } this.depCount += 1; ht(n, "defined", u(this, function (n) { this.defineDep(t, n); this.check() })); this.errback ? ht(n, "error", u(this, this.errback)) : this.events.error && ht(n, "error", u(this, function (n) { this.emit("error", n) })) } f = n.id; e = y[f]; r(lt, f) || !e || e.enabled || s.enable(n, this) })); h(this.pluginMaps, u(this, function (n) { var t = i(y, n.id); t && !t.enabled && s.enable(n, this) })); this.enabling = !1; this.check() }, on: function (n, t) { var i = this.events[n]; i || (i = this.events[n] = []); i.push(t) }, emit: function (n, t) { f(this.events[n], function (n) { n(t) }); "error" === n && delete this.events[n] } }, s = { config: v, contextName: e, registry: y, defined: w, urlFetched: at, defQueue: rt, Module: ti, makeModuleMap: k, nextTick: t.nextTick, onError: d, configure: function (n) { n.baseUrl && "/" !== n.baseUrl.charAt(n.baseUrl.length - 1) && (n.baseUrl += "/"); var t = v.shim, i = { paths: !0, bundles: !0, config: !0, map: !0 }; h(n, function (n, t) { i[t] ? (v[t] || (v[t] = {}), it(v[t], n, !0, !0)) : v[t] = n }); n.bundles && h(n.bundles, function (n, t) { f(n, function (n) { n !== t && (fi[n] = t) }) }); n.shim && (h(n.shim, function (n, i) { a(n) && (n = { deps: n }); (n.exports || n.init) && !n.exportsFn && (n.exportsFn = s.makeShimExports(n)); t[i] = n }), v.shim = t); n.packages && f(n.packages, function (n) { var t, n = "string" == typeof n ? { name: n } : n; t = n.name; n.location && (v.paths[t] = n.location); v.pkgs[t] = n.name + "/" + (n.main || "main").replace(yt, "").replace(g, "") }); h(y, function (n, t) { n.inited || n.map.unnormalized || (n.map = k(t)) }); (n.deps || n.callback) && s.require(n.deps || [], n.callback) }, makeShimExports: function (t) { return function () { var i; return t.init && (i = t.init.apply(n, arguments)), i || t.exports && ot(t.exports) } }, makeRequire: function (n, u) { function f(i, o, h) { var a, v; return (u.enableBuildCallback && o && l(o) && (o.__requireJsBuild = !0), "string" == typeof i) ? l(o) ? d(c("requireargs", "Invalid require call"), h) : n && r(lt, i) ? lt[i](y[n.id]) : t.get ? t.get(s, i, n, f) : (a = k(i, n, !1, !0), a = a.id, r(w, a) ? w[a] : d(c("notloaded", 'Module name "' + a + '" has not been loaded yet for context: ' + e + (n ? "" : ". Use require([])")))) : (ci(), s.nextTick(function () { ci(); v = st(k(null, n)); v.skipMap = u.skipMap; v.init(i, o, h, { enabled: !0 }); dt() }), f) } return u = u || {}, it(f, { isBrowser: o, toUrl: function (t) { var r, i = t.lastIndexOf("."), u = t.split("/")[0]; return -1 !== i && (!("." === u || ".." === u) || 1 < i) && (r = t.substring(i, t.length), t = t.substring(0, i)), s.nameToUrl(ut(t, n && n.id, !0), r, !0) }, defined: function (t) { return r(w, k(t, n, !1, !0).id) }, specified: function (t) { return t = k(t, n, !1, !0).id, r(w, t) || r(y, t) } }), n || (f.undef = function (t) { pt(); var u = k(t, n, !0), r = i(y, t); ei(t); delete w[t]; delete at[u.url]; delete ui[t]; tt(rt, function (n, i) { n[0] === t && rt.splice(i, 1) }); r && (r.events.defined && (ui[t] = r.events), kt(t)) }), f }, enable: function (n) { i(y, n.id) && st(n).enable() }, completeLoad: function (n) { var u, t, f = i(v.shim, n) || {}, e = f.exports; for (pt(); rt.length;) { if (t = rt.shift(), null === t[0]) { if (t[0] = n, u) break; u = !0 } else t[0] === n && (u = !0); gt(t) } if (t = i(y, n), !u && !r(w, n) && t && !t.inited) { if (v.enforceDefine && (!e || !ot(e))) return vt(n) ? void 0 : d(c("nodefine", "No define call for " + n, null, [n])); gt([n, f.deps || [], f.exportsFn]) } dt() }, nameToUrl: function (n, r, u) { var f, o, e; if ((f = i(v.pkgs, n)) && (n = f), f = i(fi, n)) return s.nameToUrl(f, r, u); if (t.jsExtRegExp.test(n)) f = n + (r || ""); else { for (f = v.paths, n = n.split("/"), o = n.length; 0 < o; o -= 1)if (e = n.slice(0, o).join("/"), e = i(f, e)) { a(e) && (e = e[0]); n.splice(0, o, e); break } f = n.join("/"); f += r || (/^data\:|\?/.test(f) || u ? "" : ".js"); f = ("/" === f.charAt(0) || f.match(/^[\w\+\.\-]+:/) ? "" : v.baseUrl) + f } return v.urlArgs ? f + ((-1 === f.indexOf("?") ? "?" : "&") + v.urlArgs) : f }, load: function (n, i) { t.load(s, n, i) }, execCb: function (n, t, i, r) { return t.apply(r, i) }, onScriptLoad: function (n) { ("load" === n.type || bt.test((n.currentTarget || n.srcElement).readyState)) && (p = null, n = hi(n), s.completeLoad(n.id)) }, onScriptError: function (n) { var t = hi(n); if (!vt(t.id)) return d(c("scripterror", "Script error for: " + t.id, n, [t.id])) } }, s.require = s.makeRequire(), s } var t, v, y, k, rt, d, p, ut, e, st, at = /(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg, vt = /[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g, g = /\.js$/, yt = /^\.\//; v = Object.prototype; var ht = v.toString, pt = v.hasOwnProperty, wt = Array.prototype.splice, o = !!("undefined" != typeof window && "undefined" != typeof navigator && window.document), ct = !o && "undefined" != typeof importScripts, bt = o && "PLAYSTATION 3" === navigator.platform ? /^complete$/ : /^(complete|loaded)$/, ft = "undefined" != typeof opera && "[object Opera]" === opera.toString(), w = {}, s = {}, nt = [], b = !1; if ("undefined" == typeof define) { if ("undefined" != typeof requirejs) { if (l(requirejs)) return; s = requirejs; requirejs = void 0 } "undefined" == typeof require || l(require) || (s = require, require = void 0); t = requirejs = function (n, r, u, f) { var e, o = "_"; return a(n) || "string" == typeof n || (e = n, a(r) ? (n = r, r = u, u = f) : n = []), e && e.context && (o = e.context), (f = i(w, o)) || (f = w[o] = t.s.newContext(o)), e && f.configure(e), f.require(n, r, u) }; t.config = function (n) { return t(n) }; t.nextTick = "undefined" != typeof setTimeout ? function (n) { setTimeout(n, 4) } : function (n) { n() }; require || (require = t); t.version = "2.1.16"; t.jsExtRegExp = /^\/|:|\?|\.js$/; t.isBrowser = o; v = t.s = { contexts: w, newContext: lt }; t({}); f(["toUrl", "undef", "defined", "specified"], function (n) { t[n] = function () { var t = w._; return t.require[n].apply(t, arguments) } }); o && (y = v.head = document.getElementsByTagName("head")[0], k = document.getElementsByTagName("base")[0]) && (y = v.head = k.parentNode); t.onError = et; t.createNode = function (n) { var t = n.xhtml ? document.createElementNS("http://www.w3.org/1999/xhtml", "html:script") : document.createElement("script"); return t.type = n.scriptType || "text/javascript", t.charset = "utf-8", t.async = !0, t }; t.load = function (n, i, r) { var u = n && n.config || {}; if (o) return u = t.createNode(u, i, r), u.setAttribute("data-requirecontext", n.contextName), u.setAttribute("data-requiremodule", i), u.attachEvent && !(u.attachEvent.toString && 0 > u.attachEvent.toString().indexOf("[native code")) && !ft ? (b = !0, u.attachEvent("onreadystatechange", n.onScriptLoad)) : (u.addEventListener("load", n.onScriptLoad, !1), u.addEventListener("error", n.onScriptError, !1)), u.src = r, ut = u, k ? y.insertBefore(u, k) : y.appendChild(u), ut = null, u; if (ct) try { importScripts(r); n.completeLoad(i) } catch (f) { n.onError(c("importscripts", "importScripts failed for " + i + " at " + r, f, [i])) } }; o && !s.skipDataMain && tt(document.getElementsByTagName("script"), function (n) { return y || (y = n.parentNode), (rt = n.getAttribute("data-main")) ? (e = rt, s.baseUrl || (d = e.split("/"), e = d.pop(), st = d.length ? d.join("/") + "/" : "./", s.baseUrl = st), e = e.replace(g, ""), t.jsExtRegExp.test(e) && (e = rt), s.deps = s.deps ? s.deps.concat(e) : [e], !0) : void 0 }); define = function (n, t, i) { var r, u; "string" != typeof n && (i = t, t = n, n = null); a(t) || (i = t, t = null); !t && l(i) && (t = [], i.length && (i.toString().replace(at, "").replace(vt, function (n, i) { t.push(i) }), t = (1 === i.length ? ["require"] : ["require", "exports", "module"]).concat(t))); b && ((r = ut) || (p && "interactive" === p.readyState || tt(document.getElementsByTagName("script"), function (n) { if ("interactive" === n.readyState) return p = n }), r = p), r && (n || (n = r.getAttribute("data-requiremodule")), u = w[r.getAttribute("data-requirecontext")])); (u ? u.defQueue : nt).push([n, t, i]) }; define.amd = { jQuery: !0 }; t.exec = function (b) { return eval(b) }; t(s) } }(this), function () { var n = "", u, t, i, r, f; for (typeof scriptsVersion != "undefined" && (n = ".js?v=" + window.scriptsVersion), require.config({ baseUrl: "/_JS", paths: { knockout: "library/knockout-3.3.0" + n, "knockout-helpers": "partials/ko/handlers" + n, "knockout-extenders": "partials/ko/extenders" + n, scrollspy: "plugins/jquery.scrollspy" + n, echarts: "plugins/echarts.min" + n, smartAppBanner: "plugins/smart-app-banner" + n, appBanner: "partials/app-banner" + n, baseProduct: "partials/ko/models/base-product" + n, productLiveRates: "partials/ko/models/product-live-rates" + n, glossaryAlphabetBar: "partials/ko/models/glossary-alphabet-bar" + n, themes: "partials/ko/models/themes" + n, currentRates: "partials/ko/models/current-rates" + n, mostActiveMarkets: "partials/ko/models/most-active-markets" + n, bidAskBar: "partials/ko/models/bid-ask-bar" + n, quoteBoard: "partials/ko/models/quote-board" + n, swapRates: "partials/ko/models/swap-rates" + n, clientSentiment: "partials/ko/models/client-sentiment" + n, relatedMarkets: "partials/ko/models/related-markets" + n, marginPipCalculator: "partials/ko/models/margin-pip-calculator" + n, pivotPoints: "partials/ko/models/pivot-points" + n, currencyConverter: "partials/ko/models/currency-converter" + n, mostPopularMarkets: "partials/ko/models/most-popular-markets" + n, search: "partials/ko/models/search" + n, footerCommentForm: "partials/footer-comment-form" + n, chart: "partials/charts/chart" + n, horizontalBarChart: "partials/charts/horizontalBarChart" + n, pieChart: "partials/charts/pieChart" + n, tileChart: "partials/charts/tileChart" + n, triangleChart: "partials/charts/triangleChart" + n, verticalBarChart: "partials/charts/verticalBarChart" + n, triangleChartView: "partials/charts/triangle/triangleView" + n, viewportOptions: "partials/charts/viewportOptions" + n } }), $("[data-apply-ko]").each(function () { var n = $(this), t = $.extend(n.data() || {}, { siteId: $("#SiteSpecificConfigId").val(), siteName: $("#SiteContextName").val() }); require(["knockout", n.data("applyKo")], function (i, r) { i.applyBindings(new r(n, t), n[0]) }) }), u = window.location.search.slice(1).split("&"), i = 0; i < u.length; i++)if (r = u[i].split("="), r[0].toLowerCase() === "workflowitemid") { t = r.length === 2 ? decodeURIComponent(r[1]) : ""; break } t && t.length > 0 && require(["footerCommentForm"], function (n) { n(t) }); $("[data-chart]").length && require(["chart"], function (n) { $("[data-chart]").each(function () { var t = $(this), i = t.data("chart"); new n(i, t) }) }); f = $("head > meta"); !$.viewport.isDesktop() && (f.filter("[name='google-play-app']") || f.filter("[name='apple-itunes-app-custom']")) && require(["appBanner"], function (n) { n() }) }(); $(document).ready(function () { if ($("#sfGoogleGUID").length) { var t = setTimeout(function () { n() }, 5e3); function n() { function r(n) { n += "="; for (var i = document.cookie.split(/;\s*/), t = i.length - 1; t >= 0; t--)if (!i[t].indexOf(n)) return i[t].replace(n, "") } var t = r("_ga"), n, i; if (t != undefined && (n = t.split("."), n.length > 2)) { i = n[2]; try { $("#sfGoogleGUID").val(i) } catch (u) { } } } } })